<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Xenojoshua</title>
		<description>Joshua's Xeno World!</description>
		<link>https://xenojoshua.com</link>
		<atom:link href="https://xenojoshua.com/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>grpc-tools@1.8.1 安装问题</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-问题&quot; id=&quot;markdown-toc-1-问题&quot;&gt;1. 问题&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-解决&quot; id=&quot;markdown-toc-2-解决&quot;&gt;2. 解决&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-问题&quot;&gt;1. 问题&lt;/h2&gt;
&lt;p&gt;安装最新版本&lt;code&gt;grpc-tools@1.8.1&lt;/code&gt;的时候遇到了不少问题，这里做下记录。&lt;/p&gt;

&lt;p&gt;环境：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# OS
# MacOS@10.14.6
$ node --version
# v10.15.2
$ npm --version
# 6.14.4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;安装1.8.1版本的时候，直接使用npm进行会报错：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm install grpc-tools@1.8.1 -g

npm install grpc-tools@1.8.1 -g
/usr/local/bin/grpc_tools_node_protoc -&amp;gt; /usr/local/lib/node_modules/grpc-tools/bin/protoc.js
/usr/local/bin/grpc_tools_node_protoc_plugin -&amp;gt; /usr/local/lib/node_modules/grpc-tools/bin/protoc_plugin.js

&amp;gt; grpc-tools@1.8.1 install /usr/local/lib/node_modules/grpc-tools
&amp;gt; node-pre-gyp install

node-pre-gyp WARN Using needle for node-pre-gyp https download
node-pre-gyp ERR! install error
node-pre-gyp ERR! stack Error: 503 status code downloading tarball https://node-precompiled-binaries.grpc.io/grpc-tools/v1.8.1/darwin-x64.tar.gz
node-pre-gyp ERR! stack     at PassThrough.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/grpc-tools/node_modules/node-pre-gyp/lib/install.js:149:27)
node-pre-gyp ERR! stack     at PassThrough.emit (events.js:194:15)
node-pre-gyp ERR! stack     at ClientRequest.&amp;lt;anonymous&amp;gt; (/usr/local/lib/node_modules/grpc-tools/node_modules/needle/lib/needle.js:482:9)
node-pre-gyp ERR! stack     at Object.onceWrapper (events.js:277:13)
node-pre-gyp ERR! stack     at ClientRequest.emit (events.js:189:13)
node-pre-gyp ERR! stack     at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:556:21)
node-pre-gyp ERR! stack     at HTTPParser.parserOnHeadersComplete (_http_common.js:109:17)
node-pre-gyp ERR! stack     at Socket.socketOnData (_http_client.js:442:20)
node-pre-gyp ERR! stack     at Socket.emit (events.js:189:13)
node-pre-gyp ERR! stack     at addChunk (_stream_readable.js:284:12)
node-pre-gyp ERR! System Darwin 18.7.0
node-pre-gyp ERR! command &quot;/usr/local/bin/node&quot; &quot;/usr/local/lib/node_modules/grpc-tools/node_modules/.bin/node-pre-gyp&quot; &quot;install&quot;
node-pre-gyp ERR! cwd /usr/local/lib/node_modules/grpc-tools
node-pre-gyp ERR! node -v v10.15.2
node-pre-gyp ERR! node-pre-gyp -v v0.12.0
node-pre-gyp ERR! not ok
503 status code downloading tarball https://node-precompiled-binaries.grpc.io/grpc-tools/v1.8.1/darwin-x64.tar.gz
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! grpc-tools@1.8.1 install: `node-pre-gyp install`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the grpc-tools@1.8.1 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/Jonathan/.npm/_logs/2020-04-22T01_31_02_124Z-debug.log
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;2-解决&quot;&gt;2. 解决&lt;/h2&gt;
&lt;p&gt;多番尝试之后，直接下载&lt;a href=&quot;https://github.com/grpc/grpc-node&quot; target=&quot;_blank&quot;&gt;https://github.com/grpc/grpc-node&lt;/a&gt;代码到本地，然后将解压文件中的&lt;code&gt;packages/grpc-tools&lt;/code&gt;拷贝到&lt;code&gt;/usr/local/lib/node_modules&lt;/code&gt;文件夹下。&lt;/p&gt;

&lt;p&gt;这样就能使用npm命令检查到这个包了（虽然仍有部分报错信息）：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm list -g --depth=0 | grep grpc-tools
# ├── grpc-tools@1.8.1
# npm ERR! missing: node-pre-gyp@^0.12.0, required by grpc-tools@1.8.1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;但实际使用的时候仍旧会有问题：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Error: spawn /usr/local/lib/node_modules/grpc-tools/bin/protoc ENOENT
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;意思是说找不到包下的bin文件夹下的&lt;code&gt;protoc&lt;/code&gt;文件，之前bin文件的链接是这么做的：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/usr/local/bin/grpc_tools_node_protoc -&amp;gt; /usr/local/lib/node_modules/grpc-tools/bin/protoc.js
/usr/local/bin/grpc_tools_node_protoc_plugin -&amp;gt; /usr/local/lib/node_modules/grpc-tools/bin/protoc_plugin.js
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;包的bin文件夹下面也确实有这两个js文件，但确实没有不带js后缀的bin文件。&lt;/p&gt;

&lt;p&gt;然后下载了之前安装错误时候提到的那个tar包：&lt;a href=&quot;https://node-precompiled-binaries.grpc.io/grpc-tools/v1.8.1/darwin-x64.tar.gz&quot; target=&quot;_blank&quot;&gt;https://node-precompiled-binaries.grpc.io/grpc-tools/v1.8.1/darwin-x64.tar.gz&lt;/a&gt;，解压之后发现里面就只有一个bin文件夹，而文件夹内就正好有两个不带js后缀的bin文件，将这两个解压出来的文件放到&lt;code&gt;/usr/local/lib/node_modules/grpc-tools/bin&lt;/code&gt;下。后续就能正常使用了。&lt;/p&gt;

&lt;p&gt;至于为什么会503报错，以及为什么bin文件夹下有两套文件，这个就暂时先不去考虑了。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Wed, 22 Apr 2020 09:52:22 +0800</pubDate>
				<link>https://xenojoshua.com/2020/04/grpc-tools/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2020/04/grpc-tools/</guid>
			</item>
		
			<item>
				<title>日语自学笔记</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-学习经验&quot; id=&quot;markdown-toc-1-学习经验&quot;&gt;1. 学习经验&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#11-自我介绍&quot; id=&quot;markdown-toc-11-自我介绍&quot;&gt;1.1 自我介绍&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#12-核心语法点学习路线推荐&quot; id=&quot;markdown-toc-12-核心语法点学习路线推荐&quot;&gt;1.2 核心语法点学习路线推荐&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#13-娱乐与学习&quot; id=&quot;markdown-toc-13-娱乐与学习&quot;&gt;1.3 娱乐与学习&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-学习资源&quot; id=&quot;markdown-toc-2-学习资源&quot;&gt;2. 学习资源&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-学校语法--教育语法&quot; id=&quot;markdown-toc-21-学校语法--教育语法&quot;&gt;2.1 学校语法 / 教育语法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-出口日语--大家的日本语&quot; id=&quot;markdown-toc-22-出口日语--大家的日本语&quot;&gt;2.2 出口日语 / 大家的日本语&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#23-时雨日语&quot; id=&quot;markdown-toc-23-时雨日语&quot;&gt;2.3 时雨日语&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#24-japanese-grammar-guide--日语语法指南&quot; id=&quot;markdown-toc-24-japanese-grammar-guide--日语语法指南&quot;&gt;2.4 Japanese Grammar Guide / 日语语法指南&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#25-标准日语语法顾明耀版&quot; id=&quot;markdown-toc-25-标准日语语法顾明耀版&quot;&gt;2.5 标准日语语法顾明耀版&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#26-其他&quot; id=&quot;markdown-toc-26-其他&quot;&gt;2.6 其他&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#27-软件&quot; id=&quot;markdown-toc-27-软件&quot;&gt;2.7 软件&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-基础&quot; id=&quot;markdown-toc-3-基础&quot;&gt;3. 基础&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#31-五十音&quot; id=&quot;markdown-toc-31-五十音&quot;&gt;3.1 五十音&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#32-基本发音&quot; id=&quot;markdown-toc-32-基本发音&quot;&gt;3.2 基本发音&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-动词&quot; id=&quot;markdown-toc-4-动词&quot;&gt;4. 动词&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#41-活用&quot; id=&quot;markdown-toc-41-活用&quot;&gt;4.1 活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#42-活用形&quot; id=&quot;markdown-toc-42-活用形&quot;&gt;4.2 活用形&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#421-未然形&quot; id=&quot;markdown-toc-421-未然形&quot;&gt;4.2.1 未然形&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#422-连用形&quot; id=&quot;markdown-toc-422-连用形&quot;&gt;4.2.2 连用形&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#453-终止形&quot; id=&quot;markdown-toc-453-终止形&quot;&gt;4.5.3 终止形&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#454-连体形&quot; id=&quot;markdown-toc-454-连体形&quot;&gt;4.5.4 连体形&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#455-假定形&quot; id=&quot;markdown-toc-455-假定形&quot;&gt;4.5.5 假定形&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#456-命令形&quot; id=&quot;markdown-toc-456-命令形&quot;&gt;4.5.6 命令形&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#43-动词分类&quot; id=&quot;markdown-toc-43-动词分类&quot;&gt;4.3 动词分类&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#44-活用的规律&quot; id=&quot;markdown-toc-44-活用的规律&quot;&gt;4.4 活用的规律&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#441-五段动词&quot; id=&quot;markdown-toc-441-五段动词&quot;&gt;4.4.1 五段动词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#442-一段动词&quot; id=&quot;markdown-toc-442-一段动词&quot;&gt;4.4.2 一段动词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#443-サ变动词&quot; id=&quot;markdown-toc-443-サ变动词&quot;&gt;4.4.3 サ变动词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#444-カ变动词&quot; id=&quot;markdown-toc-444-カ变动词&quot;&gt;4.4.4 カ变动词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#446-音便&quot; id=&quot;markdown-toc-446-音便&quot;&gt;4.4.6 音便&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#45-活用的范式&quot; id=&quot;markdown-toc-45-活用的范式&quot;&gt;4.5 活用的范式&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5-形容词&quot; id=&quot;markdown-toc-5-形容词&quot;&gt;5. 形容词&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#51-活用&quot; id=&quot;markdown-toc-51-活用&quot;&gt;5.1 活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#52-活用的规律&quot; id=&quot;markdown-toc-52-活用的规律&quot;&gt;5.2 活用的规律&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#53-活用的范式&quot; id=&quot;markdown-toc-53-活用的范式&quot;&gt;5.3 活用的范式&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6-形容动词&quot; id=&quot;markdown-toc-6-形容动词&quot;&gt;6. 形容动词&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#61-活用&quot; id=&quot;markdown-toc-61-活用&quot;&gt;6.1 活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#62-活用的规律&quot; id=&quot;markdown-toc-62-活用的规律&quot;&gt;6.2 活用的规律&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#63-活用的范式&quot; id=&quot;markdown-toc-63-活用的范式&quot;&gt;6.3 活用的范式&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#7-动词的体时态&quot; id=&quot;markdown-toc-7-动词的体时态&quot;&gt;7. 动词的体、时、态&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#71-理解动词的体时态&quot; id=&quot;markdown-toc-71-理解动词的体时态&quot;&gt;7.1 理解动词的体、时、态&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#72-体时态详解&quot; id=&quot;markdown-toc-72-体时态详解&quot;&gt;7.2 体时态详解&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#721-一般时态&quot; id=&quot;markdown-toc-721-一般时态&quot;&gt;7.2.1 一般时态&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#722-进行时态持续体&quot; id=&quot;markdown-toc-722-进行时态持续体&quot;&gt;7.2.2 进行时态（持续体）&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#723-行为结果状态存续体-完成时态&quot; id=&quot;markdown-toc-723-行为结果状态存续体-完成时态&quot;&gt;7.2.3 行为结果、状态（存续体）/ 完成时态△&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#724-完成时态完成体&quot; id=&quot;markdown-toc-724-完成时态完成体&quot;&gt;7.2.4 完成时态（完成体）&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#725-完成准备准备体-完成时态--将来打算&quot; id=&quot;markdown-toc-725-完成准备准备体-完成时态--将来打算&quot;&gt;7.2.5 完成准备（准备体）/ 完成时态△ / 将来打算&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#726-被动态&quot; id=&quot;markdown-toc-726-被动态&quot;&gt;7.2.6 被动态&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#727-使动态命令放任&quot; id=&quot;markdown-toc-727-使动态命令放任&quot;&gt;7.2.7 使动态：命令、放任&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#728-可能态能力可能性许可&quot; id=&quot;markdown-toc-728-可能态能力可能性许可&quot;&gt;7.2.8 可能态：能力、可能性、许可&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#729-自然发生态&quot; id=&quot;markdown-toc-729-自然发生态&quot;&gt;7.2.9 自然发生态&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#8-疑难--总结&quot; id=&quot;markdown-toc-8-疑难--总结&quot;&gt;8. 疑难 / 总结&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#81-发音单词的促音长音&quot; id=&quot;markdown-toc-81-发音单词的促音长音&quot;&gt;8.1 发音：单词的促音/长音&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#82-发音清音浊音区分&quot; id=&quot;markdown-toc-82-发音清音浊音区分&quot;&gt;8.2 发音：清音浊音区分&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#83-动词自动词他动词区分&quot; id=&quot;markdown-toc-83-动词自动词他动词区分&quot;&gt;8.3 动词：自动词他动词区分&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#84-动词分类继续瞬间状态形容性&quot; id=&quot;markdown-toc-84-动词分类继续瞬间状态形容性&quot;&gt;8.4 动词分类：继续、瞬间、状态、形容性&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#85-动词分句中的时&quot; id=&quot;markdown-toc-85-动词分句中的时&quot;&gt;8.5 动词：分句中的时&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#86-动词补助动词的时态变化&quot; id=&quot;markdown-toc-86-动词补助动词的时态变化&quot;&gt;8.6 动词：补助动词的时态变化&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#87-动词授受表现&quot; id=&quot;markdown-toc-87-动词授受表现&quot;&gt;8.7 动词：授受表现&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#88-格助词常用整理&quot; id=&quot;markdown-toc-88-格助词常用整理&quot;&gt;8.8 格助词：常用整理&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#881-常用场景整理&quot; id=&quot;markdown-toc-881-常用场景整理&quot;&gt;8.8.1 常用场景整理&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#882-が-与-を&quot; id=&quot;markdown-toc-882-が-与-を&quot;&gt;8.8.2 が 与 を&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#883-に-与-を&quot; id=&quot;markdown-toc-883-に-与-を&quot;&gt;8.8.3 に 与 を&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#884-は-与-が&quot; id=&quot;markdown-toc-884-は-与-が&quot;&gt;8.8.4 は 与 が&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#885-と-的细节与-にを-的比较以及-って&quot; id=&quot;markdown-toc-885-と-的细节与-にを-的比较以及-って&quot;&gt;8.8.5 と 的细节，与 に/を 的比较，以及 って&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#886-から-与-で原材料的区别&quot; id=&quot;markdown-toc-886-から-与-で原材料的区别&quot;&gt;8.8.6 から 与 で，原材料的区别&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#89-其他助词&quot; id=&quot;markdown-toc-89-其他助词&quot;&gt;8.9 其他助词&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#891-て-的细节中顿ないて&quot; id=&quot;markdown-toc-891-て-的细节中顿ないて&quot;&gt;8.9.1 て 的细节：中顿、ない+て&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#892-ながら&quot; id=&quot;markdown-toc-892-ながら&quot;&gt;8.9.2 ながら&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#893-てもでも-连续助词&quot; id=&quot;markdown-toc-893-てもでも-连续助词&quot;&gt;8.9.3 ても/でも 连续助词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#894-でも-提示助词&quot; id=&quot;markdown-toc-894-でも-提示助词&quot;&gt;8.9.4 でも 提示助词&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#895-とか&quot; id=&quot;markdown-toc-895-とか&quot;&gt;8.9.5 とか&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#810-补助形容词&quot; id=&quot;markdown-toc-810-补助形容词&quot;&gt;8.10 补助形容词&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#x-速查表&quot; id=&quot;markdown-toc-x-速查表&quot;&gt;X. 速查表&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#xi-体时态&quot; id=&quot;markdown-toc-xi-体时态&quot;&gt;X.I 体时态&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xii-动词活用形&quot; id=&quot;markdown-toc-xii-动词活用形&quot;&gt;X.II 动词活用形&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xiii-动词活用&quot; id=&quot;markdown-toc-xiii-动词活用&quot;&gt;X.III 动词活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xiv-动词音便&quot; id=&quot;markdown-toc-xiv-动词音便&quot;&gt;X.IV 动词音便&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xv-形容词活用&quot; id=&quot;markdown-toc-xv-形容词活用&quot;&gt;X.V 形容词活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xvi-形容词语法&quot; id=&quot;markdown-toc-xvi-形容词语法&quot;&gt;X.VI 形容词语法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xvii-形容动词活用&quot; id=&quot;markdown-toc-xvii-形容动词活用&quot;&gt;X.VII 形容动词活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xviii-形容动词语法&quot; id=&quot;markdown-toc-xviii-形容动词语法&quot;&gt;X.VIII 形容动词语法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xix-格助词语法&quot; id=&quot;markdown-toc-xix-格助词语法&quot;&gt;X.IX 格助词语法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#xx-其他常用助词语法&quot; id=&quot;markdown-toc-xx-其他常用助词语法&quot;&gt;X.X 其他常用助词语法&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#xi-常用表达&quot; id=&quot;markdown-toc-xi-常用表达&quot;&gt;XI. 常用表达&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#数字的表达&quot; id=&quot;markdown-toc-数字的表达&quot;&gt;数字的表达&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#量词的表达&quot; id=&quot;markdown-toc-量词的表达&quot;&gt;量词的表达&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#算数计算&quot; id=&quot;markdown-toc-算数计算&quot;&gt;算数计算&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#时间日期的表达&quot; id=&quot;markdown-toc-时间日期的表达&quot;&gt;时间日期的表达&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#地点的表达&quot; id=&quot;markdown-toc-地点的表达&quot;&gt;地点的表达&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#问路的表达&quot; id=&quot;markdown-toc-问路的表达&quot;&gt;问路的表达&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#并列关系多项动作多个目标的表达&quot; id=&quot;markdown-toc-并列关系多项动作多个目标的表达&quot;&gt;并列关系、多项动作（多个目标）的表达&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#xii-语法解析范例&quot; id=&quot;markdown-toc-xii-语法解析范例&quot;&gt;XII. 语法解析范例&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;1-学习经验&quot;&gt;1. 学习经验&lt;/h2&gt;
&lt;p&gt;自己算了下，总共大概花了3个月左右时间学语法，纯语法，不包括单词之类的，算是有点心得，也做了点笔记，可以分享，故有此文。&lt;/p&gt;

&lt;h3 id=&quot;11-自我介绍&quot;&gt;1.1 自我介绍&lt;/h3&gt;
&lt;p&gt;日语学习这方面来说，我也算得上是一个怪人，至少是很偏门的类型，因此这里先做下介绍，也方便读者看是不是合适跟着我的套路来，不至于一下子就带到坑里去。&lt;/p&gt;

&lt;p&gt;正式开始日语学习前的状态：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;语法：駄目，生肉漫画能啃个大概意思，生肉小说基本残念&lt;/li&gt;
  &lt;li&gt;词汇：一般动画、影视剧里常见的词汇都OK，但因为没有认真学过，所以其实还是駄目&lt;/li&gt;
  &lt;li&gt;听力：尚可，生肉动画、影视剧能看个大概，意思能大致理解&lt;/li&gt;
  &lt;li&gt;书写：全然駄目，促音、长音之类都不知道，日语输入法也从来没打过，基本上写不出任何东西&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;80后，算是赶上了一个好年代，电视台直接有引进，小学开始接触日本动画；文字上接触日语是从MD的RPG梦幻之星4千年纪的终结开始。将近30年积累下来，到开始正式学日语之前，生肉游戏只要带语音的，都能大概啃下来，PS4上的うたわれるもの1-3，全部都是生肉，直接啃穿没问题。&lt;/p&gt;

&lt;p&gt;19年12月裸考JLPT N2：159/180分。（不得不吐槽JLPT，这证书对于验证语言能力参考价值极低）&lt;/p&gt;

&lt;p&gt;大致上这样。&lt;/p&gt;

&lt;p&gt;这里怀念下当年在电视上能直接看高质量的动画：机器猫、太空堡垒、圣斗士星矢、灌篮高手、超音战士、十二生肖守护神、宇宙骑士、魔神英雄传、魔神坛斗士、罗德岛战记、宠物小精灵、中华小当家，我印象最深的就有这些。&lt;a href=&quot;https://www.bilibili.com/read/cv1341081/&quot;&gt;〔转载〕80后看过的引进动画片，来这里考古吧！—— 考验童年记忆的时刻到了&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&quot;12-核心语法点学习路线推荐&quot;&gt;1.2 核心语法点学习路线推荐&lt;/h3&gt;
&lt;p&gt;开始学日语之前，我的语感和语言积累其实都蛮不错的，但正式开始学习仍旧吃了不少苦头。回过头来我看了下市面上各种各样的教材和教程，感觉都没有在堆量的教学开始之前，把核心路线（纯核心语法）抽出来讲解。&lt;/p&gt;

&lt;p&gt;无论是学校语法还是教育语法，无论是培训班还是大学老师，讲课一般都是：五十音，然后开始一课课讲内容，语法细节一点点铺在每一课中。这种做法有其好处，随着时间的消费，词汇、阅读能力、语感、语法都同步慢慢推进，非常均衡。只要时间（课时）够，后面自然就能融会贯通。但这套做法不适合我，我已经有了足量的准备，只是核心语法点没有入手而已。因此我最后的做法是把顾明耀的语法书整本啃完，然后自己梳理出一套核心语法点，当然这仍旧是很伤的一件事情，因为顾明耀的语法书说是教学书，不如说是论文资料，无论大小的语法细节里面都放进去了。对于我这样想要把核心路径整理出来的人来说，除了花时间从头到尾过一遍之外没有好的办法，事实上我也是这么做的。&lt;/p&gt;

&lt;p&gt;然后，我这里就整理出了一套核心路径，其实新手也完全能按着这个路径来学：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;选门派：&lt;a href=&quot;#ID21000&quot;&gt;学校语法/教育语法&lt;/a&gt;，选一边；可选项是：直接学校语法，或教育语法入门之后再转学校语法（反过来不行）；不推荐教育语法（标日）&lt;/li&gt;
  &lt;li&gt;发音：接下来自然是&lt;a href=&quot;#ID31000&quot;&gt;五十音&lt;/a&gt;，和&lt;a href=&quot;#ID32000&quot;&gt;如何发音&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;动词：动词是日语的绝对核心，对于动词的细分（继续、瞬间等等）甚至能影响到语法的应用，在其他语言里这简直是不可想象的
    &lt;ul&gt;
      &lt;li&gt;活用理解：&lt;a href=&quot;#ID41000&quot;&gt;什么是活用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;活用形理解：活用的种类，以及这些种类的形对应的使用场景，对于各个形的理解非常重要，只有理解了形对应的场景，才能在表达的时候选择正确的活用形来用；&lt;a href=&quot;#ID42000&quot;&gt;活用形讲解&lt;/a&gt;、&lt;a href=&quot;#IDX_II&quot;&gt;全活用形速查表&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;动词分类：活用根据动词的类型有几套不同的规则，在对动词进行活用之前显然需要先分辨它属于哪一类；&lt;a href=&quot;#ID43000&quot;&gt;动词分类&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;如何活用：如何对动词进行活用；&lt;a href=&quot;#ID44000&quot;&gt;如何活用讲解&lt;/a&gt;、&lt;a href=&quot;#IDX_III&quot;&gt;全活用速查表&lt;/a&gt;以及&lt;a href=&quot;#IDX_IV&quot;&gt;全音便速查表&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;形容词、形容动词：都归类于体言，因此也都有活用，需要花点心思
    &lt;ul&gt;
      &lt;li&gt;形容词：&lt;a href=&quot;#ID50000&quot;&gt;形容词讲解&lt;/a&gt;、&lt;a href=&quot;#IDX_V&quot;&gt;全活用速查表&lt;/a&gt;、&lt;a href=&quot;#IDX_VI&quot;&gt;全语法点速查表&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;形容动词：&lt;a href=&quot;#ID60000&quot;&gt;形容动词讲解&lt;/a&gt;、&lt;a href=&quot;#IDX_VII&quot;&gt;全活用速查表&lt;/a&gt;、&lt;a href=&quot;#IDX_VIII&quot;&gt;全语法点速查表&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;动词的体时态：打个不恰当的比喻，之前的活用类似英语里的&lt;code&gt;do -&amp;gt; doing&lt;/code&gt;的变化的学习，而体时态则类似于了解了变化之后再去学什么样的语义情况下要用这样的变化（类似进行时就要用ing这样的意思），因此要把动词真的用起来，体时态必不可少
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ID71000&quot;&gt;理解动词的体、时、态&lt;/a&gt;：分别理解什么是体时态；以及，&lt;a href=&quot;#IDX_I&quot;&gt;全体时态速查表&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ID72000&quot;&gt;体时态详解&lt;/a&gt;：有点复杂度的，很难整理出一个捷径，只能一个个仔细过&lt;/li&gt;
      &lt;li&gt;补助动词：体时态里涉及到了大量的补助动词，而且在不同的体时态中，一些补助动词的语法点还各不相同，结果就是从单个补助动词的角度来看，语法点都散落在各处，因此这里整理了&lt;a href=&quot;#ID72001&quot;&gt;补助动词速查表&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;格助词：如果说动词、补助动词、体时态算是日语的大脑和四肢的话，格助词就是连接各处的关节，可想而知其重要性
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#IDX_IX&quot;&gt;全格助词语法点速查表&lt;/a&gt;：这是从各格助词的角度整理的语法点表格，一般来说看到某个格助词不理解其用法可以查这里&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ID88010&quot;&gt;常用场景整理速查表&lt;/a&gt;：这是从格助词的使用场合角度整理的语法点表格，如果需要针对某个语法点进行格助词之间的横向比较可以查这里；此外，该章节的后半部分还罗列了一些核心格助词之间的异同和使用难点&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;其他助词：没有格助词那么重要，但也是语法中的重要组成部分，这里有整理一份比较常用见的&lt;a href=&quot;#IDX_X&quot;&gt;助词语法速查表&lt;/a&gt;，同样有&lt;a href=&quot;#ID89000&quot;&gt;使用难点&lt;/a&gt;整理&lt;/li&gt;
  &lt;li&gt;到这里基本上所有的核心语法点都全了，发音有了、词汇可以自己背单词、动词+补助动词+体时态+格助词则组成了健全的大脑和四肢，一般的理解以及表达就都OK了，后面就是熟练度的问题&lt;/li&gt;
  &lt;li&gt;最后&lt;a href=&quot;#IDXI&quot;&gt;常用表达&lt;/a&gt;这里，整理了一些日常应用中绕不开必然会遇到/需要的知识点&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;13-娱乐与学习&quot;&gt;1.3 娱乐与学习&lt;/h3&gt;
&lt;p&gt;也说说看片和学习之间的关系。语法这块弄完之后我也尝试过用看片的方式进行学习，效果真的拔群，但操作是这样的：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;下双语字幕的片&lt;/li&gt;
  &lt;li&gt;第一遍看片所有语法点不清晰的地方和单词不认识的地方全部暂停，单词全部摘录到软件里，语法全部搞清楚&lt;/li&gt;
  &lt;li&gt;摘录的单词全部过一遍，保证能清晰读出来，搞清楚自动他动&lt;/li&gt;
  &lt;li&gt;第二遍以及后续N遍看片，跟着片子进行shadowing&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;可见，所谓的看片学习，里面已经完全不存在娱乐的成分了。经常是第一遍&lt;code&gt;看完&lt;/code&gt;之后我根本已经忘记了片子里讲了什么（摘录单词和看语法打断了）。所以说娱乐和学习真的不能两全，当然如果只是培养语感的话，倒是可以的。&lt;/p&gt;

&lt;h2 id=&quot;2-学习资源&quot;&gt;2. 学习资源&lt;/h2&gt;
&lt;h3 id=&quot;21-学校语法--教育语法&quot;&gt;2.1 学校语法 / 教育语法&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID21000&quot;&gt;&lt;/span&gt;
在开始学语法之前一定要选好门派，后面一般不会轻易更换。不过对新手来说也可以先从教育语法学起，有点基础后再换学校语法（一般不会有反过来的做法）。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;学校语法&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;更注重语法本身的细节。优点是语法分析清晰，学成之后基础扎实，不容易犯错，遇到再难的表达也能轻易分解并分析其语法理论，且因其资历较深（历史久远）有大量配套的教材和工具等。缺点是入门学习较难，适合有基础的学生（或日语母语学生）学习。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;特征：活用分为五段动词、一段动词、サ变动词、カ变动词。&lt;/li&gt;
  &lt;li&gt;经典教材：新编日语（高校日语教学广泛使用）、标准日语语法顾明耀版&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;教育语法&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;更注重学习的入门和语言的应用。优点是上手难度低，快学快用，但学成后语法基础不够扎实，部分活用混乱（遇到ます形的例子到底是サ变动词还是连用形），大量的语法细节被当做习惯用法教（别管为什么这么表达，遇到这种情况就是这么表达的），导致学员学了之后知道怎么用，但不知道为什么是这么用。且在工具书（特别是字典，字典一般都给终止形/原形/辞书形，不会给ます形/て形）使用上，相对学校语法，支持不够好。适合初学者入门学习（要深入学习后面还是得切换学校语法）。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;特征：活用分为一类动词、二类动词、三类动词&lt;/li&gt;
  &lt;li&gt;经典教材：标准日本语（培训学校广泛使用）、大家的日本语（出口仁老师）&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;22-出口日语--大家的日本语&quot;&gt;2.2 出口日语 / 大家的日本语&lt;/h3&gt;
&lt;p&gt;优点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;对新人友好，教程循序渐进&lt;/li&gt;
  &lt;li&gt;教程构思优秀，整体面向应用，非生硬的纯语法教学，跟着课程可以很快上手使用日语&lt;/li&gt;
  &lt;li&gt;youtube上有完全免费的教程视频，良心无比（推荐购买一个手机端教程应用，然后看视频即可，或者直接看视频也可以）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;缺点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;使用的是教育语法，对于想深入的学生来说后续相对不利&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;未学习过日语的新手&lt;/li&gt;
  &lt;li&gt;想快速使用日语的学生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;不适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;已入学校语法门派的学生&lt;/li&gt;
  &lt;li&gt;想深入纯语法知识点的学生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/%E5%A4%A7%E5%AE%B6%E5%AD%B8%E6%A8%99%E6%BA%96%E6%97%A5%E6%9C%AC%E8%AA%9E-%E5%88%9D%E7%B4%9A%E6%9C%AC/id919815747&quot;&gt;大家學標準日本語：初級本 iOS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/%E5%A4%A7%E5%AE%B6%E5%AD%B8%E6%A8%99%E6%BA%96%E6%97%A5%E6%9C%AC%E8%AA%9E-%E4%B8%AD%E7%B4%9A%E6%9C%AC/id950606030&quot;&gt;大家學標準日本語：中級本 iOS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/%E5%A4%A7%E5%AE%B6%E5%AD%B8%E6%A8%99%E6%BA%96%E6%97%A5%E6%9C%AC%E8%AA%9E-%E9%AB%98%E7%B4%9A%E6%9C%AC/id960608058&quot;&gt;大家學標準日本語：高級本 iOS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app-bundle/%E5%A4%A7%E5%AE%B6%E5%AD%B8%E6%A8%99%E6%BA%96%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%85%A8%E7%B3%BB%E5%88%97/id975800813&quot;&gt;大家學標準日本語全系列 iOS套装&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCDqWakN_owifqIBqyNjg6kg&quot;&gt;出口日语 youtube&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=wJLu_-bJDAw&amp;amp;list=PLynCeSdpMqxBipKl9EHnBzZFzBnGuB108&quot;&gt;日本語入門&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=SNZYXdt_5p0&amp;amp;list=PLynCeSdpMqxCfeGRZJk-RdNZqZ3ENCEbI&quot;&gt;日語結構解密&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=U8wniu_c_zc&amp;amp;list=PLynCeSdpMqxCW-AfMtmIlASAMUVq8wX6k&quot;&gt;【改訂版】大家的日本語文法解說&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=riUjVcsPbqo&amp;amp;list=PLynCeSdpMqxCBtZzRikWkdbRGS9csjDYT&quot;&gt;Ｎ１文法一覧&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=0TbPGbvdOnk&amp;amp;list=PLynCeSdpMqxD6LeS82vp39kQP8mw_JxlY&quot;&gt;Ｎ２文法一覧&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=eGxvduVsfJo&amp;amp;list=PLynCeSdpMqxDS6EC0L7vXYUAVCstRHcQR&quot;&gt;Ｎ３文法一覧&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=tq7OQec7Dnc&amp;amp;list=PLynCeSdpMqxD8N-l7AC_aFocINA2CKQKi&quot;&gt;Ｎ４文法一覧&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=3zRXvtDnev8&amp;amp;list=PLynCeSdpMqxD4OJHjNB3QkmfzfD7B_s67&quot;&gt;Ｎ５文法一覧&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;23-时雨日语&quot;&gt;2.3 时雨日语&lt;/h3&gt;
&lt;p&gt;优点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;学校语法&lt;/li&gt;
  &lt;li&gt;教学资源的细节非常优秀，学习之后能够掌握得很扎实&lt;/li&gt;
  &lt;li&gt;网站上学习资料丰富&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;缺点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;没有系统的教程&lt;/li&gt;
  &lt;li&gt;没有系统的教学视频&lt;/li&gt;
  &lt;li&gt;教学视频很少&lt;/li&gt;
  &lt;li&gt;网站上的学习资料只到N3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;有一定基础想要把一些细节知识点打磨扎实的学生&lt;/li&gt;
  &lt;li&gt;语法速查&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;不适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;没有基础的新手&lt;/li&gt;
  &lt;li&gt;教育语法的学生&lt;/li&gt;
  &lt;li&gt;希望获得系统教学的学生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/&quot;&gt;時雨の町&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/intro/accent/135-boon&quot;&gt;認識「母音無聲化」&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/intro/accent/134-accent&quot;&gt;認識「重音」日文發音&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/comprehensive-learning/knowledge/464&quot;&gt;為什麼「頑張って」聽起來像「頑張っで」？PTK&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/medium&quot;&gt;中級文法-N3&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary&quot;&gt;進階文法-N4&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/basic&quot;&gt;初級文法-N5&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCVNBkSt8-VCtPhSu-n7uOlQ&quot;&gt;时雨日语 youtube&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=7PaH8nvg07A&quot;&gt;時雨陪你面對現實，日語五十音完整講解│時雨日文&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=uXJZAABbBBw&quot;&gt;時雨日文【如何學習日文發音】weblio重音字典、OJAD線上重音辭典、日劇跟讀示範&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=PnNQ9JfXy5E&quot;&gt;時雨日文【關於清音聽成濁音這件事】頑張って？頑張っで？【PTK法則？】&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=bHUUyfegNA4&quot;&gt;時雨日文【3分鐘學會日文動詞分類】五段動詞、上下一段、カ行サ行&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=3_0r3nZL_MY&amp;amp;t=17s&quot;&gt;時雨日文【五段動詞變化】五段動詞、上下一段、カ行サ行&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=xADV9ygZmk0&amp;amp;t=14s&quot;&gt;時雨日文【上下一段動詞變化】五段動詞、上下一段、カ行サ行&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=0Nn95Uhqt0I&quot;&gt;時雨日文【サ行カ行動詞變化】五段動詞、上下一段、カ行サ行&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=JH03auAJdAc&quot;&gt;時雨日文【動詞的音便】從原形直接記！快速省時間~~五段動詞音便法&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=d0pBTsCHsgc&quot;&gt;時雨日文【自動詞、他動詞的用法】自他同形？純自動詞？純他動詞？&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;24-japanese-grammar-guide--日语语法指南&quot;&gt;2.4 Japanese Grammar Guide / 日语语法指南&lt;/h3&gt;
&lt;p&gt;优点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;非常容易入门&lt;/li&gt;
  &lt;li&gt;省略了大量细节，只求能够快速理解基本的日语&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;缺点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;深度不够&lt;/li&gt;
  &lt;li&gt;语法讲解不够&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;初步理解日语&lt;/li&gt;
  &lt;li&gt;学个大概的学生&lt;/li&gt;
  &lt;li&gt;学习目标是简单听、读的学生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;不适合：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;需要认真学习的学生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://res.wokanxing.info/jpgramma/index.html&quot;&gt;日语语法指南 翻译版&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.guidetojapanese.org/learn/grammar&quot;&gt;Japanese Grammar Guide 原版&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;25-标准日语语法顾明耀版&quot;&gt;2.5 标准日语语法顾明耀版&lt;/h3&gt;
&lt;p&gt;大杀器。&lt;/p&gt;

&lt;p&gt;优点是真的认真看完且融会贯通领会了，日语语法就没有你看不懂的地方了。缺点是与其说是教材，不如说是一本科研书，对于读者来说过于艰涩，不适合没有基础的学生。而且由于其编撰完全是按照对日语语言的分解而做的，所以不适合用来做以日语应用为目标的学生的教材（不能一边看一边实践，和大家的日本语是正相反的思路）。&lt;/p&gt;

&lt;p&gt;资源就不放了，网上可以直接购买实体书，PDF全网也不是说下不到，但比较难找。由于阅读便利性的问题（实体书实在是不方便携带和检索），我买了书之后还是下了个PDF，然后用OCR软件做了带索引的文字版本PDF，遇到疑难点可以直接索引跳转方便阅读。&lt;/p&gt;

&lt;h3 id=&quot;26-其他&quot;&gt;2.6 其他&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zh.wikibooks.org/wiki/%E6%97%A5%E8%AF%AD&quot;&gt;日语教科书 ・日本語にほんごのテキストブック&lt;/a&gt;：一个wiki，只有最基础的语法，但整理的不错&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%B4%BB%E7%94%A8_(%E6%97%A5%E8%AA%9E)&quot;&gt;活用 (日语)&lt;/a&gt;：动词活用的wiki&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://magiclen.org/jp-lang-verb/&quot;&gt;日文動詞變化筆記(3套公式、7個型態、音變與常用18種變化)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://magiclen.org/jp-lang-adjn/&quot;&gt;日文形容動詞(な形容詞)變化筆記(1套公式、5種型態與常用16種變化)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://magiclen.org/jp-lang-adj/&quot;&gt;日文形容詞(い形容詞)變化筆記(1套公式、5種型態與常用16種變化)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;27-软件&quot;&gt;2.7 软件&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/jp/app/mazec/id943711253&quot;&gt;iOS JP mazec&lt;/a&gt;：手写输入软件，方便初学者只识汉字不知读音&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/moji%E8%BE%9E%E6%9B%B8-%E6%97%A5%E8%AF%AD%E5%AE%9E%E7%94%A8%E8%AF%8D%E5%85%B8/id1021094295&quot;&gt;iOS CN MOJi辞書: 日语实用词典&lt;/a&gt;：中日词典推荐这个，还可以建立个人词库，把不认的录入进去，后面还可以制作背词计划&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/mojitest-%E5%AE%9E%E7%94%A8%E8%8B%B1%E8%AF%AD%E6%97%A5%E8%AF%AD%E8%83%8C%E5%8D%95%E8%AF%8D/id1258480187&quot;&gt;iOS CN MOJiTest: 实用英语日语背单词&lt;/a&gt;：背词库推荐这个，N1、N2之类的；当然后续慢慢就会只需要上面那个了，毕竟背自己录入的单词比较有意义也更有效率&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/jp/app/%E5%A4%A7%E8%BE%9E%E6%B3%89/id632428156&quot;&gt;iOS JP 大辞泉&lt;/a&gt;：日语词典也需要备一个，中日词典有的时候并不是十分完美&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://apps.apple.com/cn/app/%E5%BD%A9%E4%BA%91%E5%B0%8F%E8%AF%91-%E8%AF%AD%E9%9F%B3%E7%BD%91%E9%A1%B5%E6%96%87%E6%A1%A3%E5%9B%BE%E7%89%87%E5%85%A8%E8%83%BD%E7%BF%BB%E8%AF%91/id1187138321&quot;&gt;iOS CN 彩云小译 - 语音网页文档图片全能翻译&lt;/a&gt;：类似Google翻译，效果还行，有的时候能看个大概&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;3-基础&quot;&gt;3. 基础&lt;/h2&gt;
&lt;h3 id=&quot;31-五十音&quot;&gt;3.1 五十音&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID31000&quot;&gt;&lt;/span&gt;
&lt;strong&gt;五十音&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あ ア a&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い イ i&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;う ウ u&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;え エ e&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;お オ o&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か カ ka&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き キ ki&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;く ク ku&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;け ケ ke&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こ コ ko&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さ サ sa&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し シ shi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;す ス su&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せ セ se&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;そ ソ so&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;た タ ta&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ち チ chi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つ ツ tsu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て テ te&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と ト to&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;な ナ na&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に ニ ni&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぬ ヌ nu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ね ネ ne&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の ノ no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;は ハ ha&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひ ヒ hi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ふ フ fu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;へ ヘ he&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ほ ホ ho&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ま マ ma&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み ミ mi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;む ム mu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;め メ me&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;も モ mo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;や ヤ ya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ゆ ユ yu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ ヨ yo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ら ラ ra&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;り リ ri&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;る ル ru&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;れ レ re&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろ ロ ro&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;わ ワ wa&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;を ヲ o(wo)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きゃ キャ kya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きゅ キュ kyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きょ キョ kyo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しゃ シャ sha&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しゅ シュ shu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しょ ショ sho&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ちゃ チャ cha&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ちゅ チュ chu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ちょ チョ cho&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にゃ ニャ nya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にゅ ニュ nyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にょ ニョ nyo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひゃ ヒャ hya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひゅ ヒュ hyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひょ ヒョ hyo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みゃ ミャ mya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みゅ ミュ myu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みょ ミョ myo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;りゃ リョ rya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;りゅ リュ ryu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;りょ リョ ryo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;が ガ ga&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぎ ギ gi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぐ グ gu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;げ ゲ ge&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ご ゴ go&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ざ ザ za&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じ ジ ji&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ず ズ zu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぜ ゼ ze&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぞ ゾ zo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;だ ダ da&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぢ ヂ ji(di)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;づ ヅ zu(du)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で デ de&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ど ド do&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ば バ ba&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;び ビ bi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぶ ブ bu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べ ベ be&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぼ ボ bo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぱ パ pa&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぴ ピ pi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぷ プ pu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぺ ペ pe&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぽ ポ po&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぎゃ ギャ gya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぎゅ ギュ gyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぎょ ギョ gyo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゃ ジャ ja&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅ ジュ ju&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じょ ジョ jo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;びゃ ビャ bya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;びゅ ビュ byu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;びょ ビョ byo&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぴゃ ピャ pya&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぴゅ ピュ pyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぴょ ピョ pyo&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;元音&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;あ a　い i　う u　え e　お o  &lt;br /&gt;
元音连读：あい 愛，发音长短轻重基本相同  &lt;br /&gt;
元音的清化：い　う，容易出现清化，下例当中，前面未清化，后面为清化&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;かた 模型 kata 　きた 北方 kita&lt;/li&gt;
  &lt;li&gt;かち 胜利 kachi　きち 基地 kichi&lt;/li&gt;
  &lt;li&gt;ほし 星星 hoshi　ふし 节 fushi&lt;/li&gt;
  &lt;li&gt;せき 座位 seki 　すき 喜欢 suki&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;辅音&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;清音：か　さ　た　な　は　ま　や　ら　わ　ぱ，这些行  &lt;br /&gt;
浊音：が　ざ　だ　ば，这些行  &lt;br /&gt;
拗音：きゃ　きゅ　きょ，等类似的  &lt;br /&gt;
拨音：ん  &lt;br /&gt;
促音：おと 声音 -＞ おっと otto 丈夫  &lt;br /&gt;
长音：とり 鸟 -＞ とおり 大街&lt;/p&gt;

&lt;p&gt;&lt;code&gt;なぁ&lt;/code&gt;之类的打字方法：na&lt;code&gt;x&lt;/code&gt;a&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;外来语专用音节&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;.&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ツァ　tsa&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ファ　fa&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ウィ　wi uli&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ティ　thi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;フィ　fi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ディ　dhi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;トゥ　twu tolu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ドゥ　dwu dolu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;デュ　delyu&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ウェ　we ule&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;シェ　she sle&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;チェ　che&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ツェ　tse&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;フェ　fe&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ジェ　je&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ウィ　wi&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ウォ　ulo&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ツォ　tso&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;フォ　fo&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;英文字母&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;A　エー　e&lt;/td&gt;
          &lt;td&gt;B　ビー　bi&lt;/td&gt;
          &lt;td&gt;C　シー　shi&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;D　ディー　dhi&lt;/td&gt;
          &lt;td&gt;E　イー　i&lt;/td&gt;
          &lt;td&gt;F　エフ　efu&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;G　ジー　ji&lt;/td&gt;
          &lt;td&gt;H　エッチ　ecchi&lt;/td&gt;
          &lt;td&gt;I　アイ　ai&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;J　ジェー　je&lt;/td&gt;
          &lt;td&gt;K　ケー　ke&lt;/td&gt;
          &lt;td&gt;L　エル　eru&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;M　エム　emu&lt;/td&gt;
          &lt;td&gt;N　エヌ　enu&lt;/td&gt;
          &lt;td&gt;O　オー　o&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;P　ピー　pi&lt;/td&gt;
          &lt;td&gt;Q　キュー　kyu&lt;/td&gt;
          &lt;td&gt;R　アール　aru&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;S　エス　esu&lt;/td&gt;
          &lt;td&gt;T　ティー　thi&lt;/td&gt;
          &lt;td&gt;U　ユー　yu&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;V　ブイ　bui&lt;/td&gt;
          &lt;td&gt;W　ダブリュー　daburyu&lt;/td&gt;
          &lt;td&gt;X　エックス　ekkusu&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;Y　ワイ　wai&lt;/td&gt;
          &lt;td&gt;Z　ゼット　zetto／ズィー　zuli&lt;/td&gt;
          &lt;td&gt; &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;汉字&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;音読 おんどく：汉语发音日化  &lt;br /&gt;
訓読 くんどく：日语发音与汉字含义相结合&lt;/p&gt;

&lt;h3 id=&quot;32-基本发音&quot;&gt;3.2 基本发音&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID32000&quot;&gt;&lt;/span&gt;
发音这块时雨有一篇讲得很清楚：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/intro/accent/134-accent&quot;&gt;認識「重音」日文發音&lt;/a&gt;。自学这块容易搞错，所以需要针对性搞清楚。&lt;/p&gt;

&lt;p&gt;单词查询：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.weblio.jp&quot;&gt;weblio.jp&lt;/a&gt;：有数字注音无发音&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.gavo.t.u-tokyo.ac.jp/ojad/&quot;&gt;OJAD&lt;/a&gt;：有划线注音和发音，且有长句和篇章的整体发音注解功能&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;4-动词&quot;&gt;4. 动词&lt;/h2&gt;
&lt;h3 id=&quot;41-活用&quot;&gt;4.1 活用&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID41000&quot;&gt;&lt;/span&gt;
讲到动词肯定就要提到动词的&lt;code&gt;活用&lt;/code&gt;，所谓的活用，可以简单理解为因应使用的场景不同，动词本身发生的形变。这里贴下&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%B4%BB%E7%94%A8_(%E6%97%A5%E8%AA%9E)&quot;&gt;活用WIKI&lt;/a&gt;的描述：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;活用（日语：活用 Katsuyō）指的是日语中，用言（动词、形容词、形容动词）和助动词等的词形变化（变位）。在进行变化时，这些词语的语尾（也就是送假名），甚至是整个词语都会发生变化。在日语中，能够活用的词包括了动词、形容词、形容动词及助动词。这些词可以接续某些词语来表示时态变化、词类变化、语态等文法上的功能。在连接不同的助词时，有时也需要将词语活用变化。几乎所有的活用都是规律的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;42-活用形&quot;&gt;4.2 活用形&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID42000&quot;&gt;&lt;/span&gt;
用言在活用后所产生的各种不同型态就被称作&lt;code&gt;活用形&lt;/code&gt;。这里的理解很重要，因为学习语言的最终目的是为了使用，而活用形则是最贴近使用场景的一种概念。下面分几种活用形，进行举例描述。&lt;/p&gt;

&lt;h4 id=&quot;421-未然形&quot;&gt;4.2.1 未然形&lt;/h4&gt;
&lt;p&gt;主要用来接续表示否定的助动词“-ない”，被动、可能助动词“-れる‧られる”，使役助动词“せる‧させる”，意志、推量助动词“う”等等。&lt;/p&gt;

&lt;p&gt;场景：否定（ない）、使役（させる、せる）、被动（られる、れる）、可能（られる、れる）、尊敬（られる、れる）、意志和推测（う、よう、まい）。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;否定&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“ない“、“ぬ“。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;雨が&lt;code&gt;降らない&lt;/code&gt;。/ 不下雨。&lt;/li&gt;
  &lt;li&gt;親からの手紙がなかなか&lt;code&gt;来ない&lt;/code&gt;。/ 家里的信怎么等也不来。&lt;/li&gt;
  &lt;li&gt;一ヶ月も&lt;code&gt;せぬ&lt;/code&gt;うちに治った。/ 还没到一个月就治好了。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;使役&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“させる (せる）”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;弟を買い物に&lt;code&gt;行かせ&lt;/code&gt;た。/ 让弟弟去买东西。&lt;/li&gt;
  &lt;li&gt;母は妹を買い物に&lt;code&gt;行かせる&lt;/code&gt;。／母亲让妹妹去买东西。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;被动&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“られる (れる）”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;雨に&lt;code&gt;降られ&lt;/code&gt;た。/ 被雨淋了。&lt;/li&gt;
  &lt;li&gt;彼は父に&lt;code&gt;叱られ&lt;/code&gt;た。／他受到了父亲的训斥。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;可能&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“られる (れる）”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;五年後には家が&lt;code&gt;建てられる&lt;/code&gt;。/ 五年后,房子可以建造起来。&lt;/li&gt;
  &lt;li&gt;それは&lt;code&gt;食べられる&lt;/code&gt;。／那个能吃。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;尊敬&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“られる (れる）”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;先生が&lt;code&gt;帰られ&lt;/code&gt;た。／老师回來了。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;意志和推测&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“う(よう)“。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;テレピの音を小さく&lt;code&gt;しよう&lt;/code&gt;。/ 把电视的声音关小点吧。&lt;/li&gt;
  &lt;li&gt;粘土で人形を&lt;code&gt;作ろう&lt;/code&gt;。/ 用粘土捏个娃娃吧&lt;/li&gt;
  &lt;li&gt;これには論理上の欠陥はほとんどないと&lt;code&gt;言えよう&lt;/code&gt;。/ 大概可以说这里面几乎没有逻辑方面的问题。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;一段动词和サ变动词则需要后接助动词“まい”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;あんなばかなことは二度と&lt;code&gt;しまい&lt;/code&gt;。/ 那种使事,绝不再做了&lt;/li&gt;
  &lt;li&gt;君にはこの役はとても&lt;code&gt;やれまい&lt;/code&gt;。/ 对你来说,这个角色大概干不了&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;422-连用形&quot;&gt;4.2.2 连用形&lt;/h4&gt;
&lt;p&gt;用来接续其他&lt;code&gt;用言&lt;/code&gt;，以及表示过去・完了的助动词“た”等。也有不接续其他词语，而直接拿来作为名词的用法，例如“休み”（由动词休む的连用形而来，作为名词“休息”）。&lt;/p&gt;

&lt;p&gt;场景：构词用法、中顿、后接助动词（ます、た、たい、そうだ）、后接助词（に；て、ながら、つつ、ても、たって、ては；たり；は、も、でも、さえ；な）。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构词用法&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;可充当名词或与其他词素构成复合词。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;直接转成名词：&lt;code&gt;動き&lt;/code&gt;が激しい、&lt;code&gt;行き&lt;/code&gt;はよいよい、&lt;code&gt;帰り&lt;/code&gt;はこわい&lt;/li&gt;
  &lt;li&gt;合成词的上位词构成名词：&lt;code&gt;使い&lt;/code&gt;道、&lt;code&gt;泣き&lt;/code&gt;虫、&lt;code&gt;出&lt;/code&gt;ロ&lt;/li&gt;
  &lt;li&gt;合成词的上位词构成动词：&lt;code&gt;流れ&lt;/code&gt;込む、&lt;code&gt;取り&lt;/code&gt;入れる、&lt;code&gt;ふり&lt;/code&gt;かける&lt;/li&gt;
  &lt;li&gt;合成词的上位词构成形容词：&lt;code&gt;蒸し&lt;/code&gt;暑い、&lt;code&gt;聞き&lt;/code&gt;辛い、&lt;code&gt;焦げ&lt;/code&gt;臭い&lt;/li&gt;
  &lt;li&gt;合成词的下位词构成名词：魔法&lt;code&gt;使い&lt;/code&gt;、湯&lt;code&gt;吞み&lt;/code&gt;、月&lt;code&gt;見&lt;/code&gt;、高&lt;code&gt;飛び&lt;/code&gt;、早&lt;code&gt;起き&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;中顿&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示并列，有时隐含有顺接（因果等）、逆接（转折等）等语法意义。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;流れは山を&lt;code&gt;下り&lt;/code&gt;、谷を&lt;code&gt;走り&lt;/code&gt;、野をよこぎる。/河流冲下山岗,流过山谷，穿过田野。&lt;/li&gt;
  &lt;li&gt;兄は町へ&lt;code&gt;行き&lt;/code&gt;、僕は留守番をする。/哥哥去上街，我看家。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;后接助动词&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;与助动词一起，构成种种语法意义。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ます&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“ます”，构成敬体。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;僕は君の幸せを&lt;code&gt;望みます&lt;/code&gt;。/我希望你幸福。&lt;/li&gt;
  &lt;li&gt;ご自由にご利用&lt;code&gt;くださいませ&lt;/code&gt;。/请随便使用。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;た&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“た”，表示过去、完了、状态以及某些特殊意义。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;真ーはアジア大会で新記録を&lt;code&gt;立てた&lt;/code&gt;。/真一在亚运会上创造了新纪录。&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;読ん&lt;/code&gt;だ本をすぐに返してください。读完了的书请立即还回。&lt;/li&gt;
  &lt;li&gt;やっぱり、かぎはここに&lt;code&gt;あった&lt;/code&gt;。/钥匙到底还是在这儿。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;たい、たがる&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“たい”、“たがる”，表示愿望。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;今度は立派な論文を&lt;code&gt;書きたい&lt;/code&gt;。/下次想要写出一篇出色的论文。&lt;/li&gt;
  &lt;li&gt;彼は彼女と&lt;code&gt;結婚したがっ&lt;/code&gt;ている。/他想和她结婚。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;そうだ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接助动词“そうだ“，表示即将发生某动作或有可能性。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;不景気で会社が&lt;code&gt;つぶれそうだ&lt;/code&gt;。/由于不景气,公司即将倒闭。&lt;/li&gt;
  &lt;li&gt;簡単に&lt;code&gt;できそうな&lt;/code&gt;仕事だが、なかなか終わらない。/看似很简单的工作，却怎么也做不完。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;连用+そうだ：与说话者密切相关，说话者参与。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;后接助词&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;动词连用形后还可以接助词，增添某些特殊的意义，实现语法功能。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;格助词 に&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接格助词“に”，表示来去等移动动词的目的。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;朝早く鮭を&lt;code&gt;釣りに&lt;/code&gt;行った。/ー大早就出去钓鮭鱼了。&lt;/li&gt;
  &lt;li&gt;いい仕事を&lt;code&gt;さがしに&lt;/code&gt;東京へ戻った。/回到东京寻求好工作&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;接续助词&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接接续助词“て”、“ながら”、“つつ“、“ても”、“たって“、“ては”等。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;春が&lt;code&gt;来て&lt;/code&gt;、雪が溶けた。/春天来了,冰雪融化了。&lt;/li&gt;
  &lt;li&gt;友と&lt;code&gt;語りつつ&lt;/code&gt;酒を飲む。/与朋友边聊天边饮酒。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;并列助词 たり&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接并列助词“たり“，表示并列或举例。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ー日中&lt;code&gt;踊ったり&lt;/code&gt;、&lt;code&gt;歌ったり&lt;/code&gt;した。/一整天又跳舞又唱歌。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接提示助词“は”、“も“、“でも“、“さえ”等，再后接形式动词“する”，表示对比、强调、例示等含义。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;御恩は決して&lt;code&gt;忘れは&lt;/code&gt;しない。/决不忘您的思德&lt;/li&gt;
  &lt;li&gt;駅の案内を人々はほとんど&lt;code&gt;聞きも&lt;/code&gt;、&lt;code&gt;見も&lt;/code&gt;しません。/对于车站内的介绍，人们几乎听也不听，看也不看。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;语气助词 な&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后接语气助词“な”，表示命令或要求。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;危ないから、気を&lt;code&gt;つけな&lt;/code&gt;。/危险，留神！&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;453-终止形&quot;&gt;4.5.3 终止形&lt;/h4&gt;
&lt;p&gt;不接续其他助词，或著接续终助词而置于句末的型态。也是用言尚未活用前的基本型态。（基本形也称辞书形或字典形）&lt;/p&gt;

&lt;p&gt;场景：结句、后接助动词（そうだ、らしい、だろう、でしょう；まい限五段サ变）、后接助词（か；な、ね、よ、なぁ、さ；が、けれども、と、から）&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;位于句末，用以结句&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;この花はいい匂いが&lt;code&gt;する&lt;/code&gt;。/这花发出香味。&lt;/li&gt;
  &lt;li&gt;難しい言い回しをやさしく&lt;code&gt;直す&lt;/code&gt;。/把难懂的话改得易懂些&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;后接助动词，助动词为其增添某种语法意义&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;そうだ、らしい 及 だろう (でしょう）
    &lt;ul&gt;
      &lt;li&gt;彼は留学の許可を得るため両親を&lt;code&gt;説得するそうだ&lt;/code&gt;。/据说他为了获得留学的许可要去说服他的父母。&lt;/li&gt;
      &lt;li&gt;新人を入れてチームの若返しを&lt;code&gt;図るらしい&lt;/code&gt;。/好像是吸收新成员,以求队伍的年轻化。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;まい
    &lt;ul&gt;
      &lt;li&gt;和未然形一样，后接助动词“まい”，表示否定的意志与否定的推测两种意义。只限于五段动词和サ变动词。&lt;/li&gt;
      &lt;li&gt;わざわざ嵐の中で登山をするものは&lt;code&gt;あるまい&lt;/code&gt;。/恐怕没有人特地在暴风雨中登山吧。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;终止+そうだ：说话者听说的事情，与说话者完全不相关。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;后接助词&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;并列助词 か
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;行くか&lt;/code&gt;行かないか迷っている。/不知该去不该去。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;语气助词
    &lt;ul&gt;
      &lt;li&gt;后接语气助词“か”、“な”、“ね“、“よ”、“なぁ”、“さ”等，表示各种语气。&lt;/li&gt;
      &lt;li&gt;転んだくらいで泣く奴が&lt;code&gt;あるか&lt;/code&gt;。/有你这样摔了一下就哭的人吗?&lt;/li&gt;
      &lt;li&gt;急ぐから、僕はもう&lt;code&gt;帰るよ&lt;/code&gt;。/我有急事,这就回去。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;接续助词 が、けれども、と、から
    &lt;ul&gt;
      &lt;li&gt;私は車の連転が&lt;code&gt;できるが&lt;/code&gt;、兄はできない。/我会开车,可我哥不会。&lt;/li&gt;
      &lt;li&gt;会社は今危機に&lt;code&gt;あるけれども&lt;/code&gt;、つぶれないと思う。/我认为公司虽然处于危机当中，但不会破产。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;454-连体形&quot;&gt;4.5.4 连体形&lt;/h4&gt;
&lt;p&gt;用来接续其他的&lt;code&gt;体言&lt;/code&gt;。几乎与终止形相同，除了形容动词（な形容词）。&lt;/p&gt;

&lt;p&gt;场景：后接体言、后接助动词（ようだ、みたいだ）、后接接续助词（ので、のに；だけ、くらい、ほど、ばかり；しか；の；こと、もの、はず、わけ、ため）。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;后接体言，构成该体言的定语&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;流れる水&lt;/code&gt;と&lt;code&gt;噴き上げる水&lt;/code&gt;。/流満的水和喷涌的水。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;后接助动词 ようだ、みたいだ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;彼も最近新しい機械を工夫して&lt;code&gt;いるみたいだ&lt;/code&gt;。/他似乎最近也在琢磨新的机器&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;后接接续助词&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;接续助词 ので、のに
    &lt;ul&gt;
      &lt;li&gt;日本語だけで十分に&lt;code&gt;表せるのに&lt;/code&gt;、なぜ外国語を取り入れなければならないのでしょう。/只要用日语就足以表达了,可为什么非要吸收外语呢。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;副助词 だけ、くらい、ほど、ばかり
    &lt;ul&gt;
      &lt;li&gt;人生には、&lt;code&gt;遭難するぐらい&lt;/code&gt;惨めなことはない。/人生中没有比遇难更悲惨的&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;眺めるだけ&lt;/code&gt;なら、お金は要らない。/如果只是看,那么不要钱。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;提示助词 しか
    &lt;ul&gt;
      &lt;li&gt;后接提示助词“しか”，再后接否定意义的词语，表示除此之外别无他法&lt;/li&gt;
      &lt;li&gt;ここまで来たら、&lt;code&gt;やるしか&lt;/code&gt;ありません。/到了这一步也只有干了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;后接语气助词 の
    &lt;ul&gt;
      &lt;li&gt;くずぐずしないで、さっさと&lt;code&gt;するの&lt;/code&gt;。/别磨贈，快点做!&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;后接形式名词
    &lt;ul&gt;
      &lt;li&gt;后接“こと”、“もの“、“の”、“はず“、“わけ“、“ため”等，将动词名词化，增添意义，或接续由形式名词构成的惯用型。&lt;/li&gt;
      &lt;li&gt;ここまで来て登山を&lt;code&gt;中止するわけ&lt;/code&gt;にはいかない。/已经到了这儿了,不可能停止登山。&lt;/li&gt;
      &lt;li&gt;たいていのことは日本語で十分&lt;code&gt;表せるはず&lt;/code&gt;だ。/大多数事情应该是能用日语表达的。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;455-假定形&quot;&gt;4.5.5 假定形&lt;/h4&gt;
&lt;p&gt;接续在现代日文中表示可能‧条件、古典日文中表示原因‧理由的助词“-ば”。而在文言文中的假定表现要使用未然形来接续“-ば”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;障子は破ろうと&lt;code&gt;思えば&lt;/code&gt;すぐ破れる。/要想让拉门破,马上就能破。&lt;/li&gt;
  &lt;li&gt;ちりも&lt;code&gt;積もれば&lt;/code&gt;山となる。/积砂成塔。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;456-命令形&quot;&gt;4.5.6 命令形&lt;/h4&gt;
&lt;p&gt;位于句末，表示命令。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;手を&lt;code&gt;あげろ&lt;/code&gt;!/举起手!&lt;/li&gt;
  &lt;li&gt;僕の話を&lt;code&gt;聞け&lt;/code&gt;！/听我的话！&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;43-动词分类&quot;&gt;4.3 动词分类&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID43000&quot;&gt;&lt;/span&gt;
理解了&lt;code&gt;活用形&lt;/code&gt;之后，就知道在想要表达某种意思（或某种句式）的时候应该使用哪种活用形。比如说在表述否定的时候，应该使用未然形。接下来就需要知道未然形应该怎么做形变，这时候，就有好几种情况。&lt;/p&gt;

&lt;p&gt;并不是所有的动词都按一个规则进行未然形形变，根据不同的情况，形变的方式各不相同，而这里提到的&lt;code&gt;不同情况&lt;/code&gt;是有范式的，这个范式，可以归结为动词的分类。&lt;/p&gt;

&lt;p&gt;动词可以分为：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;五段动词&lt;/li&gt;
  &lt;li&gt;一段动词&lt;/li&gt;
  &lt;li&gt;サ变动词&lt;/li&gt;
  &lt;li&gt;カ变动词&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;接下来介绍如何将一个动词进行分类。知乎上有一篇很不错的方法：&lt;a href=&quot;https://www.zhihu.com/question/21584672/answer/71895818&quot;&gt;链接&lt;/a&gt;。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;不是「る」结尾的动词都是&lt;code&gt;五段动词&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;編む／選ぶ／歌う／抱く&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;是&lt;code&gt;「る」&lt;/code&gt;结尾的动词，分以下情形
    &lt;ul&gt;
      &lt;li&gt;如果是「～する」，即&lt;code&gt;サ变动词&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;する／参加する／散歩する／説明する&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;如果是「来る（くる）」，即&lt;code&gt;カ变动词&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;来る&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;如果倒数第二个假名落在「い」段或者「え」段的，即&lt;code&gt;一段动词&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;「い」段的，称为上一段&lt;/li&gt;
          &lt;li&gt;「え」段的，称为下一段&lt;/li&gt;
          &lt;li&gt;覚える／抱える／生きる／離れる&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;其他的仍然是&lt;code&gt;五段动词&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;破る／掘る／去る／撮る&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;当然了还有我们不断在强调的特殊的26个五段动词，它们貌似一段动词符合一段动词的定义，但实为五段动词。这些都需要个别记忆。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;嘲（あざけ）る&lt;/td&gt;
          &lt;td&gt;焦（あせ）る&lt;/td&gt;
          &lt;td&gt;要（い）る&lt;/td&gt;
          &lt;td&gt;煎（い）る&lt;/td&gt;
          &lt;td&gt;返（かえ）る&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;帰（かえ）る&lt;/td&gt;
          &lt;td&gt;限（かぎ）る&lt;/td&gt;
          &lt;td&gt;切（き）る&lt;/td&gt;
          &lt;td&gt;覆（くつがえ）る&lt;/td&gt;
          &lt;td&gt;蹴（け）る&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;遮（さえぎ）る&lt;/td&gt;
          &lt;td&gt;茂（しげ）る&lt;/td&gt;
          &lt;td&gt;湿（しめ）る&lt;/td&gt;
          &lt;td&gt;知（し）る&lt;/td&gt;
          &lt;td&gt;滑（すべ）る&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;散（ち）る&lt;/td&gt;
          &lt;td&gt;照（て）る&lt;/td&gt;
          &lt;td&gt;握（にぎ）る&lt;/td&gt;
          &lt;td&gt;练（ね）る&lt;/td&gt;
          &lt;td&gt;骂（ののし）る&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;入（はい）る&lt;/td&gt;
          &lt;td&gt;走（はし）る&lt;/td&gt;
          &lt;td&gt;减（へ）る&lt;/td&gt;
          &lt;td&gt;参（まい）る&lt;/td&gt;
          &lt;td&gt;混（ま）じる&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;涨（みなぎ）る&lt;/td&gt;
          &lt;td&gt; &lt;/td&gt;
          &lt;td&gt; &lt;/td&gt;
          &lt;td&gt; &lt;/td&gt;
          &lt;td&gt; &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;【补充】
有的教材将动词按照词形变化规律分为1类动词、2类动词以及3类动词，其实质与五段动词、一段动词、サ变动词以及カ变动词并没有不同。两种称呼的对应关系是：　&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1类动词	→	五段动词　　
2类动词	→	一段动词　　
3类动词	→	サ变／カ变
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;44-活用的规律&quot;&gt;4.4 活用的规律&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID44000&quot;&gt;&lt;/span&gt;
了解完了活用的分类，以及活用形的应用场景，随后又学习了下动词应该如何分类。接下来就要将两者组合起来了，通过活用形以及动词分类的组合，来学习活用的形变规律。&lt;/p&gt;

&lt;p&gt;这里有两种思路，一种是根据动词分类的方式从五段动词、一段动词等的视角，来看五段动词、一段动词的未然形是怎么变化的、连用形是怎么变化的，等。&lt;/p&gt;

&lt;p&gt;另一种思路是，从活用形的视角，来看未然形、连用形的五段动词、一段动词是怎么变化的。&lt;/p&gt;

&lt;p&gt;这里选择使用第一种，因为首先造句的时候，先确定的是动词，然后根据动词可以知道其分类，然后根据表述的句子能决定到底是什么活用形。所以从动词分类的视角来学习如何变化是最符合实际使用情况的。&lt;/p&gt;

&lt;h4 id=&quot;441-五段动词&quot;&gt;4.4.1 五段动词&lt;/h4&gt;
&lt;p&gt;五段动词的变化虽然有规则可寻，但因其变化在&lt;code&gt;あ、い、う、え、お&lt;/code&gt;这五段音上，所以常被认为是最复杂的类型。&lt;/p&gt;

&lt;p&gt;五段动词在变化的时候，会保留语尾最后一个假名的子音，只变化母音。举例来说：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;「く」(ku)若在「あ」(a)段上变化，就变成「か」(ka)&lt;/li&gt;
  &lt;li&gt;「く」(ku)若在「い」(i)段上变化，就变成「き」(ki)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;依此类推。但如果语尾最后一个假名是没有子音的「う」，若在「あ」(a)段上变化，会加上w音，变成「わ」(wa)，至于其他段就直接变化即可。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;否定时变化规律：转&lt;code&gt;あ&lt;/code&gt;段假名
推量时变化规律：转&lt;code&gt;お&lt;/code&gt;段假名&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;く&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;か&lt;/code&gt;・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;こ&lt;/code&gt;・う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;想要去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;泳ぐ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;およ&lt;code&gt;ぐ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;およ&lt;code&gt;が&lt;/code&gt;・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不游泳&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;およ&lt;code&gt;ご&lt;/code&gt;・う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;想要游泳&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;聞く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き&lt;code&gt;く&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き&lt;code&gt;か&lt;/code&gt;・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不听&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き&lt;code&gt;こ&lt;/code&gt;・う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;想要听&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;休む&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やす&lt;code&gt;む&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やす&lt;code&gt;ま&lt;/code&gt;・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不休息&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やす&lt;code&gt;も&lt;/code&gt;・う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;想要休息&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;特例：唯一与上述规律有违的是“ある／有、在”。“ある”的否定形式不是“あら・ない”，而是“ない／没有、不在”。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：转&lt;code&gt;い&lt;/code&gt;段假名&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;く&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;き&lt;/code&gt;・ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;呼ぶ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;ぶ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;び&lt;/code&gt;・ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;呼唤&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;同动词辞书形（原形）&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;行く&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;动词辞书形（原形）不转换，后加 ひと、こと、とき 等&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;行くこと&lt;/li&gt;
  &lt;li&gt;呼ぶこと&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：转&lt;code&gt;え&lt;/code&gt;段假名&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;く&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;け&lt;/code&gt;・ば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去了就…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;呼ぶ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;ぶ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;べ&lt;/code&gt;・ば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;呼唤了就…&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;命令形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：转&lt;code&gt;え&lt;/code&gt;段假名&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;く&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;い&lt;code&gt;け&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;や&lt;code&gt;る&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;や&lt;code&gt;れ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;做！&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;442-一段动词&quot;&gt;4.4.2 一段动词&lt;/h4&gt;
&lt;p&gt;上一段动词和下一段动词的变化最为简单，只要去掉语尾最后的「る」，再加上五段动词公式一变化时需要加的字即可。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起きる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おきる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おき・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不起床&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不看&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべ・よう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;寝る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ねる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ね・よう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;睡吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起きる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おきる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おき・ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起床&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;看&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべ・ましょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;寝る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ねる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ね・ましょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;睡吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;同动词辞书形（原形）&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;起きる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;动词辞书形（原形）不转换，后加 ひと、こと、とき 等&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;起きるとき&lt;/li&gt;
  &lt;li&gt;食べること&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后加&lt;code&gt;れば&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起きる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おきる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おき・れば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起床的话，就…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・れば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;看了的话，就…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たべ・れば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;吃了的话，就…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;寝る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ねる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ね・れば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;睡的话，就…&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;命令形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;后加 ろ(口语)、よ(文书)&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起きる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おきる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おき・ろ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;起来！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・よ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;看吧！&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;443-サ变动词&quot;&gt;4.4.3 サ变动词&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;词干加“し”，然后：否定加助动词“ない”，推量加助动词“よう”&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不做&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうし・ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不学习&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し・よう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;做吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうし・よう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;学习吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;词干加“し”&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し・ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;做&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうし・ましょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;学习吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;同动词辞书形（原形）&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;勉強する&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;动词辞书形（原形）不转换，后加 ひと、こと、とき 等&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;するとき&lt;/li&gt;
  &lt;li&gt;勉強すること&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;词干加&lt;code&gt;すれば&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;すれば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;做的话，就…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょう・すれば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;学习了的话，就…&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;命令形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;词干加 しろ(口语)、せよ(文书)&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解释&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しろ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;快做！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょうする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;べんきょう・しろ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;快学习！&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;444-カ变动词&quot;&gt;4.4.4 カ变动词&lt;/h4&gt;
&lt;p&gt;因为只有一个&lt;code&gt;来る（くる）&lt;/code&gt;就直接上例子了&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる → こ・ない&lt;/li&gt;
  &lt;li&gt;くる → こ・よう&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる → き・ます&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる → くれば&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;命令形&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;くる → こい&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;446-音便&quot;&gt;4.4.6 音便&lt;/h4&gt;
&lt;p&gt;只有非さ(sa)行(语尾最后一个假名为す)的&lt;code&gt;五段动词&lt;/code&gt;才会有音便，当这类的五段动词连用形后接过去式助动词&lt;code&gt;た&lt;/code&gt;或是接续助词&lt;code&gt;て、ては、たも、たん、たって&lt;/code&gt;时，习惯上会自然省略连用形带i母音的假名，而形成促音便、拨音便或是イ(i)音便。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;促音便&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;发生条件及变化：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;原形动词语尾最后一个假名是&lt;code&gt;う&lt;/code&gt;、&lt;code&gt;つ&lt;/code&gt;、&lt;code&gt;る&lt;/code&gt;时：使う、待つ、乗る&lt;/li&gt;
  &lt;li&gt;只限&lt;code&gt;连用形&lt;/code&gt;：う → い、つ → ち、る → り&lt;/li&gt;
  &lt;li&gt;后续为&lt;code&gt;て&lt;/code&gt;或&lt;code&gt;た&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;活用会被转成&lt;code&gt;っ&lt;/code&gt;：い → っ、ち → っ、り → っ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;连用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;接续&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用/音便&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;使う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つかう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つか&lt;code&gt;い&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つか&lt;code&gt;っ&lt;/code&gt;・て&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;待つ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ま&lt;code&gt;ち&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;た&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ま&lt;code&gt;っ&lt;/code&gt;・た&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;乗る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の&lt;code&gt;り&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の&lt;code&gt;っ&lt;/code&gt;・て&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;拨音便&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;发生条件及变化：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;原形动词语尾最后一个假名是&lt;code&gt;ぬ&lt;/code&gt;、&lt;code&gt;ぶ&lt;/code&gt;、&lt;code&gt;む&lt;/code&gt;时：死ぬ、呼ぶ、飲む&lt;/li&gt;
  &lt;li&gt;只限&lt;code&gt;连用形&lt;/code&gt;：ぬ → に、ぶ → び、む → み&lt;/li&gt;
  &lt;li&gt;后续为&lt;code&gt;て&lt;/code&gt;或&lt;code&gt;た&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;活用会被转成&lt;code&gt;ん&lt;/code&gt;：に → ん、び → ん、み → ん&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ん后面&lt;/code&gt;的假名会&lt;code&gt;浊化&lt;/code&gt;：て → で、た → だ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;连用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;接续&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用/音便&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;死ぬ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しぬ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し&lt;code&gt;に&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;呼ぶ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よぶ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;び&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;た&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;だ&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;飲む&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のむ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のみ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の&lt;code&gt;み&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;のみ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;イ音便&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;发生条件及变化：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;原形动词语尾最后一个假名是&lt;code&gt;く&lt;/code&gt;或&lt;code&gt;ぐ&lt;/code&gt;时：書く、聞く&lt;/li&gt;
  &lt;li&gt;只限&lt;code&gt;连用形&lt;/code&gt;：く → き、ぐ → ぎ&lt;/li&gt;
  &lt;li&gt;后续为&lt;code&gt;て&lt;/code&gt;或&lt;code&gt;た&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;活用会被转成&lt;code&gt;い&lt;/code&gt;：き → い、ぎ → い&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ぎ&lt;/code&gt;的情况&lt;code&gt;い后面&lt;/code&gt;的假名会&lt;code&gt;浊化&lt;/code&gt;：て → で、た → だ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;单词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;-&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;连用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;接续&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用/音便&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かき&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;code&gt;き&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かき&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;code&gt;い&lt;/code&gt;・て&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;聞く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きき&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き&lt;code&gt;き&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きき&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;た&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き&lt;code&gt;い&lt;/code&gt;・た&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;嗅ぐ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かぐ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かぎ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;code&gt;ぎ&lt;/code&gt;・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;→&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かぎ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;code&gt;い&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;例外&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;行く（いく）&lt;/code&gt;在后接&lt;code&gt;て、た&lt;/code&gt;时，不发生イ音便，而是发生促音便。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;行く+て → 行って&lt;/li&gt;
  &lt;li&gt;行く+た → 行った&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;45-活用的范式&quot;&gt;4.5 活用的范式&lt;/h3&gt;
&lt;p&gt;日本的动词在不同时式(现在、过去、意志邀约、无意志未来(推测过去、推测未来))、语态(常体、敬体)、语气(肯定、否定)，可有5*2*2=20种组合，但意志邀约并没有否定语气，所以只剩下18种组合，称为「动词十八式」。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语态&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;辞书形（原形）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;br /&gt;去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ます&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行きます&lt;br /&gt;要去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かない&lt;br /&gt;不去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ません&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行きません&lt;br /&gt;不要去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+过去式助动词た&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行った&lt;br /&gt;去了&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ました&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行きました&lt;br /&gt;去过了&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+なっかた（ない去い加かった）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かなかった&lt;br /&gt;没有去&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ませんでした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行きませんでした&lt;br /&gt;没有去过&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;意志邀约&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（意志）+う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行こう&lt;br /&gt;去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;意志邀约&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ましょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行きましょう&lt;br /&gt;一起去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;辞书形+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行くだろう&lt;br /&gt;要去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;辞书形+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行くでしょう&lt;br /&gt;要去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+ない+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かないだろう&lt;br /&gt;不去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+ない+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かないでしょう&lt;br /&gt;不要去吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+过去式助动词た+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行っただろう&lt;br /&gt;去过了吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+过去式助动词た+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行ったでしょう&lt;br /&gt;有去过了吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+なかった（ない去い加かった）+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かなかっただろう&lt;br /&gt;没去过吧！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;无意志未来&lt;br /&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（否定）+なかった（ない去い加かった）+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かなかったでしょう&lt;br /&gt;没有去过吧！&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;5-形容词&quot;&gt;5. 形容词&lt;/h2&gt;
&lt;p&gt;&lt;span id=&quot;ID50000&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;51-活用&quot;&gt;5.1 活用&lt;/h3&gt;
&lt;p&gt;一个形容词必定由い结尾，这即是其原形（终止形）。&lt;/p&gt;

&lt;h3 id=&quot;52-活用的规律&quot;&gt;5.2 活用的规律&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去い + かろ + 推量助动词う / かった（过去式）&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;京都の桜は美し&lt;code&gt;かろう&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;昨日はとっても楽し&lt;code&gt;かった&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去い + く +&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;名词/副词&lt;/li&gt;
  &lt;li&gt;て（中止接续）&lt;/li&gt;
  &lt;li&gt;ない（否定）&lt;/li&gt;
  &lt;li&gt;なる（表变化）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;美味し&lt;code&gt;くて&lt;/code&gt;たまらない。&lt;/li&gt;
  &lt;li&gt;彼女は全然美し&lt;code&gt;くない&lt;/code&gt;。&lt;/li&gt;
  &lt;li&gt;だんだん暑&lt;code&gt;くなる&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;原形，无变化&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;美味しい&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：无变化，原形 + ひと、こと、とき、ところ、もの或其他名词&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;美味しいご飯&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去い + ければ + ···&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;楽し&lt;code&gt;ければ&lt;/code&gt;···&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;53-活用的范式&quot;&gt;5.3 活用的范式&lt;/h3&gt;
&lt;p&gt;日本的形容词在不同时式(现在、过去、推测过去、推测未来)、语态(常体、敬体)、语气(肯定、否定)，可有4*2*2=16种组合，称为「形容词十六式」。&lt;/p&gt;

&lt;p&gt;以「美味しい」(おいしい)举例，变化方式如下：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语态&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;好吃的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）+です&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しいです&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不好吃的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くない+です&lt;br /&gt;连用形+く+ありません&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくない&lt;br /&gt;美味しくありません&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不美味的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+かった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;好吃的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+かった+です&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しかったです&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不好吃的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くなかった+です&lt;br /&gt;连用形+く+ありません+でした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくなっかたです&lt;br /&gt;美味しくありませんでした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不美味的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しいだろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;好吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しいでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くない+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくないだろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不好吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くない+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくないでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不美味吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+かった+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しかっただろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;好吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+かった+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しかったでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くなかった+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくなかっただろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不好吃吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+くなかった+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しくなかったでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不美味吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;6-形容动词&quot;&gt;6. 形容动词&lt;/h2&gt;
&lt;p&gt;&lt;span id=&quot;ID60000&quot;&gt;&lt;/span&gt;
形容动词和形容词的差别其实不用想太多，只要把它当作是活用方式不同的形容词即可。&lt;/p&gt;

&lt;h3 id=&quot;61-活用&quot;&gt;6.1 活用&lt;/h3&gt;
&lt;p&gt;一个形容动词必定由だ(da)结尾，这即是其原形（终止形）。&lt;/p&gt;

&lt;h3 id=&quot;62-活用的规律&quot;&gt;6.2 活用的规律&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;未然形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：原形 + ろう(推测)&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;綺麗だ&lt;code&gt;ろう&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连用形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去だ +&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;だった(过去)&lt;/li&gt;
  &lt;li&gt;ではない(否定)&lt;/li&gt;
  &lt;li&gt;に(副词)&lt;/li&gt;
  &lt;li&gt;に成る(になる, 表变化)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;綺麗&lt;code&gt;ではない&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;终止形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;原形，无变化&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;綺麗だ。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连体形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去だ + な + ひと、こと、とき、ところ、もの(人、事、时、地、物)或其他名词&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;綺麗な&lt;code&gt;もの&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;假定形&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;变化规律：去だ + なら + ···&lt;/p&gt;

&lt;p&gt;例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;綺麗&lt;code&gt;なら&lt;/code&gt;···&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;63-活用的范式&quot;&gt;6.3 活用的范式&lt;/h3&gt;
&lt;p&gt;日本的形容动词在不同时式(现在、过去、推测过去、推测未来)、语态(常体、敬体)、语气(肯定、否定)，可有4*2*2=16种组合，称为「形容动词十六式」。&lt;/p&gt;

&lt;p&gt;以「静かだ」(しずかだ)举例，变化方式如下：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语态&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）去だ+です&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かです&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;现在式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+では+ありません&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではありません&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+だった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かだった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）去だ+でした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かでした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去式&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+では+ありません+でした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではありませんでした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静的&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形（即原形+ろう）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かだろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形（原形）去だ+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではない+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではないだろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测未来&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではない+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではないでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+だった+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かだっただろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+だった+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かだったでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;常体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではなっかた+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではなっかただろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静吧&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;推测过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;敬体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ではなっかた+でしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;静かではなっかたでしょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不安静吧&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;7-动词的体时态&quot;&gt;7. 动词的体、时、态&lt;/h2&gt;
&lt;h3 id=&quot;71-理解动词的体时态&quot;&gt;7.1 理解动词的体、时、态&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID71000&quot;&gt;&lt;/span&gt;
在英语的学习中，都会教：一般现在时、一般过去时、现在进行时、过去进行时、现在完成时、过去完成时等，被动态，等，这种被称为时态。在进行表达的时候，需要根据实际的意思进行时态的选用，才不会表达出错误的意思。英语在这方面是比较简单的，每一个时态都有固定的范式：现在进行时&lt;code&gt;ing&lt;/code&gt;，被动态&lt;code&gt;ed&lt;/code&gt;，等。&lt;/p&gt;

&lt;p&gt;日语中也有类似的需求和语法规则，但在这方面，日语要复杂得多得多，日语分为三重概念：体、时、态，而且每个概念里都有诸多细节，并不能像英语一样简单罗列成几个范式。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;日语中的体、时、态&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;体：动词所表现的动作、作用有的可以是一个过程，即存在着动作作用的开始、进行和结束等阶段。动词的“体（アスペクト）”就是记述动作、作用等处于何种进行情况的语法范畴。
    &lt;ul&gt;
      &lt;li&gt;持续体：持续体表示动作、行为在某一时间内持续进行或正在进行、反复进行。&lt;/li&gt;
      &lt;li&gt;存续体：存续体表示动作、行为所造成的状态、所形成的結果还在保留着。&lt;/li&gt;
      &lt;li&gt;完成体：完成体指的是动作、行为的完成、结束。&lt;/li&gt;
      &lt;li&gt;准备体：准备体表示该动作是为下一步做准备而做的。&lt;/li&gt;
      &lt;li&gt;即将体：即将体表示动作、行为、作用等就要发生。&lt;/li&gt;
      &lt;li&gt;起始体：起始体表示动作、行为、作用的开始。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;时：时（テンス）是一个语法范畴，指通过一定的语法形式表示动作、作用、状态的发生时间与某一基准时间（通常是说话的时间）之间的关系。
    &lt;ul&gt;
      &lt;li&gt;非过去时：非过去时由动词（包括体的补助动词、构成态的助动词以及敬语助动词ます）的终止形直接构成。&lt;/li&gt;
      &lt;li&gt;过去时：过去时由“动词连用形+た”构成。这里说的动词，也包括补助动词及动词型活用的助动词。&lt;/li&gt;
      &lt;li&gt;分句中的时：参考&lt;code&gt;8.5&lt;/code&gt;的整理。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;态：基于着眼点的不同，描述同样一件事情时，既可以从动作的施事者出发，也可以从动作的受事者出发，还可以从指使者出发，如此等等。由于动词所指动作与主语的关系所形成的谓语动词的形态变化，叫作动词的“态（ヴォイス）”。
    &lt;ul&gt;
      &lt;li&gt;被动态：当描述某一动作、行为时，不是以施事者为主角，而是以承受者为主角进行描述，该动词所表现的形态，就是被动态。&lt;/li&gt;
      &lt;li&gt;使动态：在描述某一动作、行为时，不是以施事者为主角，而是以指使者、容许者或者促成者为主角描迷，该动词所表现的形态就是使动态。&lt;/li&gt;
      &lt;li&gt;可能态：当叙述焦点不在动作本身，而转移到实现动作的能力或可能性时，动作所发生的形态变化，称为可能态。&lt;/li&gt;
      &lt;li&gt;自然发生态：描述的焦点在于动作行为是自然而然地发生、自然而然地产生某种结果时，动词的形态变化，就是自然发生态，可简称“自发态”。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;72-体时态详解&quot;&gt;7.2 体时态详解&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID72000&quot;&gt;&lt;/span&gt;
因为学习语言的目的是为了使用，所以将可以复合组合的体时态拆开一个个单独讲解和理解其实并没有意义，重要的是如何将表达一个个意思的一组组体时态的组合理解并学会，这样才能拿来实际运用。这也是为什么你看出口仁老师的视频教程有N5语法一览这样的视频集合，里面每一个视频每一课其实就是一个体时态组合起来的表达运用，学会了就可以直接使用；这也是为什么顾明耀的语法书学了之后你不能直接拿来用的原因，因为那本书把所有的概念都拆散了拿来详细分析，只有各部分的细节，没有组合运用。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;补助动词速查&lt;/strong&gt; &lt;span id=&quot;ID72001&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;下述语法涉及到了大量补助动词，且部分补助动词有一词多用的特点，导致语法点散落在多个体时态章节中，因此将其统一整理成表格：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;补助动词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语法点&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ている&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72020&quot;&gt;持续体&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72030&quot;&gt;存续体&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72032&quot;&gt;ている和てある的区别&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72033&quot;&gt;瞬间动词+た&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72035&quot;&gt;表经历、记录&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72036&quot;&gt;形容性动词&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72037&quot;&gt;瞬间动词+ている的否定形式&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;てくる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72021&quot;&gt;持续体、空间由远及近、起始体、状态变化、显现过程&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ていく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72022&quot;&gt;持续体、空间由近及远、状态变化、消失过程&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;てある&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72031&quot;&gt;存续体&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72032&quot;&gt;ている和てある的区别&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72034&quot;&gt;ておく和てある的区别&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;てしまう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72040&quot;&gt;完成态、消极态度、情不自禁、约音用法&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ておく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72050&quot;&gt;将来打算、放任态度、约音用法&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72034&quot;&gt;ておく和てある的区别、事先准备&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;れる/られる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72060&quot;&gt;被动态&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72080&quot;&gt;可能态：能力、可能性、许可&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72090&quot;&gt;自然发生态&lt;/a&gt;&lt;br /&gt;&lt;a href=&quot;#ID72091&quot;&gt;表尊敬&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せる/させる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;a href=&quot;#ID72070&quot;&gt;使动态：命令、放任&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;721-一般时态&quot;&gt;7.2.1 一般时态&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示一般现在或一般过去的动作和行为。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ます&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;辞书形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+た&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+なっかた&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;722-进行时态持续体&quot;&gt;7.2.2 进行时态（持续体）&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt; &lt;span id=&quot;ID72020&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;表示持续进行中的或反复进行的动作和行为。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ている：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/basic/251-n5-37&quot;&gt;N5文法37【表現篇】「ている／てある」&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;てくる：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/281-n4-17&quot;&gt;N4文法17「てくる」補助動詞&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;ていく：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/280-n4-16&quot;&gt;N4文法16「ていく」補助動詞&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ている&lt;br /&gt;连用形+てくる&lt;br /&gt;连用形+ていく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ています&lt;br /&gt;连用形+てきます&lt;br /&gt;连用形+ていきます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていない&lt;br /&gt;连用形+てこない&lt;br /&gt;连用形+ていかない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていません&lt;br /&gt;连用形+てきません&lt;br /&gt;连用形+ていきません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていた&lt;br /&gt;连用形+てきた&lt;br /&gt;连用形+ていった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていました&lt;br /&gt;连用形+てきました&lt;br /&gt;连用形+ていきました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていなかった&lt;br /&gt;连用形+てこなかった&lt;br /&gt;连用形+ていかなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;继续动词&lt;/code&gt;连用形+ていませんでした&lt;br /&gt;连用形+てきませんでした&lt;br /&gt;连用形+ていきませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;关于时态&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;用多了就会发现，日语里ている等持续体的用法，和英语中的进行时还不能完全对等。日语中的持续体，更多的是表示动作的持续，可以理解为，什么时候用持续体什么时候用存续体，更多取决于执行的动词（动作）是继续动词（持续性动作）还是瞬间动词（瞬间动作），而并非取决于语义理解上的&lt;code&gt;正在（进行时）&lt;/code&gt;和&lt;code&gt;已经（完成时）&lt;/code&gt;。进行时只能说是持续体可能表达的其中一种情况。&lt;/p&gt;

&lt;p&gt;举个例子：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;それは我々もずっと前から懸念&lt;code&gt;していました&lt;/code&gt;。/这件事情我们之前也一直很担心。&lt;/li&gt;
  &lt;li&gt;可以看下两种翻译的差别：之前一直很担心/之前正在担心，这里显然是前者&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ている&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ている其本身转&lt;code&gt;て形&lt;/code&gt;的时候，会变成&lt;code&gt;ていて&lt;/code&gt;，在口语中有时会转为&lt;code&gt;てて&lt;/code&gt;，方便发音：
    &lt;ul&gt;
      &lt;li&gt;彼らを見張っ&lt;code&gt;ていて&lt;/code&gt;欲しい。&lt;/li&gt;
      &lt;li&gt;彼らを見張っ&lt;code&gt;てて&lt;/code&gt;欲しい。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;てくる&lt;/strong&gt; &lt;span id=&quot;ID72021&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;てくる&lt;/code&gt;除了进行时态之外，还有多种语法意义：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;时间由过去向现在发展，同时动作持续进行或重复进行；这是当前章节所描述的&lt;code&gt;进行时态&lt;/code&gt;，多用于过去时
    &lt;ul&gt;
      &lt;li&gt;三時から、雨が&lt;code&gt;降ってきました&lt;/code&gt;。/3点开始一直都在下雨。&lt;/li&gt;
      &lt;li&gt;この事件をずっと&lt;code&gt;調べてきた&lt;/code&gt;のです。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;空间由远及近
    &lt;ul&gt;
      &lt;li&gt;子供が&lt;code&gt;走ってきました&lt;/code&gt;。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;体时态中，体的&lt;code&gt;起始体&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;雨が&lt;code&gt;降ってきた&lt;/code&gt;。/（刚刚）开始下起雨来。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;表示状态变化、显现过程
    &lt;ul&gt;
      &lt;li&gt;だんだん暑く&lt;code&gt;なってきました&lt;/code&gt;。/（从前一阵开始）慢慢变热了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ていく&lt;/strong&gt; &lt;span id=&quot;ID72022&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ていく&lt;/code&gt;除了进行时态之外，还有多种语法意义：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;时间由现在向将来发展，同时动作持续进行或重复进行；这是当前章节所描述的&lt;code&gt;进行时态&lt;/code&gt;，多用于非过去时
    &lt;ul&gt;
      &lt;li&gt;これからも&lt;code&gt;頑張っていきましょう&lt;/code&gt;。&lt;/li&gt;
      &lt;li&gt;二人で&lt;code&gt;生きていきます&lt;/code&gt;。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;空间由近及远
    &lt;ul&gt;
      &lt;li&gt;バスが&lt;code&gt;やっていきました&lt;/code&gt;。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;表示状态变化、消失过程
    &lt;ul&gt;
      &lt;li&gt;だんだん暑く&lt;code&gt;なっていきます&lt;/code&gt;。/（最近开始）慢慢变热了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;723-行为结果状态存续体-完成时态&quot;&gt;7.2.3 行为结果、状态（存续体）/ 完成时态△&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示动作、行为所造成的状态、所形成的結果还在保留着。同时，ている也可以表示经历、记录。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ている：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/basic/251-n5-37&quot;&gt;N5文法37【表現篇】「ている／てある」&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;てある：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/basic/251-n5-37&quot;&gt;N5文法37【表現篇】「ている／てある」&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ている&lt;br /&gt;连用形+てある&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ています&lt;br /&gt;连用形+てあります&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていない&lt;br /&gt;てない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていません&lt;br /&gt;连用形+てありません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていた&lt;br /&gt;连用形+てあった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていました&lt;br /&gt;连用形+てありました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていなかった&lt;br /&gt;连用形+てなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;瞬间动词&lt;/code&gt;连用形+ていませんでした&lt;br /&gt;连用形+てありませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;存续体是日语中很特殊的用法（其他语言的时态中，并没有这样非常针对性的构成），表示动作行为所造成的状态、结果仍旧存在着。这个语法点在理解上的主要问题是：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;存续体中的重要组成部分补助动词&lt;code&gt;ている&lt;/code&gt;在&lt;code&gt;进行时态&lt;/code&gt;中也存在，这就导致了实际运用时的理解困难：
    &lt;ul&gt;
      &lt;li&gt;存续体：井上先生はいま中国に&lt;code&gt;行っている&lt;/code&gt;。/井上老师现在到中国去了。（不是过去这个行为，而是已经在那边的状态）&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;存续体的&lt;code&gt;状态、结果&lt;/code&gt;的含义在某些场景和句意下很容易和&lt;code&gt;完成体&lt;/code&gt;的翻译以及&lt;code&gt;准备体的ておく&lt;/code&gt;混淆：
    &lt;ul&gt;
      &lt;li&gt;存续体：このご飯はもう&lt;code&gt;腐っている&lt;/code&gt;。/这米饭已经馊了。&lt;/li&gt;
      &lt;li&gt;存续体：教授には、もう受賞のお祝いの電報を&lt;code&gt;打ってある&lt;/code&gt;。/已经给教授发去了获奖的祝贺电报。&lt;/li&gt;
      &lt;li&gt;存续体：新しいバットを&lt;code&gt;注文してある&lt;/code&gt;。/已经定好了新球棒。&lt;/li&gt;
      &lt;li&gt;准备体：自転車はもう&lt;code&gt;買っておい&lt;/code&gt;た。/自行车已经买好了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下面详细讲解下语法点和区别：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;存续体：
    &lt;ul&gt;
      &lt;li&gt;ている：&lt;span id=&quot;ID72030&quot;&gt;&lt;/span&gt;
        &lt;ul&gt;
          &lt;li&gt;存续体的ている必须和&lt;code&gt;瞬间动词&lt;/code&gt;组合使用，而进行时态的ている（持续体）则是和继续动词组合使用&lt;/li&gt;
          &lt;li&gt;正因为是瞬间动词，所以虽然中文翻译都是&lt;code&gt;已经...&lt;/code&gt;但和完成体不同，着重点在于动作结束后留下的结果和状态，而不是动作本身
            &lt;ul&gt;
              &lt;li&gt;桜の木が&lt;code&gt;枯れている&lt;/code&gt;。/櫻树已经枯死了。&lt;/li&gt;
              &lt;li&gt;このご飯はもう&lt;code&gt;腐っている&lt;/code&gt;。/这米饭已经馊了。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;てある：&lt;span id=&quot;ID72031&quot;&gt;&lt;/span&gt;
        &lt;ul&gt;
          &lt;li&gt;てある必须搭配&lt;code&gt;他动词&lt;/code&gt;使用，强调的是人为的结果&lt;/li&gt;
          &lt;li&gt;同样的，翻译虽然是&lt;code&gt;已经...&lt;/code&gt;，但强调的是结果和状态&lt;/li&gt;
          &lt;li&gt;自动词
            &lt;ul&gt;
              &lt;li&gt;並ぶ+&lt;code&gt;ている&lt;/code&gt;&lt;/li&gt;
              &lt;li&gt;お皿が並んでいる。&lt;/li&gt;
              &lt;li&gt;盘子已经排好了。（强调盘子排好的状态）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;他动词
            &lt;ul&gt;
              &lt;li&gt;並べる+&lt;code&gt;てある&lt;/code&gt;&lt;/li&gt;
              &lt;li&gt;お皿が並べてある。&lt;/li&gt;
              &lt;li&gt;盘子已经（被某人）排好了。（强调某人排好了盘子）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;ている和てある的区别：&lt;span id=&quot;ID72032&quot;&gt;&lt;/span&gt;
        &lt;ul&gt;
          &lt;li&gt;ている着重于结果和状态
            &lt;ul&gt;
              &lt;li&gt;ドアが開いている。&lt;/li&gt;
              &lt;li&gt;门开着。（强调状态）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;てある着重于人为的结果
            &lt;ul&gt;
              &lt;li&gt;ドアが開けてある。&lt;/li&gt;
              &lt;li&gt;（我把）门（打开）开着。（人为结果）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;助词使用上
            &lt;ul&gt;
              &lt;li&gt;持续体：对象+を+他动词+ている：お皿&lt;code&gt;を&lt;/code&gt;並べている。(正在排盘子)&lt;/li&gt;
              &lt;li&gt;存续体：对象+が+他动词+てある：お皿&lt;code&gt;が&lt;/code&gt;並べてある。(某人排好盘子)&lt;/li&gt;
              &lt;li&gt;存续体：对象+が+自动词+ている：お皿&lt;code&gt;が&lt;/code&gt;並んでいる。(盘子排好着)&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;ている：在作定语从句中的谓语时，可以变化为&lt;code&gt;瞬间动词+た&lt;/code&gt;的形式：&lt;span id=&quot;ID72033&quot;&gt;&lt;/span&gt;
        &lt;ul&gt;
          &lt;li&gt;メガネを&lt;code&gt;かけている&lt;/code&gt;人は王さんだ。&lt;/li&gt;
          &lt;li&gt;メガネを&lt;code&gt;かけた&lt;/code&gt;人は王さんだ。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;准备体：&lt;span id=&quot;ID72034&quot;&gt;&lt;/span&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;ておく&lt;/code&gt;（准备体）和&lt;code&gt;てある&lt;/code&gt;（存续体）在&lt;code&gt;为了某事做好准备...（已经...）&lt;/code&gt;这个用法上的语义是一致的，但有区别
        &lt;ul&gt;
          &lt;li&gt;ておく必须搭配&lt;code&gt;意志动词&lt;/code&gt;使用，可以表达请求、命令、愿望、劝诱等意思&lt;/li&gt;
          &lt;li&gt;ておく着眼点在于人为结果，行为的人；而てある则只关注结果和状态&lt;/li&gt;
          &lt;li&gt;ておく更多地含有事先准备的意思，因此多用过去时，而てある则无所谓时的问题，过去非过去都可
            &lt;ul&gt;
              &lt;li&gt;自転車はもう&lt;code&gt;買っておい&lt;/code&gt;た。/自行车已经买好了。&lt;/li&gt;
              &lt;li&gt;新しいバットを&lt;code&gt;注文してある&lt;/code&gt;。/已经定好了新球棒。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ている&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;此外，关于&lt;code&gt;ている&lt;/code&gt;还有几点补充：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;持续体的ている还可以表示&lt;code&gt;经历、记录&lt;/code&gt; &lt;span id=&quot;ID72035&quot;&gt;&lt;/span&gt;
    &lt;ul&gt;
      &lt;li&gt;这个用法和表示行为的结果和状态类似，但实际上意思还是有点不同的&lt;/li&gt;
      &lt;li&gt;这个不同更多的不是从语法上，而是从释义上来理解（也就是说不需要想太多）
        &lt;ul&gt;
          &lt;li&gt;存续体表状态：井上先生はいま中国に&lt;code&gt;行っている&lt;/code&gt;。/井上老师现在到中国去了。&lt;/li&gt;
          &lt;li&gt;存续体表经历：井上先生は中国に何回も&lt;code&gt;行っている&lt;/code&gt;。/井上老师去过好多次中国。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;形容性动词 &lt;span id=&quot;ID72036&quot;&gt;&lt;/span&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;形容性动词+ている&lt;/code&gt;可以表示动作的性质，这种用法更类似于形容词&lt;/li&gt;
      &lt;li&gt;因为这种用法仍旧还是ている，所以要和&lt;code&gt;继续动词的持续体&lt;/code&gt;分清楚
        &lt;ul&gt;
          &lt;li&gt;あの人は&lt;code&gt;太っています&lt;/code&gt;。&lt;/li&gt;
          &lt;li&gt;彼の作品は&lt;code&gt;優れています&lt;/code&gt;。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;瞬间动词+ている的否定形式 &lt;span id=&quot;ID72037&quot;&gt;&lt;/span&gt;
    &lt;ul&gt;
      &lt;li&gt;虽然在上面的构成表（一般规律）中有写否定形式是
        &lt;ul&gt;
          &lt;li&gt;非过去：常体：连用形+ていない；敬体：连用形+ていません&lt;/li&gt;
          &lt;li&gt;过去时：常体：连用形+ていなかった；敬体：连用形+ていませんでした&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;但实际使用的时候则是去掉ている的&lt;code&gt;一般时态的否定形式&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;构成：
            &lt;ul&gt;
              &lt;li&gt;非过去：常体：未然形+ない；敬体：连用形+ません&lt;/li&gt;
              &lt;li&gt;过去时：常体：未然形+なかった；敬体：连用形+ませんでした&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;举个例子&lt;code&gt;知る&lt;/code&gt;，一般对话都是：
            &lt;ul&gt;
              &lt;li&gt;知っていますか。/你知道吗？&lt;/li&gt;
              &lt;li&gt;知らない。/知りません。/我不知道。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;724-完成时态完成体&quot;&gt;7.2.4 完成时态（完成体）&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示动作、行为的完成、结束。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;てしまう：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/283-n4-19&quot;&gt;N4文法19「てしまう」補助動詞&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまいます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまわない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまいません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまいました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまわなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまいませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;てしまう&lt;/strong&gt; &lt;span id=&quot;ID72040&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;完成时态：与存续体的区别（更完整的细节可以查看章节&lt;a href=&quot;#ID72030&quot;&gt;&lt;code&gt;7.2.3&lt;/code&gt;&lt;/a&gt;）
    &lt;ul&gt;
      &lt;li&gt;完成体&lt;code&gt;てしまう&lt;/code&gt;着重的是行为的完成，动作做完这件事
        &lt;ul&gt;
          &lt;li&gt;果物を全部&lt;code&gt;食べてしまった&lt;/code&gt;。/把水果全吃完了。&lt;/li&gt;
          &lt;li&gt;句子的重点在吃完这件事，而不是吃完之后的状态（空盘子、还要再去弄点等）&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;存续体&lt;code&gt;ている、てある&lt;/code&gt;注重的是行为完成后造成的结果或状态，之前在存续体的篇幅里也说过了，存续体的句子翻译过来个个都是&lt;code&gt;已经...&lt;/code&gt;，从这点上来看，存续体其实都是完成时态，但着重点在于结果和状态而已
        &lt;ul&gt;
          &lt;li&gt;お皿が&lt;code&gt;並んでいる&lt;/code&gt;。/盘子已经排好了。&lt;/li&gt;
          &lt;li&gt;句子的重点在排好这个状态，而不是排的动作的完成（后面可以很自然接吃饭之类的后续，因为吃饭的准备动作做完了）&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;完成时之外的其他用法
    &lt;ul&gt;
      &lt;li&gt;表示遗憾、惋惜、悔恨等消极态度
        &lt;ul&gt;
          &lt;li&gt;電車の中にスマホを&lt;code&gt;忘れてきてしまった&lt;/code&gt;。（后悔）&lt;/li&gt;
          &lt;li&gt;亀が死んでしまいました。（遗憾）&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;情不自禁的行为
        &lt;ul&gt;
          &lt;li&gt;笑い事ではないのに&lt;code&gt;笑ってしまった&lt;/code&gt;。&lt;/li&gt;
          &lt;li&gt;思わず&lt;code&gt;泣いてしまった&lt;/code&gt;。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;てしまう可以约音成&lt;code&gt;ちゃう&lt;/code&gt;或&lt;code&gt;ちまう&lt;/code&gt;的形式
    &lt;ul&gt;
      &lt;li&gt;あなたを待っている間に手紙を&lt;code&gt;書いちゃった&lt;/code&gt;。/等你的时候,写完了信。&lt;/li&gt;
      &lt;li&gt;きれいに財産を&lt;code&gt;使っちゃう&lt;/code&gt;。/把财产花个一干二净。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;725-完成准备准备体-完成时态--将来打算&quot;&gt;7.2.5 完成准备（准备体）/ 完成时态△ / 将来打算&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示后续动作的准备工作的完成（过去时），或表示将来的打算（非过去时）。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ておく：&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/284-n4-20&quot;&gt;N4文法20「ておく」補助動詞&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておきます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておかない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておきません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておいた&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておきました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+て置かなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておきませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ておく&lt;/strong&gt; &lt;span id=&quot;ID72050&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;关于&lt;code&gt;ておく&lt;/code&gt;与&lt;code&gt;てある&lt;/code&gt;的区别，以及完成时态的更完整的细节可以查看章节&lt;a href=&quot;#ID72034&quot;&gt;&lt;code&gt;7.2.3&lt;/code&gt;&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;补充语法点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;时的问题：
    &lt;ul&gt;
      &lt;li&gt;虽然在章节&lt;a href=&quot;#ID72034&quot;&gt;7.2.3&lt;/a&gt;的时候说了，ておく有很多情况是使用过去时，这种情况一般是表示&lt;code&gt;已经完成的准备&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;自転車はもう&lt;code&gt;買っておい&lt;/code&gt;た。/自行车已经买好了。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;但也有很多情况是使用非过去时，这种情况一般是表示&lt;code&gt;将来的打算&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;旅行の前に、切符を&lt;code&gt;買っておく&lt;/code&gt;。（尚未去买车票，准备去买）&lt;/li&gt;
          &lt;li&gt;試験までに、単語を&lt;code&gt;覚えておきます&lt;/code&gt;。（尚未开始准备考试，接下去准备背单词）&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;表示放任：
    &lt;ul&gt;
      &lt;li&gt;这种使用情况下，ておく表示的不是准备工作或将来打算，而是完成之后的放任态度，这里的时也是过去时非过去时皆可
        &lt;ul&gt;
          &lt;li&gt;看板をいつまでも&lt;code&gt;出しておく&lt;/code&gt;。/让招牌一直放在外面。&lt;/li&gt;
          &lt;li&gt;とりあえず押し入れに&lt;code&gt;入れておけ&lt;/code&gt;。/先放到壁橱里再说。&lt;/li&gt;
          &lt;li&gt;もうすぐアニメの時間だから、テレビを&lt;code&gt;つけておいて&lt;/code&gt;よ。/马上就要播动画了，电视就让它开着吧。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ておく可以约音成&lt;code&gt;とく&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;言っとく&lt;/code&gt;よ。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;726-被动态&quot;&gt;7.2.6 被动态&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt; &lt;span id=&quot;ID72060&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;表示动作行为的主语并非实施者，主语为承受者的情况。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;分类&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;构成&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;变化&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;五段动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+れる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;言う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;言われる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一段动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+られる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べられる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;サ变动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词根+される(约音)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強される&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;カ变动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+られる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来(こ)られる&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;が/は&lt;/code&gt;&lt;strong&gt;B&lt;/strong&gt;&lt;code&gt;に/から/によって...&lt;/code&gt;&lt;strong&gt;C&lt;/strong&gt;&lt;code&gt;を&lt;/code&gt;&lt;strong&gt;D&lt;/strong&gt;（ら）れる。
    &lt;ul&gt;
      &lt;li&gt;太郎が犬に&lt;code&gt;かまれ&lt;/code&gt;た。/太郎被狗咬了。&lt;/li&gt;
      &lt;li&gt;太郎は先生からよく&lt;code&gt;ほめられる&lt;/code&gt;。/太郎常受到老师表扬。&lt;/li&gt;
      &lt;li&gt;次郎が太郎に英語を&lt;code&gt;教えられる&lt;/code&gt;。/次郎由太郎教(他)英语&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A：动作承受方，主语&lt;/li&gt;
  &lt;li&gt;B：动作实施方，人物宾语&lt;/li&gt;
  &lt;li&gt;C：传递物，事物宾语&lt;/li&gt;
  &lt;li&gt;D：动作&lt;/li&gt;
  &lt;li&gt;C的这一部分并不是必须的，有的表述需要有的则不需要；如果存在的话，则必须在A和B两者之间有物质的或精神的东西传递（即C）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;直接被动句：
    &lt;ul&gt;
      &lt;li&gt;直接被动句的动词都是&lt;code&gt;他动词&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;直接被动句&lt;code&gt;可以还原&lt;/code&gt;为&lt;code&gt;主动句&lt;/code&gt;进行叙述&lt;/li&gt;
      &lt;li&gt;直接被动句就是最常见的被动句表述方式
        &lt;ul&gt;
          &lt;li&gt;李さんが王さんから辞書を&lt;code&gt;渡され&lt;/code&gt;た。/小李从小王手里接过递过来的辞典。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;间接被动句：
    &lt;ul&gt;
      &lt;li&gt;间接被动句的动词可以是&lt;code&gt;自动词&lt;/code&gt;或&lt;code&gt;他动词&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;自动词&lt;/code&gt;的间接被动句一般&lt;code&gt;无法直接还原&lt;/code&gt;成主动句&lt;/li&gt;
      &lt;li&gt;&lt;code&gt;他动词&lt;/code&gt;的间接被动句&lt;code&gt;可以还原&lt;/code&gt;为主动句&lt;/li&gt;
      &lt;li&gt;间接被动句中，动词（无论是自动词还是他动词）并没有直接作用于叙述的焦点，而是句中的主语从动作施事者那里遭受到不利的影响
        &lt;ul&gt;
          &lt;li&gt;叙述的焦点与动作的施事者或承受者有必然的联系
            &lt;ul&gt;
              &lt;li&gt;混んだ電車の中で足を&lt;code&gt;踏まれ&lt;/code&gt;た。/在拥挤的电车里被人把脚踩了。&lt;/li&gt;
              &lt;li&gt;幼い時に、父に&lt;code&gt;死なれ&lt;/code&gt;た。/很小的时候父亲就死了。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;二者没有必然联系，而是在叙述客观事实时偶然建立起了关系
            &lt;ul&gt;
              &lt;li&gt;私は帰る途中、雨に&lt;code&gt;降られ&lt;/code&gt;た。/我回来的路上被雨淋了。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;727-使动态命令放任&quot;&gt;7.2.7 使动态：命令、放任&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt; &lt;span id=&quot;ID72070&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;表示动作行为的主角并非行为的实际实施者，而是行为的要求者、指使者的情况。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;分类&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;构成&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;变化&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;五段动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+せる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書かせる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一段动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+させる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食べさせる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;サ变动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词根+させる(约音)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強させる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;カ变动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形+させる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来(こ)させる&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;が/は&lt;/code&gt;&lt;strong&gt;B&lt;/strong&gt;&lt;code&gt;に/を&lt;/code&gt;&lt;strong&gt;C&lt;/strong&gt;&lt;code&gt;を&lt;/code&gt;&lt;strong&gt;D&lt;/strong&gt;（さ）せる。
    &lt;ul&gt;
      &lt;li&gt;先生が彼に論文を&lt;code&gt;書かせる&lt;/code&gt;。/老师让他写论文了&lt;/li&gt;
      &lt;li&gt;先生が太郎を廊下に&lt;code&gt;立たせる&lt;/code&gt;。/老师叫太郎站在走廊里。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A：动作指使者，主语&lt;/li&gt;
  &lt;li&gt;B：动作实施方，使动对象，人物宾语&lt;/li&gt;
  &lt;li&gt;C：执行对象，事物宾语&lt;/li&gt;
  &lt;li&gt;D：动作&lt;/li&gt;
  &lt;li&gt;C的这一部分并不是必须的，有的表述需要有的则不需要&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这里的B应该使用&lt;code&gt;に/を&lt;/code&gt;中的哪一个需要按情况操作，具体可以查看下面。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;格助词&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;他动词：
    &lt;ul&gt;
      &lt;li&gt;使动对象都用&lt;code&gt;に&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;先生が&lt;code&gt;彼に&lt;/code&gt;論文を書かせる。/老师让他写论文了&lt;/li&gt;
          &lt;li&gt;&lt;code&gt;彼に&lt;/code&gt;かってに言わせておこう。/让他随便说吧。（放任）&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;具有他动词倾向的自动词也用&lt;code&gt;に&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;彼は&lt;code&gt;人々に&lt;/code&gt;その提案に反対させた。/他让人们反对这项提议。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;自动词：
    &lt;ul&gt;
      &lt;li&gt;强制性
        &lt;ul&gt;
          &lt;li&gt;强制、命令等，使动对象都用&lt;code&gt;を&lt;/code&gt;
            &lt;ul&gt;
              &lt;li&gt;遊びたかったが、父は&lt;code&gt;私たちを&lt;/code&gt;買いものに行かせた。/我们很想玩,可是爸爸却叫我们去买东西。&lt;/li&gt;
              &lt;li&gt;&lt;code&gt;子どもを&lt;/code&gt;9時までに寝させる。/让孩子在9点以前睡觉。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;表示引发某种结果、间接责任导致某种结果等，使动对象也使用&lt;code&gt;を&lt;/code&gt;
            &lt;ul&gt;
              &lt;li&gt;謝まるつもりだが、かえって&lt;code&gt;彼女を&lt;/code&gt;怒らせた。/我是要向她道歉的,没想到却使她发了火。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;非强制性
        &lt;ul&gt;
          &lt;li&gt;放任、允许等，使动对象用&lt;code&gt;に&lt;/code&gt;
            &lt;ul&gt;
              &lt;li&gt;父はやっと&lt;code&gt;私たちに&lt;/code&gt;買い物に行かせるようになった。/爸爸终于(肯)让我们去买东西了。&lt;/li&gt;
              &lt;li&gt;小さい&lt;code&gt;子どもに&lt;/code&gt;一人で大通りを渡らせるのは危ない。/让小孩子单独过马路很危险&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;放任、允许&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;使动态有一点一定要注意的是，它很多时候用在&lt;code&gt;放任、允许&lt;/code&gt;的表述上，这其实是相当反直觉的，和&lt;code&gt;命令、强制&lt;/code&gt;完全相反，所以一定要小心阅读：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;母は子供を&lt;code&gt;遊ばせています&lt;/code&gt;。/妈妈放任孩子玩。&lt;/li&gt;
  &lt;li&gt;母は弟をアメリカへ&lt;code&gt;留学させました&lt;/code&gt;。/妈妈允许弟弟去美国留学。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;使动态的被动态&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;这种表述方法有很强的强迫、被迫的意思，如果是精神性的词汇，则表示非自发而是由其他东西触发的状态
    &lt;ul&gt;
      &lt;li&gt;先生が太郎を廊下に&lt;code&gt;立たせ&lt;/code&gt;た。/老师叫太郎站在走廊上。（使动主动）&lt;/li&gt;
      &lt;li&gt;太郎が先生に廊下に&lt;code&gt;立たせられ&lt;/code&gt;た。/太郎披老师要求站在走廊上。（使动被动）&lt;/li&gt;
      &lt;li&gt;就職活動で自分自身について真剣に深く&lt;code&gt;考えさせられ&lt;/code&gt;た。/由于找工作，迫使我对自己进行了认真深入的思考。（精神性）&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;被使动态的约音
    &lt;ul&gt;
      &lt;li&gt;五段动词被使动态常常发生如下的约音现象：
        &lt;ul&gt;
          &lt;li&gt;書く (せる)→ 書かせる (られる)→ 書かせられる (约音)→ 書かされる&lt;/li&gt;
          &lt;li&gt;歌う (せる)→ 歌わせる (られる)→ 歌わせられる (约音)→ 歌わされる&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;728-可能态能力可能性许可&quot;&gt;7.2.8 可能态：能力、可能性、许可&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt; &lt;span id=&quot;ID72080&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;表示动作行为的能力或可能性。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;基本构成和被动态&lt;a href=&quot;#ID72060&quot;&gt;7.2.6&lt;/a&gt;一致。&lt;/p&gt;

&lt;p&gt;此外，五段动词可以转&lt;code&gt;え&lt;/code&gt;段之后+&lt;code&gt;る&lt;/code&gt;，转为下一段动词，来表示可能态：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;五段动词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;れる&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;可能态&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;買う&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;買われる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;買える&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書かれる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書ける&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行かれる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行ける&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;読む&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;読まれる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;読める&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;实际上五段动词的可能态用的更多的是这种构成，也方便和被动态区别开来。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;が/は&lt;/code&gt;&lt;strong&gt;B&lt;/strong&gt;&lt;code&gt;が&lt;/code&gt;&lt;strong&gt;C&lt;/strong&gt;（さ）れる。
    &lt;ul&gt;
      &lt;li&gt;あの子は自分で&lt;code&gt;来られます&lt;/code&gt;。/那孩子自己能过来。&lt;/li&gt;
      &lt;li&gt;（私は）ピアノが&lt;code&gt;弾ける&lt;/code&gt;ようになった。/（我）能弹钢琴了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A：动作实施者，主语&lt;/li&gt;
  &lt;li&gt;B：执行对象/可能性，事物宾语&lt;/li&gt;
  &lt;li&gt;C：动作&lt;/li&gt;
  &lt;li&gt;B的这一部分并不是必须的，有的表述需要有的则不需要&lt;/li&gt;
  &lt;li&gt;B的格助词是&lt;code&gt;が&lt;/code&gt;，发生了格转换&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;语义&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;和其他一些用法一样，可能态也能表示多种语义：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;表示能力
    &lt;ul&gt;
      &lt;li&gt;この魚は飛ぶことが&lt;code&gt;できる&lt;/code&gt;。/这种鱼会飞。&lt;/li&gt;
      &lt;li&gt;ピアノが&lt;code&gt;弾ける&lt;/code&gt;ようになった。/能弹钢琴了。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;表示可能性
    &lt;ul&gt;
      &lt;li&gt;用事があって&lt;code&gt;出席でき&lt;/code&gt;ません。/有事不能出席。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;表示许可
    &lt;ul&gt;
      &lt;li&gt;授業中は、大声で&lt;code&gt;話すことができない&lt;/code&gt;。/上课时不许太声说话。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;729-自然发生态&quot;&gt;7.2.9 自然发生态&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;使用场景&lt;/strong&gt; &lt;span id=&quot;ID72090&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;表示动作行为是自然而然地发生、自然而然地产生某种结果。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;构成&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;基本构成和被动态&lt;a href=&quot;#ID72060&quot;&gt;&lt;code&gt;7.2.6&lt;/code&gt;&lt;/a&gt;一致。&lt;/p&gt;

&lt;p&gt;且也有和可能态&lt;a href=&quot;#ID72080&quot;&gt;&lt;code&gt;7.2.8&lt;/code&gt;&lt;/a&gt;一样的五段动词下一段构成法。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;が&lt;/code&gt;（さ）れる。
    &lt;ul&gt;
      &lt;li&gt;雪が降ると、故郷のことが&lt;code&gt;思い出される&lt;/code&gt;。/ー下雪就不由得想起故乡。（执行对象存在，使用格助词&lt;code&gt;が&lt;/code&gt;）&lt;/li&gt;
      &lt;li&gt;あの映画を見ると&lt;code&gt;泣け&lt;/code&gt;てしかたがない。/看那部电影让人哭泣不已。（五段动词的下一段转换）&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A：执行对象，不是必须的，可能存在也可能不存在&lt;/li&gt;
  &lt;li&gt;A的格助词是&lt;code&gt;が&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;语法补充&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;意义&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;表示不由自主地产生某种行为或结果，与人为动作不同。着重点在于行为发生顺乎自然，不关注行为的执行者本身。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;れる/られる的额外用法：表尊敬&lt;/strong&gt; &lt;span id=&quot;ID72091&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;对话题中的人物动作添加敬意。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;先生の&lt;code&gt;考えられた&lt;/code&gt;とうりです。/正如老师您所想的那样。&lt;/li&gt;
  &lt;li&gt;課長はいつ富士山に登られたのですか。/科长您是什么时候去登的富士山？&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;8-疑难--总结&quot;&gt;8. 疑难 / 总结&lt;/h2&gt;
&lt;h3 id=&quot;81-发音单词的促音长音&quot;&gt;8.1 发音：单词的促音/长音&lt;/h3&gt;
&lt;p&gt;单词中的促音和长音估计是最让人头痛的了。说实在的，基本上没什么很好的办法能解决。唯一的办法就是提升熟练度，也就是反复练习。一般最容易搞错促音和长音的时候是初见，经常不容易从听音中发现音节的延长，但只要是真的学习和背诵过的单词，一般不太会错。&lt;/p&gt;

&lt;p&gt;促音就是将前面的发音中断一瞬之后，继续后面的发音；长音则是将前面的发音延长一瞬。说起来是一瞬，但实际发音的时候还是很明显的，多练就很清楚。&lt;/p&gt;

&lt;p&gt;举个比较恶心的例子：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;実習 じ&lt;code&gt;っ&lt;/code&gt;しゅ&lt;code&gt;う&lt;/code&gt;０&lt;/li&gt;
  &lt;li&gt;自習 じしゅ&lt;code&gt;う&lt;/code&gt;０&lt;/li&gt;
  &lt;li&gt;自主 じしゅ０&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;82-发音清音浊音区分&quot;&gt;8.2 发音：清音浊音区分&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=PnNQ9JfXy5E&quot;&gt;時雨日文【關於清音聽成濁音這件事】頑張って？頑張っで？【PTK法則？】&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://www.sigure.tw/comprehensive-learning/knowledge/464&quot;&gt;為什麼「頑張って」聽起來像「頑張っで」？PTK&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;规则：&lt;/p&gt;

&lt;p&gt;单词之中如果出现「P、T、K」的日文，通常听起来就会接近「B、D、G」。&lt;/p&gt;

&lt;p&gt;举例：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;頑張っ&lt;code&gt;て&lt;/code&gt;ね（gan ba t&lt;code&gt;te&lt;/code&gt; ne）→ T
    &lt;ul&gt;
      &lt;li&gt;听起来有点接近「頑張っ&lt;code&gt;で&lt;/code&gt;ね」→ D&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;待っ&lt;code&gt;て&lt;/code&gt;ください（ma t&lt;code&gt;te&lt;/code&gt; ku da sai）→ T 
    &lt;ul&gt;
      &lt;li&gt;听起来有点接近「待っ&lt;code&gt;で&lt;/code&gt;ください」→ D&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;いっ&lt;code&gt;ぱ&lt;/code&gt;い飲んでね（i p&lt;code&gt;pa&lt;/code&gt; i non de ne）→ P 
    &lt;ul&gt;
      &lt;li&gt;听起来有点接近「いっ&lt;code&gt;ば&lt;/code&gt;いのんでね」→ D&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;そっ&lt;code&gt;か&lt;/code&gt;（so k&lt;code&gt;ka&lt;/code&gt;）→ K 
    &lt;ul&gt;
      &lt;li&gt;听起来有点接近「そっ&lt;code&gt;が&lt;/code&gt;」→ G&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;但事实上，这仅只是&lt;code&gt;可能&lt;/code&gt;的问题，一个单词里听上去像浊音的发音实际上真的有可能是浊音，如：袖 そ&lt;code&gt;で&lt;/code&gt;。说到底其实没有什么好的区分方法，还是只能靠自己熟悉，多读多背。&lt;/p&gt;

&lt;h3 id=&quot;83-动词自动词他动词区分&quot;&gt;8.3 动词：自动词他动词区分&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=d0pBTsCHsgc&quot;&gt;時雨日文【自動詞、他動詞的用法】自他同形？純自動詞？純他動詞？&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;看到一个动词，要区分其是自动词还是他动词没有完美的规律可循，虽然有一定规律可以借鉴。所以真正的区分方法还是和之前的促音长音一样，要靠练习，增加熟练度。&lt;/p&gt;

&lt;p&gt;自动词：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;自然现象或自发的事项，一般没有动作执行者；有些情况下，虽然存在着动作执行者，但事情的发生并不以其意志为转移，或者执行者不是叙述焦点&lt;/li&gt;
  &lt;li&gt;財布&lt;code&gt;が&lt;/code&gt;落ちる。/钱包掉落 视角在掉落这件事情上&lt;/li&gt;
  &lt;li&gt;温度&lt;code&gt;が&lt;/code&gt;上がる。/温度上升&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;他动词：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;他动词常常涉及动作执行者，虽然在使用时动作执行者未必都出现，但是动作执行者是隐含在动词的词义之中的&lt;/li&gt;
  &lt;li&gt;財布&lt;code&gt;を&lt;/code&gt;落とす。 /弄丢了钱包 视角在某人弄丢钱包这件事情上&lt;/li&gt;
  &lt;li&gt;温度&lt;code&gt;を&lt;/code&gt;上げる。 /升高温度&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;一些组合范例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;自动词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;他动词&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;集まる 集合&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;集める 收集&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;受かる 考上&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;受ける 赴考&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;植わる 栽植&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;植える 种植&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;終わる 结束&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;終える 做完&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;区分规律：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;自动词
    &lt;ul&gt;
      &lt;li&gt;发音为 a段 + る e.g 集まる&lt;/li&gt;
      &lt;li&gt;末尾为 れる e.g 現れる&lt;/li&gt;
      &lt;li&gt;助词为 が&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;他动词
    &lt;ul&gt;
      &lt;li&gt;发音为 e段 + る e.g 集める&lt;/li&gt;
      &lt;li&gt;末尾为 す e.g 現す&lt;/li&gt;
      &lt;li&gt;末尾为 a段 + せる e.g 合わせる&lt;/li&gt;
      &lt;li&gt;助词为 を&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;84-动词分类继续瞬间状态形容性&quot;&gt;8.4 动词分类：继续、瞬间、状态、形容性&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ている&lt;/code&gt;在日语中也是一个比较特殊的表达，根据动词的不同，ている表达的意思会相差很多，因此根据这个特性可以将动词分为4个子类：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;动词属性&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;说明&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;继续动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动词所指的动作或作用正在进行过程中&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;泣く、書く、渡る、飛ぶ、食べる、勉強する&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;瞬间动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动词所指的动作成作用已经结束但其还保留着&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;始まる、死め、来る、汚れる、起きる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;状态动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;这类动词本身就表示状态，其意义多表示存在、能力等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ある、いる、できる（会、能够）、見える、読める&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;形容词性动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;形容词性动总是要以“ている”的形式使用，且以这种形式表示状态、性质等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;優れる、そびえる、治う、似る&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;85-动词分句中的时&quot;&gt;8.5 动词：分句中的时&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;定语、宾语、补语等成分中的时&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;定语等成分中的时大多是&lt;code&gt;相对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;タバコを&lt;code&gt;吸っている&lt;/code&gt;人に道を尋ねた。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;也有&lt;code&gt;绝对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;わたしの前に&lt;code&gt;立っていた&lt;/code&gt;人は、じっと壁の上の絵を見つめている。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;状语成分中的时&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;当接续助词为“し”、“が”、“けれども“，即表示并列、对比时，或状语从句中的动词为状态动词时，分句动词用&lt;code&gt;绝对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;洋服の生地も&lt;code&gt;決めた&lt;/code&gt;し、靴も注文した。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;当状语从句中的动词为动作性动词时，用&lt;code&gt;相对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;彼女が急に&lt;code&gt;帰国した&lt;/code&gt;ので、みんな驚いた。/她突然回国了,大家都很惊话。&lt;/li&gt;
      &lt;li&gt;彼女が&lt;code&gt;帰国する&lt;/code&gt;ので、お別れ会をしてあげた。/她要回国了,所以给她开了个送别会。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;当状语是假定的关系，如条件、让步等逻辑关系时，状语从句中的时多为&lt;code&gt;相对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;たとえ&lt;code&gt;諦める&lt;/code&gt;にしても、もう少し努カしてみるべきだった。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;引用成分中的时&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;引用成分（包括引语、思考内容等）多保持原话的时，也就是说在句中呈现&lt;code&gt;相对时&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;彼は必ず&lt;code&gt;行く&lt;/code&gt;と言ったのに、来なかった。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;86-动词补助动词的时态变化&quot;&gt;8.6 动词：补助动词的时态变化&lt;/h3&gt;
&lt;p&gt;一般在看语法书的时候，语法书只会讲补助动词的基本形/辞书形：ている、てある、てしまう等。实际使用的时候，因为&lt;code&gt;肯定/否定&lt;/code&gt;，&lt;code&gt;非过去时/过去时&lt;/code&gt;，&lt;code&gt;常体/敬体&lt;/code&gt;会导致补助动词产生形态变化。这些变化一般都不会记在语法书中，所以初学者看到都会不知所谓，不知道这个新玩意儿到底是什么意思。比如说：&lt;code&gt;てしまいました&lt;/code&gt;，这个是&lt;code&gt;てしまう&lt;/code&gt;这个补助动词的&lt;code&gt;过去肯定敬体&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;所以在自学的时候，需要将补助动词的&lt;code&gt;て&lt;/code&gt;去掉，然后将剩下部分的作为一个动词，来掌握其变化，最后补回て即可。&lt;/p&gt;

&lt;p&gt;更多的例子可以去上面&lt;code&gt;7.2.x&lt;/code&gt;，都有构成表。举个例子：持续体&lt;a href=&quot;#ID72020&quot;&gt;&lt;code&gt;7.2.2&lt;/code&gt;&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&quot;87-动词授受表现&quot;&gt;8.7 动词：授受表现&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/292-n4-28&quot;&gt;N4文法28「授受動詞」あげる、くれる、もらう&lt;/a&gt;  &lt;br /&gt;
&lt;a href=&quot;https://www.sigure.tw/learn-japanese/grammar/elementary/293-n4-29&quot;&gt;N4文法29「て形+授受動詞」てあげる、てくれる、てもらう&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;8.7.1 授受动词&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语气&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;常体&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;敬体&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;あげる/やる&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;给予&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげる/やる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげます/やります&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげない/やらない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげません/やりません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげた/やった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげました/やりました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげなかった/やらなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげませんでした/やりませんでした&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;さしあげる&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;给予&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;あげる/やる的尊敬形式&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげた&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげませんでした&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;くれる&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;给予&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれた&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれませんでした&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;くださる&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;给予&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;くれる的尊敬形式&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださります&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださらない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださりません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださりました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださらなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くださりませんでした&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;もらう&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;获得&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらいます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらわない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらいません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらいました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらわなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もらいませんでした&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;いただく&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;获得&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;もらう的尊敬形式&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただきます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;非过去&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただかない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただません&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肯定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただいた&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただきました&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;过去时&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただかなかった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いただきませんでした&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;8.7.2 内外/上下关系（方向性）&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;给予&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;关系&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;方向&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;动词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;例句&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;内外关系&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;由内而外：我方给外方&lt;br /&gt;由外而内：外方给我方&lt;br /&gt;无内外：双方都为外方&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あげる&lt;br /&gt;くれる&lt;br /&gt;あげる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;弟は佐藤さんに本を&lt;code&gt;あげる&lt;/code&gt;。&lt;br /&gt;佐藤さんは私に本を&lt;code&gt;くれる&lt;/code&gt;。&lt;br /&gt;佐藤さんは鈴木さんに本を&lt;code&gt;あげる&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上下关系&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;由下而上：地位低对地位高&lt;br /&gt;由上而下：地位高对地位低&lt;br /&gt;无上下：双方平辈&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さしあげる&lt;br /&gt;くださる&lt;br /&gt;遵循内外关系&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私は先生に本を&lt;code&gt;さしあげます&lt;/code&gt;。&lt;br /&gt;先生は私に本を&lt;code&gt;くださりました&lt;/code&gt;。&lt;br /&gt;私は後輩に本を&lt;code&gt;あげる&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;我方：我自己或和我有直接关系的人：自己、我的亲属、我的同事、我的朋友等&lt;/li&gt;
  &lt;li&gt;外方：对方或和对方有直接关系的人：对方、对方亲属、对方同事、对方朋友等&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;やる&lt;/code&gt;是我方给予外方（限定地位较低或晚辈）的意思，作用同&lt;code&gt;あげる&lt;/code&gt;，但较为粗俗，一般不使用。&lt;/p&gt;

&lt;p&gt;此外，当接收方为自己的时候，给予方永远是&lt;code&gt;外方&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;父さんは私に本を&lt;code&gt;くれる&lt;/code&gt;。（这里不是あげる）&lt;/li&gt;
  &lt;li&gt;私は父さんに本をあげる。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;获得&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;もらう/いただく&lt;/code&gt;没有方向性，全部都是：A从B处得到某物。从高位者处获得东西的场景下，需要使用&lt;code&gt;いただく&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;8.7.3 句式：给予&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;は/が&lt;/code&gt;&lt;strong&gt;B&lt;/strong&gt;&lt;code&gt;に&lt;/code&gt;&lt;strong&gt;C&lt;/strong&gt;&lt;code&gt;を&lt;/code&gt;あげる/くれる。
    &lt;ul&gt;
      &lt;li&gt;（私は）友達に辞書を&lt;code&gt;もらっ&lt;/code&gt;た。/从朋友那儿得到了本辞典。&lt;/li&gt;
      &lt;li&gt;友達が（私に）辞書を&lt;code&gt;くれ&lt;/code&gt;た。/朋友送给我了本辞典。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A是物品的送出方&lt;/li&gt;
  &lt;li&gt;B是物品的接收方，助词用&lt;code&gt;に&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;C是物品&lt;/li&gt;
  &lt;li&gt;あげる/くれる的使用差别参照上一节&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;8.7.4 句式：获得&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;A&lt;/strong&gt;&lt;code&gt;は/が&lt;/code&gt;&lt;strong&gt;B&lt;/strong&gt;&lt;code&gt;に/から&lt;/code&gt;&lt;strong&gt;C&lt;/strong&gt;&lt;code&gt;を&lt;/code&gt;もらう。
    &lt;ul&gt;
      &lt;li&gt;弟が兄に五千円&lt;code&gt;もらっ&lt;/code&gt;た。/弟弟要了哥哥5000日元&lt;/li&gt;
      &lt;li&gt;（私の）弟が社長にネクタイを&lt;code&gt;いただい&lt;/code&gt;た。/（我）弟弟得到经理送的领带。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;A是物品的接收方&lt;/li&gt;
  &lt;li&gt;B是物品的送出方，助词用&lt;code&gt;に/から&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;C是物品&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;助词：に/から&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;主动性与被动性
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;获得&lt;/code&gt;的句式只讲固定的获得行为，不讲究这个获得的&lt;code&gt;主动性和被动性&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;看一对中文示例
            &lt;ul&gt;
              &lt;li&gt;奶奶&lt;code&gt;让&lt;/code&gt;太郎给她读报纸。&lt;/li&gt;
              &lt;li&gt;奶奶&lt;code&gt;听&lt;/code&gt;太郎给她读报纸。&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;虽然句子讲的都是获得，句式也都是同一句式，但实际意思还是有点不同的&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;格助词に和から可以对主动性作出大致的区分
        &lt;ul&gt;
          &lt;li&gt;&lt;code&gt;に&lt;/code&gt;&lt;code&gt;可以&lt;/code&gt;（不是一定）表示&lt;code&gt;要&lt;/code&gt;（主动）&lt;/li&gt;
          &lt;li&gt;&lt;code&gt;から&lt;/code&gt;只表示（一定）&lt;code&gt;收&lt;/code&gt;（被动）
            &lt;ul&gt;
              &lt;li&gt;（私の）弟が社長&lt;code&gt;に&lt;/code&gt;ネクタイを&lt;code&gt;いただい&lt;/code&gt;た。/（我）弟弟得到经理送的领带。（这里に表被动，因为句意只可能是被动）&lt;/li&gt;
              &lt;li&gt;おばあさんは太郎&lt;code&gt;に&lt;/code&gt;新聞を&lt;code&gt;読んでもらっ&lt;/code&gt;た。/奶奶让太郎给她读报纸。（主动）&lt;/li&gt;
              &lt;li&gt;おばあさんは太郎&lt;code&gt;から&lt;/code&gt;新聞を&lt;code&gt;読んでもらっ&lt;/code&gt;た。/奶奶听太郎给她读报纸。（被动）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;有无生命
    &lt;ul&gt;
      &lt;li&gt;无生命送出方只能用&lt;code&gt;から&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;私は会社&lt;code&gt;から&lt;/code&gt;車を&lt;code&gt;もらいました&lt;/code&gt;。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;8.7.5 作为补助动词的授受动词&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;授受动词不仅可以独立使用，还可以接在&lt;code&gt;动词连用形+て&lt;/code&gt;的后面，充当补助动词，借以表示人物之间行为的往来与恩惠关系。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;太郎がおばあさんに新聞を&lt;code&gt;読んでやっ&lt;/code&gt;た。/太郎为奶奶读了报纸&lt;/li&gt;
  &lt;li&gt;おばあさんは太郎に新聞を&lt;code&gt;読んでもらっ&lt;/code&gt;た。/奶奶让太郎给她读了报纸。&lt;/li&gt;
  &lt;li&gt;先生が資料を&lt;code&gt;集めてくださっ&lt;/code&gt;た。/老师给(我)收集资料。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“~てさしあげる”、“~てあげる”、“~てやる”带有强烈的恩加于外的意味，因此必须谨慎使用。为他人做什么事，则常代之以表示自谦的“お~する”等形式。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;お荷物を&lt;code&gt;おもちし&lt;/code&gt;ましょうか。/让我来给您拿行李吧。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;88-格助词常用整理&quot;&gt;8.8 格助词：常用整理&lt;/h3&gt;
&lt;p&gt;完整的格助词语法清单可以查看&lt;a href=&quot;#IDX_IX&quot;&gt;速查表&lt;/a&gt;。时间相关的助词整理在：&lt;a href=&quot;#IDXI_time&quot;&gt;时间表达的助词及句式使用&lt;/a&gt;，地点相关的助词整理在：&lt;a href=&quot;#IDXI_place&quot;&gt;地点的表达&lt;/a&gt;。在当前章节中除了格助词之外，还会整理&lt;code&gt;提示助词は&lt;/code&gt;，因为这个助词经常会顶替格助词的位置，所以需要弄清楚用法。&lt;/p&gt;

&lt;p&gt;此外，一些有用的资料：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/42925241&quot;&gt;日语格助词的固定用法（上篇）&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/43038700&quot;&gt;日语格助词的固定用法（下篇）&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://colanekojp.com.tw/blogs/0/24#&quot;&gt;日文9大格助詞，學日文必知的重要文法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.colanekojp.com.tw/blogs/0/4#&quot;&gt;你所不知道的は與が的用法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;881-常用场景整理&quot;&gt;8.8.1 常用场景整理&lt;/h4&gt;
&lt;p&gt;&lt;span id=&quot;ID88010&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;应用场景&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;助词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;解说&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;主语、行为主体、称谓&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主语&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;が&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示判断、性质、状态、&lt;br /&gt;存在、动作、作用等的&lt;code&gt;主体&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;斎藤さん&lt;code&gt;が&lt;/code&gt;責任者です。(判断)&lt;br /&gt;アルバイトの学生はみんな背&lt;code&gt;が&lt;/code&gt;高い。(状态)&lt;br /&gt;南美で大きい地震&lt;code&gt;が&lt;/code&gt;起こった。(动作)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主语&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;が&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示好恶、巧拙、能力、&lt;br /&gt;愿望、心理活动、需要等&lt;code&gt;对象&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;関西の人は納豆&lt;code&gt;が&lt;/code&gt;嫌いだ。(好恶)&lt;br /&gt;彼は英語&lt;code&gt;が&lt;/code&gt;話せる。(能力)&lt;br /&gt;スポーツ万能の友人&lt;code&gt;が&lt;/code&gt;うらやましい。(心理活动)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主体&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;以下4种情况时，主体可以用“に”来表示&lt;br /&gt;表示可能的动词“分かる”、“読める”、“見える”等&lt;br /&gt;表示要求的动词、形容词、形容动词“欲しい“等&lt;br /&gt;表示感情的形容词“嬉しい”、“悲しい”等&lt;br /&gt;敬语动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;写真ぐらい私&lt;code&gt;に&lt;/code&gt;も写せます。&lt;br /&gt;わたし&lt;code&gt;に&lt;/code&gt;はお金が必要だ。&lt;br /&gt;親友の裏切りが私&lt;code&gt;に&lt;/code&gt;は悲しい。&lt;br /&gt;先生&lt;code&gt;に&lt;/code&gt;はお変わりなく・・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主体&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作的主体，大多是团体或组织等集合体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;これは当社&lt;code&gt;で&lt;/code&gt;開発した新製品です。&lt;br /&gt;警視庁&lt;code&gt;で&lt;/code&gt;未成年者犯罪の取り締まりに・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主体&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作的共同者&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私は母&lt;code&gt;と&lt;/code&gt;デパートへ行きました。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示称谓&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示称谓&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私&lt;code&gt;は&lt;/code&gt;張と申します。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;表示主体&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作、作用的主体&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;そのことは私&lt;code&gt;から&lt;/code&gt;彼に話しておきます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;提示主体&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;は&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;可以顶替“が”、“を”提示主语、宾语&lt;br /&gt;可以跟在补格助词的后面提示补语&lt;br /&gt;(有时也可顶替“へ”和表示位置的“に“)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;桜の花&lt;code&gt;は&lt;/code&gt;美しい。(提示主语)&lt;br /&gt;この映画&lt;code&gt;は&lt;/code&gt;先週見ました。(提示宾语)&lt;br /&gt;バンダ&lt;code&gt;は&lt;/code&gt;竹の葉をよく食べる。(提示叙述句主语)&lt;br /&gt;ここで&lt;code&gt;は&lt;/code&gt;話せない。(提示补语)&lt;br /&gt;一週間に一度ぐらい&lt;code&gt;は&lt;/code&gt;映画を見に行・・(提示状语)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;宾语、动作对象&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示宾语&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;を&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示&lt;code&gt;动作&lt;/code&gt;直接涉及的&lt;code&gt;对象&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私は毎朝牛乳&lt;code&gt;を&lt;/code&gt;飲みます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示宾语&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;を&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示&lt;code&gt;动作&lt;/code&gt;造成的直接&lt;code&gt;结果&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;積み木で城&lt;code&gt;を&lt;/code&gt;つくる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示对象&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作所关联、涉及的对象&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;友達&lt;code&gt;に&lt;/code&gt;パソコンを貨した。&lt;br /&gt;この商品&lt;code&gt;に&lt;/code&gt;手を触れてはいけません。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示对象&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;へ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作、作用的对象&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;これは母&lt;code&gt;へ&lt;/code&gt;の手紙です。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示对象&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作的对象&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;林さんは町角にある八百屋さんの娘&lt;code&gt;と&lt;/code&gt;婚約したそうだ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;表示对象&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示比较的对象&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私の国&lt;code&gt;と&lt;/code&gt;比べると、日本のほうが暑いです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原因、理由、依据&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;表示原因&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示理由、原因或依据&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あまりの嬉しさ&lt;code&gt;に&lt;/code&gt;泣き出した。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;表示原因&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示原因、理由&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;会社を風邪&lt;code&gt;で&lt;/code&gt;休んでいます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;表示原因&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示原因、理由、依据等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;小さなこと&lt;code&gt;から&lt;/code&gt;けんかになった。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;变化、演变的结果&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;表示结果&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示事物或状态变化的结果&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;講堂が会場&lt;code&gt;に&lt;/code&gt;変わりました。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;表示结果&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示事物演变、转化的结果&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;長い努力がむだ&lt;code&gt;と&lt;/code&gt;なった。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;动作、行为的方式、状态、手段&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;表示方式&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作进行的方式、状态&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;駅まで山沿い&lt;code&gt;に&lt;/code&gt;歩いた。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;表示方式&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示进行动作时所用的手段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ラジオ講座&lt;code&gt;で&lt;/code&gt;日本語を勉強します。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;表示状态&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作进行时的状态&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;普通の速さ&lt;code&gt;で&lt;/code&gt;歩いて5分ほどだ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;材料、原料、成分&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;表示材料&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示进行动作时所用的材料&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あの洋服たんすは桐の木&lt;code&gt;で&lt;/code&gt;作ったのです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;表示材料&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示原料、材料、成分等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;酒は米&lt;code&gt;から&lt;/code&gt;造る。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;比较、评价的基准&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;表示基准&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示比较、评价、比例的基准&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここは海&lt;code&gt;に&lt;/code&gt;近いが、山&lt;code&gt;に&lt;/code&gt;は遠い。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;表示基准&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示比较的基准&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ガラス糸は木綿や絹の糸&lt;code&gt;と&lt;/code&gt;違って・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;表示基准&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;より&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示比较的基准&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今年は去年&lt;code&gt;より&lt;/code&gt;ずっと暑いです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;时间表达&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;表示时间&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作或作用的时间&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3時&lt;code&gt;に&lt;/code&gt;駅で待ち合わせる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;表示时间&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示期限或限度&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;新幹線は3時間&lt;code&gt;で&lt;/code&gt;東京・大阪間を走る。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;表示时间&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示时间上的起点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;朝&lt;code&gt;から&lt;/code&gt;彼を待っている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;表示时间&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まで&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示时间上的终点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;朝早くから夜遅く&lt;code&gt;まで&lt;/code&gt;けんめいに働いている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;表示时间&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;より&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示起点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;個展は明日&lt;code&gt;より&lt;/code&gt;開催されます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;地点表达&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示存在的场所&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;顔&lt;code&gt;に&lt;/code&gt;笑いを浮かべた。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作的目标、着落点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;修学旅行で関西&lt;code&gt;に&lt;/code&gt;行った。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;へ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示方向或到达点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;裁判所&lt;code&gt;へ&lt;/code&gt;訴えなければ解決策がない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作，行为发生的场所&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解説欄&lt;code&gt;で&lt;/code&gt;詳しく説明する。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;を&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作经过的场所或动作离开的地点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;電車道&lt;code&gt;を&lt;/code&gt;歩いて来る。&lt;br /&gt;東京駅&lt;code&gt;を&lt;/code&gt;今晚の10時に立ちます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示空间上的起点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;車&lt;code&gt;から&lt;/code&gt;降りた男。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;表示地点&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まで&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示空间上的终点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;荷物をとなりの部屋&lt;code&gt;まで&lt;/code&gt;運んでください。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;其他&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;表示目的&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示动作的目的后续&lt;br /&gt;“来る”、“行く”等表示趋向的动词&lt;br /&gt;接在动词或形式名词“の”、“ため”后&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;遠くから泳ぎ&lt;code&gt;に&lt;/code&gt;来た人も多い。&lt;br /&gt;北京に行く&lt;code&gt;に&lt;/code&gt;は、どの汽車に乗ったらいいでしよう。&lt;br /&gt;この論文を書き終わるの&lt;code&gt;に&lt;/code&gt;あと何日かかるだろう。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;表示程度&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示状态、程度，像副词一样使用&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;水を大量&lt;code&gt;に&lt;/code&gt;飲むことです。&lt;br /&gt;お気付きの点は遠慮なし&lt;code&gt;に&lt;/code&gt;言ってください。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;表示范围&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示范围、范畴&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;外交の面&lt;code&gt;で&lt;/code&gt;も一連の大きな成果を収めた。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;表示内容&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;と&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示思考、叙述的内容&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ー度富士山に登ってみたい&lt;code&gt;と&lt;/code&gt;思います。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;表示限定&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;より&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示限定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こうする&lt;code&gt;より&lt;/code&gt;ほかに仕方がない。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;882-が-与-を&quot;&gt;8.8.2 が 与 を&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;表示对象的“が”可以被“を”来替换
    &lt;ul&gt;
      &lt;li&gt;子どもが水&lt;code&gt;を(が)&lt;/code&gt;欲しいって言うんですが。/孩子说想喝水呢。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;谓语是表示愿望、可能的表现形式时，表示其对象的格助词可以用“を”或“が”
    &lt;ul&gt;
      &lt;li&gt;目&lt;code&gt;を(が)&lt;/code&gt;あけられない。/睁不开眼。&lt;/li&gt;
      &lt;li&gt;但其中着重点不同
        &lt;ul&gt;
          &lt;li&gt;着重对象：目が -&amp;gt; あけられない(眼睛睁不开)&lt;/li&gt;
          &lt;li&gt;着重动作：(目をあける) -&amp;gt; られない(睁不开眼時)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;883-に-与-を&quot;&gt;8.8.3 に 与 を&lt;/h4&gt;
&lt;p&gt;这里主要讨论的是对象使用时的に与を的使用区别，作为地点时的使用相对来说区别比较清晰，不需要额外论述。&lt;/p&gt;

&lt;p&gt;参考：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/52284766&quot;&gt;「を」vs「に」，两种表“对象”的格助词有什么区别？&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/60512166/answer/177335692&quot;&gt;日语中に和を在提示宾语的时候怎么区分？&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;区别：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;に是补格助词
    &lt;ul&gt;
      &lt;li&gt;补格助词前面的一般是补语&lt;/li&gt;
      &lt;li&gt;后面的谓语动词一般是自动词(不绝对)&lt;/li&gt;
      &lt;li&gt;补语的对象在日语的思维中，都不是实物，或不是直接接触的对象&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;を是宾格助词
    &lt;ul&gt;
      &lt;li&gt;宾格助词前面的一般指宾语&lt;/li&gt;
      &lt;li&gt;后面的谓语动词一般是他动词(不绝对)&lt;/li&gt;
      &lt;li&gt;宾语一般指实物，能够真实触及到的
        &lt;ul&gt;
          &lt;li&gt;&lt;code&gt;彼&lt;/code&gt;を倒した。&lt;/li&gt;
          &lt;li&gt;&lt;code&gt;ご飯&lt;/code&gt;を食べる。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;思维差异
    &lt;ul&gt;
      &lt;li&gt;&lt;code&gt;電車&lt;/code&gt;に乗る。
        &lt;ul&gt;
          &lt;li&gt;日本人认为，乘坐是没有宾语的，是人乘坐到车子里面，而不是车子被人乘坐。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;code&gt;山&lt;/code&gt;に登る。
        &lt;ul&gt;
          &lt;li&gt;日本人认为，攀登这个词是没有宾语的，山并不是被爬，而是爬这个动作有一个方向，这个方向就是山上。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;感情动词的例子不太适用于上面的解说，可能需要硬性记忆
    &lt;ul&gt;
      &lt;li&gt;に：苦しむ、困る、疲れる、気づく、慣れる、酔う、驚く、飽きる、憧れる……&lt;/li&gt;
      &lt;li&gt;を：楽しむ、愛する、悲しむ、嫌う、望む、恨む、惜しむ、憎む、好む、恐れる……&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;举例：更换动作的を和に
    &lt;ul&gt;
      &lt;li&gt;同一类的物品进行更换用を（实际物体，宾格）&lt;/li&gt;
      &lt;li&gt;不同的物品之间的更换用に（概念，补格）
        &lt;ul&gt;
          &lt;li&gt;新年になったので、日記帳&lt;code&gt;を&lt;/code&gt;換えた。新しいの&lt;code&gt;に&lt;/code&gt;換えた。&lt;/li&gt;
          &lt;li&gt;家に帰ると普段着&lt;code&gt;に&lt;/code&gt;換える。&lt;/li&gt;
          &lt;li&gt;大連まで飛行機で飛んで、そこから船&lt;code&gt;に&lt;/code&gt;乗り換える。&lt;/li&gt;
          &lt;li&gt;私は南門でバス&lt;code&gt;を&lt;/code&gt;乗り換える、３番バスから１番バス&lt;code&gt;に&lt;/code&gt;乗り換える。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;がにを的一些麻烦例子
    &lt;ul&gt;
      &lt;li&gt;好恶：
        &lt;ul&gt;
          &lt;li&gt;私は　先輩を　愛する。“爱上”&lt;/li&gt;
          &lt;li&gt;私は　先輩に　憧れる。“迷恋”&lt;/li&gt;
          &lt;li&gt;私は　先輩が　好きだ。“喜欢”&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;看：
        &lt;ul&gt;
          &lt;li&gt;私は　富士山を　見る。“看”&lt;/li&gt;
          &lt;li&gt;私は　富士山に　向ける。“面向”&lt;/li&gt;
          &lt;li&gt;私は　富士山が　見える。“看得见”&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;884-は-与-が&quot;&gt;8.8.4 は 与 が&lt;/h4&gt;
&lt;p&gt;“は”与“が”是两种性质完全不同的助词。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;“が”接在体言或相当于体言的词语后，表示该体言是断定、存在、性质、状态、行为、動作等的主体。&lt;/li&gt;
  &lt;li&gt;“は”的作用是表示说话人突出地提出一个成分来，使之成为后面的谓语部分着重说明的对象。这个成分既可以是主语，也可以是宾语、状语、补语等。“は”既可以跟在体言后面，又可以跟在用言的活用形后。跟在体言后的“は”，可以表示主语（代替“が”）、也可以表示宾语（代替“を“）、表示补语（代替“へ”等）。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;所以像下面这样的句子，“は”代替的是“を”和“に“，就不能用“が”来替换。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O この本&lt;code&gt;は&lt;/code&gt;父が買ってくれた。/这本书是父亲给我买的&lt;/li&gt;
  &lt;li&gt;O ここ&lt;code&gt;は&lt;/code&gt;植木を置いてください。/请在这几放个花盆。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;因此，所谓“は”与“が”的区别，应该只是指表示谓语主体的“が”与代替“が”提示主题的“は”的区别。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;“は”用于“已知”的事物，“が”用于“未知”&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;当句子的着重点或疑问点在主体以外的部分时，主体后用“は”，当句子的着重点或疑问点在主体时，主体后用“が”&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 先生&lt;code&gt;は&lt;/code&gt;どなたですか。&lt;/li&gt;
  &lt;li&gt;O どなた&lt;code&gt;が&lt;/code&gt;先生ですか。&lt;/li&gt;
  &lt;li&gt;O あなたの&lt;code&gt;は&lt;/code&gt;どの傘ですか。&lt;/li&gt;
  &lt;li&gt;O どの傘&lt;code&gt;が&lt;/code&gt;あなたのですか。&lt;/li&gt;
  &lt;li&gt;O 東&lt;code&gt;は&lt;/code&gt;どちらですか。&lt;/li&gt;
  &lt;li&gt;O どちら&lt;code&gt;が&lt;/code&gt;東ですか。&lt;/li&gt;
  &lt;li&gt;O 一陳さん&lt;code&gt;は&lt;/code&gt;寮にいますか。一いいえ、陳さん&lt;code&gt;は&lt;/code&gt;図書館にいます。（问句中主体后用“は”，答句中主体后也用“は”)&lt;/li&gt;
  &lt;li&gt;O ーどの傘&lt;code&gt;が&lt;/code&gt;あなたのですか。一赤いの&lt;code&gt;が&lt;/code&gt;私のです。（问句中主体后用“が”，答句中主体后也用“が”)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;试比较“私&lt;code&gt;は&lt;/code&gt;理事長です”和“私&lt;code&gt;が&lt;/code&gt;理事長です”。前句中用“は”表示的“私”是已知概念，“理事長です”是对于前面部分所做的说明，是就“私はどういう人か”这一问题向对方传递新的信息“理事長”。而后句中“理事長”是已知信息，听话人要知道的是“謹が理事長か”这个问题的答案，说话人对此提供“私が”这个新的信息作为回答。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;“は”用于主观判断来说明某一事物（包括真理、法则、习性等），或者表示人的意志、信念、能力、习慣等，“が”用于客观描述眼前具体情景&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 太陽&lt;code&gt;は&lt;/code&gt;東から出る。/大阳是从东方升起的&lt;/li&gt;
  &lt;li&gt;O 西安&lt;code&gt;は&lt;/code&gt;古い都です。/西安是古都。&lt;/li&gt;
  &lt;li&gt;O わたし&lt;code&gt;は&lt;/code&gt;每朝庭の掃除をします。/我每天早上打扫院子&lt;/li&gt;
  &lt;li&gt;O あ、雨&lt;code&gt;が&lt;/code&gt;降ってきた。/啊,下起雨来了。&lt;/li&gt;
  &lt;li&gt;O 桜の花&lt;code&gt;が&lt;/code&gt;咲いている。/樱花开了。&lt;/li&gt;
  &lt;li&gt;O 風&lt;code&gt;が&lt;/code&gt;冷たいですね。/风真冷啊。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“タ焼けがきれいだ”和“タ焼けはきれいだ”这两句的不同在于，“タ焼けがきれいだ”是客观描写眼前具体情景，从这一句话可以想到它所存在的场景：仰望天空时看到彩霞，不禁脱口而出；“晚霞真美”。即指当时看到的晚霞美丽。“タ焼けはきれいだ”是对晚霞这一事物做出的一般性判断。说这句话时，不见得非要看到晚度。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;包孕句或主从句中主句主语一般用“は”，从句主语一般用“が”&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O あなた&lt;code&gt;が&lt;/code&gt;こなかったの&lt;code&gt;は&lt;/code&gt;いけなかった。/你没来，这可不好。&lt;/li&gt;
  &lt;li&gt;O 母&lt;code&gt;は&lt;/code&gt;私&lt;code&gt;が&lt;/code&gt;国を出るとき泣きました。/在我要离开家乡的时候，母亲哭了。&lt;/li&gt;
  &lt;li&gt;O 私&lt;code&gt;が&lt;/code&gt;言うことをそのまま書きなさい。/把我说的话原样写下来。&lt;/li&gt;
  &lt;li&gt;O このテレビ&lt;code&gt;は&lt;/code&gt;デザイン&lt;code&gt;が&lt;/code&gt;とてもいいです。/这台电视设计的真好。&lt;/li&gt;
  &lt;li&gt;O 映画館&lt;code&gt;が&lt;/code&gt;近ければ私も行きます。/要是电影院不远的话, 我也去。&lt;/li&gt;
  &lt;li&gt;O 雨&lt;code&gt;が&lt;/code&gt;降っているのに外で遊んでいます。/下着雨，还在外边玩几。&lt;/li&gt;
  &lt;li&gt;O 私&lt;code&gt;は&lt;/code&gt;うちへ帰るとすぐお風呂に入ります。/我回家后立刻洗澡。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;从上面的例句可以看出：主体用“が”一般只关联到就近的谓语，主体用“は”关联到句末或全句，甚至关联到下面的句子。因此下面的句子是错误的：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X 雨&lt;code&gt;は&lt;/code&gt;降れば行きません。/要是下雨，就不去了。&lt;/li&gt;
  &lt;li&gt;X あなた&lt;code&gt;は&lt;/code&gt;行けと言うなら行こう。/如果你非让去,那我就去吧。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;像“象は鼻が長い”这样的主谓谓语句，谓语从句主语（小主语）也有用“は”的情况，这时多表示对比或转折的语气。“象は鼻は長い”这句话就多见于“象は鼻は長い (が，目は小さい）”等表示对比的场合。&lt;/p&gt;

&lt;h4 id=&quot;885-と-的细节与-にを-的比较以及-って&quot;&gt;8.8.5 と 的细节，与 に/を 的比较，以及 って&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;って：可以理解成“って言って”省略了“言って”
    &lt;ul&gt;
      &lt;li&gt;ぼくは鈴木&lt;code&gt;って&lt;/code&gt;います。/我叫铃木。&lt;/li&gt;
      &lt;li&gt;あとで金を渡す&lt;code&gt;って&lt;/code&gt;だましやがった。/欺骗说什么回头再给我钱。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;って：“という”、“って”有时可以表示同格
    &lt;ul&gt;
      &lt;li&gt;その会社の、会長&lt;code&gt;という&lt;/code&gt;人。/那个公司做董事长的人&lt;/li&gt;
      &lt;li&gt;10 年&lt;code&gt;って&lt;/code&gt;年月がかかる。/要花 10 年的时间。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;って：像提示助词一样的用法，这时相当于“とは”、“というのは”
    &lt;ul&gt;
      &lt;li&gt;北海道&lt;code&gt;って&lt;/code&gt;広いのね。/北海道可真是辽阔啊!&lt;/li&gt;
      &lt;li&gt;日本&lt;code&gt;って&lt;/code&gt;狭いんだな。/日本真是小啊&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;と 和 に
    &lt;ul&gt;
      &lt;li&gt;表示“行为、动作的共同者或对象”时，“と”和“に”都可以使用，“と”表示相互的动作，“に“表示単方向性的动作
        &lt;ul&gt;
          &lt;li&gt;昨日駅で田中さん&lt;code&gt;に (と）&lt;/code&gt;会いました。/昨天在车站见到了田中&lt;/li&gt;
          &lt;li&gt;来年の留学のことを父&lt;code&gt;に (と）&lt;/code&gt;話しました。/和父亲谈了明年留学的事。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;表示“比较的基准”时，“と”和“に”也都可以使用，用“と”主要表示对等性，用“に”表示单方向性，重点在于逐渐接近对方
        &lt;ul&gt;
          &lt;li&gt;先生&lt;code&gt;と (に)&lt;/code&gt;よく似た人。/和老师长得很相像的人。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;表示变化的结果
        &lt;ul&gt;
          &lt;li&gt;“AをBとする”表示将本来不是 B 的 A，一时作为 B 来用，是暂时的、表面性的变化
            &lt;ul&gt;
              &lt;li&gt;閲覧室を教室&lt;code&gt;と&lt;/code&gt;して一週間勉強した。/把阅览室作为教室，学习了一个星期&lt;/li&gt;
              &lt;li&gt;兄を先生&lt;code&gt;と&lt;/code&gt;して少し英語を習った。/把哥哥当老师，跟他多少学了些英语&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;“AをBにする”表示把 A 改造成 B，是永久的、本质性的变化。
            &lt;ul&gt;
              &lt;li&gt;教室が足りないので、閲覧室をも教室&lt;code&gt;に&lt;/code&gt;した。/因为教室不够、把阅览室也改造成为教室了。&lt;/li&gt;
              &lt;li&gt;息子を学校の先生&lt;code&gt;に&lt;/code&gt;した。/让儿子当了学校的老师&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;と 和 を
    &lt;ul&gt;
      &lt;li&gt;言う、思う、考える、話す、感じる、申す、存じる、書く、呼ぶ等都称作言表动词，它所表示的内容，有抽象的概念，也有具体的内容&lt;/li&gt;
      &lt;li&gt;抽象的概念用を&lt;/li&gt;
      &lt;li&gt;具体的内容用と
        &lt;ul&gt;
          &lt;li&gt;ここに電話番號&lt;code&gt;を&lt;/code&gt;書いてください。&lt;/li&gt;
          &lt;li&gt;部屋のドアに(部屋番號が)301&lt;code&gt;と&lt;/code&gt;書いてあります。&lt;/li&gt;
          &lt;li&gt;明日は良い天気になる&lt;code&gt;と&lt;/code&gt;思います。&lt;/li&gt;
          &lt;li&gt;明日の天気&lt;code&gt;を&lt;/code&gt;心配します。&lt;/li&gt;
          &lt;li&gt;先生が「王さん、王さん」&lt;code&gt;と&lt;/code&gt;呼んでいます。&lt;/li&gt;
          &lt;li&gt;先生が学生の名前&lt;code&gt;を&lt;/code&gt;呼んでいます。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;886-から-与-で原材料的区别&quot;&gt;8.8.6 から 与 で，原材料的区别&lt;/h4&gt;
&lt;p&gt;“から”和“で”都可以表示原料材料，一般说来，从原料到成品变化较少（从成品能推测出原料）时用“で”，从原料到成品变化较大（从成品很难推测出原料）时用“から”&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;その椅子は本&lt;code&gt;で&lt;/code&gt;できている。/那把椅子是用木头做的。&lt;/li&gt;
  &lt;li&gt;プラスチックは石油&lt;code&gt;から&lt;/code&gt;造る。/塑料是以石油为原料制造的。&lt;/li&gt;
  &lt;li&gt;あんな古着&lt;code&gt;から&lt;/code&gt;こんなすてきな服をつくるとはさすがだ。/能用那样的旧衣服做出这么漂亮的衣服真了不起。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;但是，也有像“酒は米&lt;code&gt;で&lt;/code&gt;つくる”和“酒は米&lt;code&gt;から&lt;/code&gt;つくる”这种“から”和“で 都能用的情况。用“で”时着重强调米是做酒时所使用的东西，和“で”表示方法、手段是同一性质的用法，用“から”时着重强调米是生产酒的起点，在生产过程中发生变化，最后成为酒。&lt;/p&gt;

&lt;h3 id=&quot;89-其他助词&quot;&gt;8.9 其他助词&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;ID89000&quot;&gt;&lt;/span&gt;
个人感觉比较重要和常用的非格助词的其他助词的语法清单可以查看&lt;a href=&quot;#IDX_X&quot;&gt;速查表&lt;/a&gt;。本章节接下来的内容会选择一些非格助词的差异点和难点进行解说。&lt;/p&gt;

&lt;h4 id=&quot;891-て-的细节中顿ないて&quot;&gt;8.9.1 て 的细节：中顿、ない+て&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;动词连用形+て 与 动词连用形 表示中顿用法的异同&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在表示&lt;code&gt;一个动作主体&lt;/code&gt;的动作的&lt;code&gt;先后关系&lt;/code&gt;时，“动词连用形+て”这种形式要求前后两个动作或者都是意志动作，或者都是无意志动作。而动词连用形表示中顿时则不受这些条件的限制，前后两项可以都是意志动作或都不是意志动作，也可以其中之是意志动作而另一个不是意志动作。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 彼女は家に帰り(O 帰っ&lt;code&gt;て&lt;/code&gt;)、食事の用意にとりかかった。/她回到家，开始准备做饭，（前后两项都是意志动作)&lt;/li&gt;
  &lt;li&gt;O 田中さんは飛行場に着さ(O 着い&lt;code&gt;て&lt;/code&gt;)、荷物の検察をうけた。/田中到达了机场接受了行李检查。（前后两项都是无意志动作）&lt;/li&gt;
  &lt;li&gt;O 田中さんは飛行場に着さ（？着い&lt;code&gt;て&lt;/code&gt;）、家に電話をした。/田中到了机场，给家里挂了电话。（“着く”是无意志动作，“電話をする”是意志动作）&lt;/li&gt;
  &lt;li&gt;O わたしは野村に偶然に会い（？会っ&lt;code&gt;て&lt;/code&gt;）、その話をした。/我偶然遇见了野村，讲了那件事。（偶然に会う”是无意志动作，“その話をする”是意志动作）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在&lt;code&gt;并列两个动作主体&lt;/code&gt;进行的两个动作时，“动词连用形+て”要求前后两个动作必须都是有意识进行的动作，动词连用形表示中顿时可以都是有意识进行的动作，也可以都是无意中出现的动作。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 太郎が東大にはいり（O はいっ&lt;code&gt;て&lt;/code&gt;）、次郎は早大にはいった。/太郎进了东京大学，次郎进了早稻田大学，(前后都是意志动作)&lt;/li&gt;
  &lt;li&gt;O 太郎は帽子をとられ(? とられ&lt;code&gt;て&lt;/code&gt;）、次郎は服を破られた。/太郎帽子被拿走了，次郎衣服被撕破了。（前后都是无意志动作）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;表示同&lt;code&gt;一个动作主体&lt;/code&gt;进行的两个动作，而这两个&lt;code&gt;不是先后发生&lt;/code&gt;的动作时，可以用动词连用形表示中顿的形式。很少用“动词连用形+て“的形式。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 弟はスケートもやり(X やっ&lt;code&gt;て&lt;/code&gt;)、スキーもやる。/弟弟既滑冰又滑雪&lt;/li&gt;
  &lt;li&gt;O 李さんは日本語もでき(? でき&lt;code&gt;て&lt;/code&gt;)、英語もわかる。/小李既会日语又懂英语&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;另外，“动词连用形+て”多用于口语中，动词连用形表示中顿多于书面语。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;“なくて”的主要用法&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;“なくて“连接的前后两项是相对立的事物。
    &lt;ul&gt;
      &lt;li&gt;O 雨が降ら&lt;code&gt;なくて&lt;/code&gt;、雪が降った。/不下雨，下雪了&lt;/li&gt;
      &lt;li&gt;O あの人は何もして&lt;code&gt;なくて&lt;/code&gt;、みんなやったのは私です。/那个人什么也不千，都是我做的。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;“て“表示原因、理由或以“ては”的形式表示假定条件。
    &lt;ul&gt;
      &lt;li&gt;O うまく説明でき&lt;code&gt;なくて&lt;/code&gt;、困った。/不能很好地说明，真为难。&lt;/li&gt;
      &lt;li&gt;O 雨が降ら&lt;code&gt;なくては&lt;/code&gt;田も植えられない。/不下雨的话，就种不了田（插不了秧）。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;“ないで”的主要用法&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;后接补助用言
    &lt;ul&gt;
      &lt;li&gt;O 何も聞か&lt;code&gt;ないで&lt;/code&gt;ください。/请什么都别问。&lt;/li&gt;
      &lt;li&gt;O 何もし&lt;code&gt;ないで&lt;/code&gt;いてみよう。/试一试什么都不做。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;前项修饰后项
    &lt;ul&gt;
      &lt;li&gt;O あの人は、人の言うことを聞か&lt;code&gt;ないで&lt;/code&gt;出て行った。/那个人也不听别人说什么就出去了。&lt;/li&gt;
      &lt;li&gt;O 雨が降っているのに傘も差さ&lt;code&gt;ないで&lt;/code&gt;步いている。/下着雨，可是却没打伞走在雨中。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果既可以认为前项与后项是相对立的事物，又可以认为前项修饰后项的时候，则二者都可以用。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 雨が降ら&lt;code&gt;なくて&lt;/code&gt;、雪が降った。/不下雨，下雪了。&lt;/li&gt;
  &lt;li&gt;O 雨が降ら&lt;code&gt;ないで&lt;/code&gt;、雪が降った。/不下雨而下雪了。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;892-ながら&quot;&gt;8.9.2 ながら&lt;/h4&gt;
&lt;p&gt;在表示动作同时进行时，“ながら”要求同时进行或同时存在的两个动作的主体是&lt;code&gt;同一个主体&lt;/code&gt;，并且表示两个动作的动词应是&lt;code&gt;动作性动词&lt;/code&gt;而不是状态动词。在前后是同一主体，且前后动词都是动作性动词时，也要注意，瞬间动词一般是不后续“ながら”的。&lt;/p&gt;

&lt;p&gt;下面这几个例句是错误的&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X 雨が降ってい&lt;code&gt;ながら&lt;/code&gt;、風が吹いています。（不是同一主体）&lt;/li&gt;
  &lt;li&gt;X 喫茶店から音楽が聞こえ&lt;code&gt;ながら&lt;/code&gt;、みんなコーヒーを飲んでいます。（“聞こえる”是状态词）&lt;/li&gt;
  &lt;li&gt;X 電車に乗り&lt;code&gt;ながら&lt;/code&gt;新聞を読む。（”（電車に）乗る”是瞬间动词）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;同时进行或同时存在的两个动作，在有的句子中，前项和后项互换意思上也没有太大的差异，如&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 音楽を聞き&lt;code&gt;ながら&lt;/code&gt;、コーヒーを飲む。&lt;/li&gt;
  &lt;li&gt;O コーヒーを飲み&lt;code&gt;ながら&lt;/code&gt;、音楽を聞く。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;但是，一般地说，“ながら”句型的重点在后项，前项修饰、限定后项，从逻辑上说，前项从属于后项。因此打破了这种关系的句子就显得不自然。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;X バスを待ち&lt;code&gt;ながら&lt;/code&gt;、体が寒さにふるえてしまった。&lt;/li&gt;
  &lt;li&gt;O 寒さにふるえ&lt;code&gt;ながら&lt;/code&gt;、バスを待つ。&lt;/li&gt;
  &lt;li&gt;X 部屋へ帰って休み&lt;code&gt;ながら&lt;/code&gt;、コーヒーを飲む。&lt;/li&gt;
  &lt;li&gt;O コーヒーを飲み&lt;code&gt;ながら&lt;/code&gt;、休む。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;893-てもでも-连续助词&quot;&gt;8.9.3 ても/でも 连续助词&lt;/h4&gt;
&lt;p&gt;在口语中，“ても”接在形容词或形容词型活用助动词后面时可以说成“っても”以表示强调&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 寒くっ&lt;code&gt;ても&lt;/code&gt;平気です。/即使冷,也不要景。&lt;/li&gt;
  &lt;li&gt;O 国へ帰りたくっ&lt;code&gt;ても&lt;/code&gt;ニ年間は帰らないつもりです。/即使想回国，两年内也不准备回国。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;“っても”还可以接在用言或助动词终止形后面，但这是“~と言っても”的缩略形式。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 帰るっ&lt;code&gt;ても&lt;/code&gt;、今からではもう遅い。/即使说要回去,现在也晚了。&lt;/li&gt;
  &lt;li&gt;O 暑いっ&lt;code&gt;ても&lt;/code&gt;、私の国に比べれば、それほどではありません。/说这儿热，可和我们国家相比，就不算多热。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;894-でも-提示助词&quot;&gt;8.9.4 でも 提示助词&lt;/h4&gt;
&lt;p&gt;提示助词“でも”与“格助词で+提示助词も”的区分有时并不十分明显。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A: デバート&lt;code&gt;では&lt;/code&gt;売っていませんか。/在百货商店里没有卖的吗?&lt;/li&gt;
  &lt;li&gt;B: デバート&lt;code&gt;でも&lt;/code&gt;売っていますよ。/在百货商店里也有卖的呀。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;上句中的“でも”一般认为是“格助调で+提示助词も”&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O これなら田舎&lt;code&gt;でも&lt;/code&gt;売っています。/如果是这个的话,乡下也有卖的。&lt;/li&gt;
  &lt;li&gt;O このごろのラジオは感度がよくて、山の中&lt;code&gt;でも&lt;/code&gt;よく聞こえる。/现在的收音机接收信号好，即使在山里面也能听清楚。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这两句中的“でも”就很难说清是提出极端事例的提示助词，还是“格助词で+提示助词も”。当然，如果上例中“でも”前有“で“，那么就很明确了，是“格助词で+提示助词でも”。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O これなら田舎で&lt;code&gt;でも&lt;/code&gt;売っています。/如果是这个的话,乡下都有卖的。&lt;/li&gt;
  &lt;li&gt;O このごろのラジオは感度がよくて、山の中で&lt;code&gt;でも&lt;/code&gt;よく聞こえる。/现在的收音机接收信号好，即使在山里面也能听清楚。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;895-とか&quot;&gt;8.9.5 とか&lt;/h4&gt;
&lt;p&gt;对并列助词“とか”和格助词“と”与副助词“か”叠用的“とか”需要加以区别。&lt;/p&gt;

&lt;p&gt;叠用起来的“とか”中的“と”是表示称谓、叙述的内容的，因此多和“言う”“話す”等词一起使用。下面的例子均是格助词“と“和副助词“か”叠用的“とか”&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;O 木村さん&lt;code&gt;とか&lt;/code&gt;いう方から電話がありました。/有个好象叫木村的打来过电话。&lt;/li&gt;
  &lt;li&gt;O ガラスのドアにひびが入っている&lt;code&gt;とか&lt;/code&gt;言っている。/说什么玻璃门上有了裂纹。&lt;/li&gt;
  &lt;li&gt;O 行く&lt;code&gt;とか&lt;/code&gt;行かない&lt;code&gt;とか&lt;/code&gt;いって、ぐずぐずしているんですよ。/又说去又说不去的，在那儿犹豫着呢。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;810-补助形容词&quot;&gt;8.10 补助形容词&lt;/h3&gt;
&lt;p&gt;在语法讲解中也较常出现：接在其它用言后起补助作用的形容词叫作补助形容词。补助形容词有“ない“、“ほしい”、“いい (よい)“。主要用法是接在&lt;code&gt;て/で&lt;/code&gt;之后。&lt;/p&gt;

&lt;h2 id=&quot;x-速查表&quot;&gt;X. 速查表&lt;/h2&gt;
&lt;h3 id=&quot;xi-体时态&quot;&gt;X.I 体时态&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_I&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;分类&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;表达&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;例句&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;注解&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;持续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ている&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;今、市内の病院で&lt;code&gt;働いている&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;视点在动作持续或反复的过程中，无起始和终止&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;持续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;てくる&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;とにかく私は&lt;code&gt;苦労してき&lt;/code&gt;た&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;同ている，但明确了发话时间，常用过去时&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;持续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ていく&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;この子は私ー人の力で&lt;code&gt;育てていき&lt;/code&gt;ます&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;同ている，但明确了发话时间，常用非过去时&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;持续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;つつある&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;世界は変わりつつある(瞬间)&lt;br /&gt;台風はゆっくり北上しつつある(继续)&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;渐进性持续，多是瞬间动词&lt;br /&gt;也可是继续动词，但不常见&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;存续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ている&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;井上先生はいま中国に&lt;code&gt;行っている&lt;/code&gt;&lt;br /&gt;桜の木が&lt;code&gt;枯れている&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;“瞬间动词+ている”构成状态存续意义的存续体&lt;br /&gt;这种方式构成的存续体，表明动作行为已经发生，&lt;br /&gt;但它所造成的状态仍然存在&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;存续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ている&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;井上先生は中国に何回も&lt;code&gt;行っている&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;“动词+ている”还可以表示人们的经历、事件的记录&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;存续体&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;てある&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;窸が&lt;code&gt;開けてある&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;他动词后，过去动作、行为的结果还保留着&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;完成体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;てしまう&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;この小説を今週中に&lt;code&gt;読んでしまう&lt;/code&gt;&lt;br /&gt;きれいに財産を&lt;code&gt;使っちゃう&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;连用形+てしまう&lt;br /&gt;可约音成“ちゃう”或“ちまう”&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;准备体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ておく&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;自転車はもう&lt;code&gt;買っておい&lt;/code&gt;た&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;连用形+ておく&lt;br /&gt;必须是意志动词&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;即将体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;式は間もなく&lt;code&gt;終わろうとしている&lt;/code&gt;&lt;br /&gt;もう食べる&lt;code&gt;ばかりになっている&lt;/code&gt;&lt;br /&gt;出かけるところだ&lt;br /&gt;彼女は今にも&lt;code&gt;溺れそうだった&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;~う (よう）とする&lt;br /&gt;~するばかりだ&lt;br /&gt;~するところだ&lt;br /&gt;~そうだ&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;起始体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;学生たちは解答を&lt;code&gt;書き始めた&lt;/code&gt;&lt;br /&gt;止まっていたバスが&lt;code&gt;動き出し&lt;/code&gt;た&lt;br /&gt;雨が&lt;code&gt;降ってき&lt;/code&gt;た&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;意志/非意志+始める&lt;br /&gt;非意志+出す&lt;br /&gt;~てくる：事态出现变化，即开始&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;非过去&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;确定将来&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;明日必ず&lt;code&gt;行きます&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;继续动词和瞬间动词的非过去时形态&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;非过去&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;反复行为&lt;br /&gt;现在&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;毎日指を折って椅子の数を&lt;code&gt;数える&lt;/code&gt;&lt;br /&gt;夜、料理クラスへ&lt;code&gt;通っている&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;继续动词和动词持续体非过去时形式，&lt;br /&gt;均可表示现在反复进行的或习惯性的动作、行为&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;非过去&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;现在状态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;花子さんは飛行機の操縱が&lt;code&gt;できる&lt;/code&gt;&lt;br /&gt;池までの小径が&lt;code&gt;曲がっている&lt;/code&gt;&lt;br /&gt;隣の犬が&lt;code&gt;死んでいる&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;状态动词、动词存续体形容词性动词+ている&lt;br /&gt;的非过去时形式，均表示现存的状态&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;非过去&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;概念真理&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;地球が&lt;code&gt;回る&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示超越时间观念的概念、规律、真理、说明等&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;过去时&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;过去行为&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;昨日ここで交通事故が&lt;code&gt;起った&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;过去某个时刻的行为，用“动态动词连用形+た”表示&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;过去时&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;反复行为&lt;br /&gt;过去&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;昔はよくここで&lt;code&gt;泳いだ&lt;/code&gt;&lt;br /&gt;暇な時は山登りに&lt;code&gt;行った&lt;/code&gt;ものだ&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;用“动态动词连用形+た”或动词持续体的过去时表示，&lt;br /&gt;有回忆的意味&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;时&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;过去时&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;过去状态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;三日前はこの窓ガラスが&lt;code&gt;割れていた&lt;/code&gt;&lt;br /&gt;昔、ここにはたくさんの湖が&lt;code&gt;あった&lt;/code&gt;&lt;br /&gt;以前太っていたが、最近&lt;code&gt;やせてきた&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;用“状态动词连用形+た”、瞬间动词的存续体过去时、&lt;br /&gt;“形容词性动词+ていた”表示&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;被动态&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;直接被动&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;太郎が次郎に英語を教える(主动)&lt;br /&gt;次郎が太郎に英語を&lt;code&gt;教えられる&lt;/code&gt;&lt;br /&gt;王さんが李さんに辞書を渡す(主动)&lt;br /&gt;李さんが王さんから辞書を&lt;code&gt;渡され&lt;/code&gt;た&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;可以还原为主动句来说明&lt;br /&gt;构成直接被动态的动词&lt;code&gt;都是&lt;/code&gt;&lt;code&gt;他动词&lt;/code&gt;&lt;br /&gt;“~に”格成分看作人物宾语&lt;br /&gt;“~を”格成分看作事物宾语&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;被动态&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;间接被动&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私は帰る途中、雨に&lt;code&gt;降られ&lt;/code&gt;た(自动)&lt;br /&gt;幼い時に、父に&lt;code&gt;死なれ&lt;/code&gt;た(自动)&lt;br /&gt;電車の中で足を&lt;code&gt;踏まれ&lt;/code&gt;た(他动)&lt;br /&gt;電車の中で(誰かが)足を&lt;code&gt;踏んだ&lt;/code&gt;(主动句)&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;间接被动句主语不是动作的直接承受者，&lt;br /&gt;而是间接地受到与之没有直接关系的事情的影响&lt;br /&gt;分为&lt;code&gt;自动词&lt;/code&gt;和&lt;code&gt;他动词&lt;/code&gt;的间接被动句&lt;br /&gt;自动词的间接被动句&lt;code&gt;无法&lt;/code&gt;还原成主动句&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;使动态&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;先生が&lt;code&gt;彼に&lt;/code&gt;論文を書かせる(他动命令)&lt;br /&gt;&lt;code&gt;彼に&lt;/code&gt;かってに言わせておこう(他动放任)&lt;br /&gt;&lt;code&gt;子どもを&lt;/code&gt;9時までに寝させる(自动强制)&lt;br /&gt;&lt;code&gt;子どもに&lt;/code&gt;一人で大通りを&lt;br /&gt;渡らせるのは危ない(自动放任)&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;他动词，使动对象都用“に”&lt;br /&gt;自动词，强制性用“を”，非强制性用“に”&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;使动态&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;被使动态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;(弟が借りた)借金を&lt;code&gt;払わせられ&lt;/code&gt;た&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;是使动态的被动态&lt;br /&gt;行为不是自觉主动的，而是被迫的、不情愿的&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;可能态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;日本語&lt;code&gt;を話すことができる&lt;/code&gt;&lt;br /&gt;日本語&lt;code&gt;が話せる&lt;/code&gt;&lt;br /&gt;調子が悪くて、私&lt;code&gt;には&lt;/code&gt;大声で話せない&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;惯用型“~ことができる”不发生对象的格的转换&lt;br /&gt;&lt;code&gt;可能对象&lt;/code&gt;用格助词“が”表示&lt;br /&gt;&lt;code&gt;能动主体&lt;/code&gt;有时用格助词“に”表示&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;自发态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;雪が降ると、故郷のことが&lt;code&gt;思い出される&lt;/code&gt;&lt;br /&gt;故郷を&lt;code&gt;思い出す&lt;/code&gt;と、勇気が出る&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;动作对象&lt;/code&gt;如果出现，也可以是“が”的形式&lt;br /&gt;表示不由自主地产生某种行为或结果，与人为动作不同&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;xii-动词活用形&quot;&gt;X.II 动词活用形&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_II&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;用例&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范式&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;雨が&lt;code&gt;降らない&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;使役&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;させる (せる）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;弟を買い物に&lt;code&gt;行かせ&lt;/code&gt;た。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;被动&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;られる (れる）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;彼は父に&lt;code&gt;叱られ&lt;/code&gt;た。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;可能&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;られる (れる）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;それは&lt;code&gt;食べられる&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;尊敬&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;られる (れる）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;先生が&lt;code&gt;帰られ&lt;/code&gt;た。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;意志和推测&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;う(よう)&lt;br /&gt;一段动词和サ变动词+まい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;粘土で人形を&lt;code&gt;作ろう&lt;/code&gt;。&lt;br /&gt;あんなばかなことは二度と&lt;code&gt;しまい&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;构词用法&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;動き&lt;/code&gt;が激しい&lt;br /&gt;&lt;code&gt;使い&lt;/code&gt;道&lt;br /&gt;&lt;code&gt;流れ&lt;/code&gt;込む&lt;br /&gt;&lt;code&gt;聞き&lt;/code&gt;辛い&lt;br /&gt;魔法&lt;code&gt;使い&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;中顿&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;流れは山を&lt;code&gt;下り&lt;/code&gt;、谷を&lt;code&gt;走り&lt;/code&gt;、野をよこぎる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接助动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ます 敬体&lt;br /&gt;た 过去、完了、状态等&lt;br /&gt;たい、たがる 愿望&lt;br /&gt;そうだ 可能性&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;僕は君の幸せを&lt;code&gt;望みます&lt;/code&gt;。&lt;br /&gt;やっばり、かぎはここに&lt;code&gt;あった&lt;/code&gt;。&lt;br /&gt;今度は立派な論文を&lt;code&gt;書きたい&lt;/code&gt;。&lt;br /&gt;不景気で会社が&lt;code&gt;つぶれそうだ&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接格助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に 目的&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;朝早く鮭を&lt;code&gt;釣りに&lt;/code&gt;行った。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接接续助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;て&lt;br /&gt;ながら&lt;br /&gt;つつ&lt;br /&gt;ても&lt;br /&gt;たって&lt;br /&gt;ては&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;春が&lt;code&gt;来て&lt;/code&gt;、雪が溶けた。&lt;br /&gt;友と&lt;code&gt;語りつつ&lt;/code&gt;酒を飲む。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接并列助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;たり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ー日中&lt;code&gt;踊ったり&lt;/code&gt;、&lt;code&gt;歌ったり&lt;/code&gt;した。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接提示助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;は&lt;br /&gt;も&lt;br /&gt;でも&lt;br /&gt;さえ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;御恩は決して&lt;code&gt;忘れは&lt;/code&gt;しない。&lt;br /&gt;駅の案内を人々はほとんど&lt;code&gt;聞きも&lt;/code&gt;、&lt;code&gt;見も&lt;/code&gt;しません。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接语气助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;な&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;危ないから、気を&lt;code&gt;つけな&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;结句&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;この花はいい匂いが&lt;code&gt;する&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接助动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;そうだ&lt;br /&gt;らしい&lt;br /&gt;だろう (でしょう）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;彼は留学の許可を得るため両親を&lt;code&gt;説得するそうだ&lt;/code&gt;。&lt;br /&gt;新人を入れてチームの若返しを&lt;code&gt;図るらしい&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接助动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;五段动词和サ变动词+まい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;わざわざ嵐の中で登山をするものは&lt;code&gt;あるまい&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接并列助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;行くか&lt;/code&gt;行かないか迷っている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接语气助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;br /&gt;な&lt;br /&gt;ね&lt;br /&gt;よ&lt;br /&gt;なぁ&lt;br /&gt;さ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;転んだくらいで泣く奴が&lt;code&gt;あるか&lt;/code&gt;。&lt;br /&gt;急ぐから、僕はもう&lt;code&gt;帰るよ&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接接续助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;が&lt;br /&gt;けれども&lt;br /&gt;と&lt;br /&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私は車の連転が&lt;code&gt;できるが&lt;/code&gt;、兄はできない。&lt;br /&gt;会社は今危機に&lt;code&gt;あるけれども&lt;/code&gt;、つぶれないと思う。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接体言&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作为定语&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;流れる水&lt;/code&gt;と&lt;code&gt;噴き上げる水&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接助动词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ようだ&lt;br /&gt;みたいだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;彼も最近新しい機械を工夫して&lt;code&gt;いるみたいだ&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接接续助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ので&lt;br /&gt;のに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;日本語だけで十分に&lt;code&gt;表せるのに&lt;/code&gt;、なぜ…&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接副助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;だけ&lt;br /&gt;くらい&lt;br /&gt;ほど&lt;br /&gt;ばかり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;人生には、&lt;code&gt;遭難するぐらい&lt;/code&gt;惨めなことはない。&lt;br /&gt;&lt;code&gt;眺めるだけ&lt;/code&gt;なら、お金は要らない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接提示助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しか+否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここまで来たら、&lt;code&gt;やるしか&lt;/code&gt;ありません。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接语气助词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;の&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くずぐずしないで、さっさと&lt;code&gt;するの&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后接形式名词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こと&lt;br /&gt;もの&lt;br /&gt;の&lt;br /&gt;はず&lt;br /&gt;わけ&lt;br /&gt;ため&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここまで来て登山を&lt;code&gt;中止するわけ&lt;/code&gt;にはいかない。&lt;br /&gt;たいていのことは日本語で十分&lt;code&gt;表せるはず&lt;/code&gt;だ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;假定形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;可能‧条件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ば&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ちりも&lt;code&gt;積もれば&lt;/code&gt;山となる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F9001A&quot;&gt;命令形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;命令&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;僕の話を&lt;code&gt;聞け&lt;/code&gt;！&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xiii-动词活用&quot;&gt;X.III 动词活用&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_III&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;分类&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规律&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;变形&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;否定：转&lt;code&gt;あ&lt;/code&gt;段&lt;br /&gt;推量：转&lt;code&gt;お&lt;/code&gt;段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いか・ない&lt;br /&gt;いこ・う&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转&lt;code&gt;い&lt;/code&gt;段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いき・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连体形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行くこと&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;假定形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转&lt;code&gt;え&lt;/code&gt;段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いけ・ば&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;五段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;命令形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转&lt;code&gt;え&lt;/code&gt;段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;行く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いけ！&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去&lt;code&gt;る&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・ない&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去&lt;code&gt;る&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连体形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見ること&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;假定形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;る&lt;/code&gt;换&lt;code&gt;れ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・れば&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;一段&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;命令形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;る&lt;/code&gt;换&lt;code&gt;ろ/よ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;見る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み・ろ/よ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干加&lt;code&gt;し&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強し・ない/よう&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干加&lt;code&gt;し&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強し・ましょう&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连体形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強すること&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;假定形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干加&lt;code&gt;すれば&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強・すれば&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;サ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;命令形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干加&lt;code&gt;しろ/せよ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強する&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強・しろ/せよ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;未然形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こ・ない/よう&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连用形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;き・ます&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;终止形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;连体形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くること&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;假定形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くれば&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;カ变&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;命令形&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こい&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xiv-动词音便&quot;&gt;X.IV 动词音便&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_IV&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;只限：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;五段动词&lt;/li&gt;
  &lt;li&gt;连用形
    &lt;ul&gt;
      &lt;li&gt;后接助动词&lt;code&gt;た&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;或&lt;/li&gt;
      &lt;li&gt;后接续助词&lt;code&gt;て、ては、たも、たん、たって&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;分类&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;尾音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规律&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;原形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;连用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;变形&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;促音便&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;う&lt;br /&gt;つ&lt;br /&gt;る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转促音&lt;code&gt;っ&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;使う&lt;br /&gt;待つ&lt;br /&gt;乗る&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;使い&lt;br /&gt;待ち&lt;br /&gt;乗り&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;つか&lt;code&gt;っ&lt;/code&gt;・て&lt;br /&gt;ま&lt;code&gt;っ&lt;/code&gt;・た&lt;br /&gt;の&lt;code&gt;っ&lt;/code&gt;・て&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;拨音便&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ぬ&lt;br /&gt;ぶ&lt;br /&gt;む&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转&lt;code&gt;ん&lt;/code&gt;&lt;br /&gt;&lt;code&gt;ん&lt;/code&gt;后假名&lt;code&gt;浊化&lt;/code&gt;&lt;br /&gt;て → で、た → だ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;死ぬ&lt;br /&gt;呼ぶ&lt;br /&gt;飲む&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;死に&lt;br /&gt;呼び&lt;br /&gt;飲み&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;br /&gt;よ&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;だ&lt;/code&gt;&lt;br /&gt;の&lt;code&gt;ん&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;イ音便&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;く&lt;br /&gt;ぐ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转&lt;code&gt;い&lt;/code&gt;&lt;br /&gt;&lt;code&gt;ぎ&lt;/code&gt;的情况い后假名&lt;code&gt;浊化&lt;/code&gt;&lt;br /&gt;て → で、た → だ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書く&lt;br /&gt;嗅ぐ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;書き&lt;br /&gt;嗅ぎ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;か&lt;code&gt;い&lt;/code&gt;・て&lt;br /&gt;か&lt;code&gt;い&lt;/code&gt;・&lt;code&gt;で&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xv-形容词活用&quot;&gt;X.V 形容词活用&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_V&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规律&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い +&lt;br /&gt;かろ+推量助动词う&lt;br /&gt;かった（过去式）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;京都の桜は美し&lt;code&gt;かろう&lt;/code&gt;。&lt;br /&gt;昨日はとっても楽し&lt;code&gt;かった&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い + く +&lt;br /&gt;名词/副词&lt;br /&gt;て（中止接续）&lt;br /&gt;ない（否定）&lt;br /&gt;なる（表变化）&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味し&lt;code&gt;くて&lt;/code&gt;たまらない。&lt;br /&gt;彼女は全然美し&lt;code&gt;くない&lt;/code&gt;。&lt;br /&gt;だんだん暑&lt;code&gt;くなる&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;美味しいご飯&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;假定形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い + ければ + ···&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;楽し&lt;code&gt;ければ&lt;/code&gt;···&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xvi-形容词语法&quot;&gt;X.VI 形容词语法&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_VI&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规则&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语法作用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+かろ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表示推测&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;奨学金だけでは生活が&lt;code&gt;苦しかろ&lt;/code&gt;う。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;用言前作状语&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いつものように、&lt;code&gt;つまらなく&lt;/code&gt;家に帰った。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+くなる&lt;br /&gt;去い+くする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表变化&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なる类似自动词，表自然变化：&lt;br /&gt;人口が増え、市場も&lt;code&gt;大きく&lt;/code&gt;なった。&lt;br /&gt;する类似他动词，表人为变化&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;中顿&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;お父さんは、僕たちに&lt;code&gt;きびしく&lt;/code&gt;やさしくて、とても心が広かった。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+くない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;日本料理は明るい所で白ちゃけた器で食べては&lt;code&gt;うまく&lt;/code&gt;ない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+くて&lt;br /&gt;去い+くても&lt;br /&gt;去い+くては&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表并列&lt;br /&gt;表原因&lt;br /&gt;表转折&lt;br /&gt;表条件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;大きく&lt;/code&gt;て、&lt;code&gt;薄く&lt;/code&gt;て楽しそうな絵がいっばい。&lt;br /&gt;天気が&lt;code&gt;悪く&lt;/code&gt;てほとんど泳げなかった。&lt;br /&gt;どんなに&lt;code&gt;寒く&lt;/code&gt;ても・・・&lt;br /&gt;あんなに&lt;code&gt;やかましく&lt;/code&gt;ては、話もよく聞きとれないだろう。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+くは&lt;br /&gt;去い+くも&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;增添语法意义&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここから見るとそんなに&lt;code&gt;高く&lt;/code&gt;は感じられません。&lt;br /&gt;僕は&lt;code&gt;若く&lt;/code&gt;もなく、ハンサムでもない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+かった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表过去完了&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;高原に春の訪れは&lt;code&gt;遅かっ&lt;/code&gt;た。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+かったり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表并列&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;値段は&lt;code&gt;高かっ&lt;/code&gt;たり、&lt;code&gt;安かっ&lt;/code&gt;たりして、季節によって違います。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作谓语结句&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;最近のたばこは昔のに比べるとずいぶん&lt;code&gt;やわらかい&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+から&lt;br /&gt;+けれども&lt;br /&gt;+し&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表原因&lt;br /&gt;表转折&lt;br /&gt;中顿&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今度のお客さまは食べ物に&lt;code&gt;うるさい&lt;/code&gt;から、よくよく注意しなさい。&lt;br /&gt;咲いているあいだは&lt;code&gt;美しい&lt;/code&gt;けれども、枯れると汚いね。&lt;br /&gt;頭も&lt;code&gt;痛い&lt;/code&gt;し、手足も&lt;code&gt;だるい&lt;/code&gt;し、少し目まいもする。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+か&lt;br /&gt;+よ/ね&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表疑问&lt;br /&gt;表语气&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひどく&lt;code&gt;痛い&lt;/code&gt;か。&lt;br /&gt;映画より小説のほうが&lt;code&gt;面白い&lt;/code&gt;よ/ね。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+そうだ&lt;br /&gt;+らしい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表传闻&lt;br /&gt;表测助&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;日本の生徒は勉強時間が&lt;code&gt;少ない&lt;/code&gt;そうだ。&lt;br /&gt;ストレスは目に&lt;code&gt;悪い&lt;/code&gt;らしい。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;体言前作定语&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;強い&lt;/code&gt;日差しが照り付けて、各地で軒並み気温が三十度を超えた。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+の/もの/こと等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转体言、惯用型&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;語学というものは、とても&lt;code&gt;楽しい&lt;/code&gt;ものです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+ので&lt;br /&gt;+のに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表原因&lt;br /&gt;表转折&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;山に&lt;code&gt;近い&lt;/code&gt;ので、昼間はひどく暑い。&lt;br /&gt;ふだんは無ロで&lt;code&gt;おとなしい&lt;/code&gt;のに、・・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+だけ&lt;br /&gt;+ほど&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表转折&lt;br /&gt;表程度&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;勉強が&lt;code&gt;忙しい&lt;/code&gt;だけに体をいっそう大切にしなければならない。&lt;br /&gt;遠くから見ても&lt;code&gt;眩しい&lt;/code&gt;ほど黄色に輝いているものばかりです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+ようだ/みたいだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表比喻&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やはり本店の方が、&lt;code&gt;おいしい&lt;/code&gt;ような気がします。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;假定形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去い+ければ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表假定条件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;天気が&lt;code&gt;よけれ&lt;/code&gt;ば、スケッチに出かける。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干+名词等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;构词法&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;近道、大きさ、荒っぽい、真っ暗&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作谓语表感叹&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ああ、&lt;code&gt;から&lt;/code&gt;。&lt;br /&gt;おお、&lt;code&gt;おそろし&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干+そうだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表样态&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;苦し&lt;/code&gt;そうに顔をゆがめている。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xvii-形容动词活用&quot;&gt;X.VII 形容动词活用&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_VII&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规律&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;原形 + ろう(推测)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;綺麗だ&lt;code&gt;ろう&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ +&lt;br /&gt;だった(过去)&lt;br /&gt;ではない(否定)&lt;br /&gt;に(副词)&lt;br /&gt;に成る(になる, 表变化)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;綺麗&lt;code&gt;ではない&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;不变&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;綺麗だ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ + な + ···&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;綺麗な&lt;code&gt;もの&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;假定形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ + なら + ···&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;綺麗&lt;code&gt;なら&lt;/code&gt;···&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xviii-形容动词语法&quot;&gt;X.VIII 形容动词语法&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_VIII&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;活用形&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;规则&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语法作用&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;未然形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+だろう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表推测&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みんなで話し合いをしないと&lt;code&gt;駄目だろ&lt;/code&gt;う。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;中顿&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;便利で&lt;/code&gt;快適な生活の裏で、増え続けるエネルギー消費。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+で(は/も)ない&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表否定&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あまり&lt;code&gt;好きで&lt;/code&gt;はないが、さほど&lt;code&gt;嫌いで&lt;/code&gt;もない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+では&lt;br /&gt;去だ+でも&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表假定条件&lt;br /&gt;表让步条件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;話があまり&lt;code&gt;簡単で&lt;/code&gt;は分りにくいだろうから、少し長くやりましょう。&lt;br /&gt;海は&lt;code&gt;穏やかで&lt;/code&gt;も船で行くのはよそう。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接用言作状语&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;その内容を&lt;code&gt;十分に&lt;/code&gt;審査して、業者を決定いたします。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+になる&lt;br /&gt;去だ+にする&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表变化&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なる类似自动词，表客观变化：&lt;br /&gt;運動をすることによって、骨が&lt;code&gt;丈夫に&lt;/code&gt;なった。&lt;br /&gt;する类似他动词，表主观变化&lt;br /&gt;科学の進歩が人間を&lt;code&gt;幸福に&lt;/code&gt;することを疑わなかった。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+だった&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表过去完了&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あの山は&lt;code&gt;有名だっ&lt;/code&gt;たかもしれませんが、今・・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;连用形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+だったり&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表并列&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;このへんは時間によって&lt;code&gt;静かだっ&lt;/code&gt;たり、&lt;code&gt;にぎやかだっ&lt;/code&gt;たりです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作谓语结句&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;詩を書いたり小説を読んだりするのも&lt;code&gt;倫快だ&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+から&lt;br /&gt;+けれども&lt;br /&gt;+し&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表原因&lt;br /&gt;表转折&lt;br /&gt;中顿&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;・・・駅からも遠くて&lt;code&gt;不便だ&lt;/code&gt;から、引越すことにした。&lt;br /&gt;仕事は&lt;code&gt;困難だ&lt;/code&gt;けれども最後までがんばらなければならない。&lt;br /&gt;砂浜も軟らかいし、波も静かで、水も&lt;code&gt;きれいだ&lt;/code&gt;し、海水浴・・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;终止形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;+そうだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表传闻&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;日本語は全然&lt;code&gt;だめだ&lt;/code&gt;そうですよ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+な&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接体言作定语&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;弟に、&lt;code&gt;無邪気な&lt;/code&gt;笑顔が戻っていた。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+なの/こと/もの&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;转体言、惯用型&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私が&lt;code&gt;大好きな&lt;/code&gt;のは、自然の美しさです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+なので&lt;br /&gt;去だ+なのに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表原因&lt;br /&gt;表转折&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;和菓子が&lt;code&gt;好きな&lt;/code&gt;ので、よく和菓子屋さんを探しに行きます。&lt;br /&gt;日本語で修士論文を書くのも&lt;code&gt;大変な&lt;/code&gt;のに、・・・&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+なだけ&lt;br /&gt;去だ+なほど&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表转折&lt;br /&gt;表程度&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;速やかな&lt;/code&gt;だけでなしに、携帯と操作もはなはだ便利である。&lt;br /&gt;&lt;code&gt;不思議な&lt;/code&gt;ほど鮮明に覚えている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+なようだ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表比喻&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;人間は体に栄養が&lt;code&gt;必要な&lt;/code&gt;ように心にも栄養がいるのです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;连体形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+な&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;结句表感叹&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;そんな。&lt;code&gt;ばかな&lt;/code&gt;。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;假定形&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去だ+なら&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表假定条件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;天候が&lt;code&gt;順調ならば&lt;/code&gt;航空ショーが行われる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干+名词等&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;构成复合词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;好き嫌い、得意顔、心静か、負けず嫌い&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干+前缀/后缀&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;构成派生词&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;お大事、無器用、もの静か、豊かさ、新鮮み、得意げ、不思議がる&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作谓语表感叹&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あら、&lt;code&gt;すてき&lt;/code&gt;!&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词干+そうだ&lt;br /&gt;词干+らしい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;表样态&lt;br /&gt;表推测&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;切符が&lt;code&gt;大事&lt;/code&gt;そうにしっかり握られていた。&lt;br /&gt;日本人はむしろそれが&lt;code&gt;好き&lt;/code&gt;らしいです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;仅词干&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;作名词用&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;子供達に対してつねに&lt;code&gt;親切&lt;/code&gt;を示すことは、一種の文明です。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;xix-格助词语法&quot;&gt;X.IX 格助词语法&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_IX&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;用法&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;が&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;用言连体形后，作惯用：負ける&lt;code&gt;が&lt;/code&gt;勝ちだ。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;が&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表主语：&lt;br /&gt;表示判断、性质、状态、&lt;br /&gt;存在、动作、作用等的主体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;斎藤さん&lt;code&gt;が&lt;/code&gt;責任者です。(判断)&lt;br /&gt;アルバイトの学生はみんな背&lt;code&gt;が&lt;/code&gt;高い。(状态)&lt;br /&gt;南美で大きい地震&lt;code&gt;が&lt;/code&gt;起こった。(动作)&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;が&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表主语：&lt;br /&gt;表示好恶、巧拙、能力、&lt;br /&gt;愿望、心理活动、需要等对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;関西の人は納豆&lt;code&gt;が&lt;/code&gt;嫌いだ。(好恶)&lt;br /&gt;彼は英語&lt;code&gt;が&lt;/code&gt;話せる。(能力)&lt;br /&gt;スポーツ万能の友人&lt;code&gt;が&lt;/code&gt;うらやましい。(心理活动)&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;が&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表定语&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;バラは美しい&lt;code&gt;が&lt;/code&gt;ゆえに、人に摘まれる運命にある。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;を&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;を&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表宾语：表示动作直接涉及的对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私は毎朝牛乳&lt;code&gt;を&lt;/code&gt;飲みます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;を&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表宾语：表示动作造成的直接结果&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;積み木で城&lt;code&gt;を&lt;/code&gt;つくる。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;を&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;谓语动词是自动词的使动态时，表示使动的对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;息子&lt;code&gt;を&lt;/code&gt;大学に行かせたい。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;を&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作经过的场所或动作离开的地点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;電車道&lt;code&gt;を&lt;/code&gt;歩いて来る。&lt;br /&gt;東京駅&lt;code&gt;を&lt;/code&gt;今晚の10時に立ちます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;在某些惯用说法中可接在用言后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示存在的场所&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;顔&lt;code&gt;に&lt;/code&gt;笑いを浮かべた。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作或作用的时间&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;3時&lt;code&gt;に&lt;/code&gt;駅で待ち合わせる。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作的目标、着落点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;修学旅行で関西&lt;code&gt;に&lt;/code&gt;行った。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作所关联、涉及的对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;友達&lt;code&gt;に&lt;/code&gt;パソコンを貨した。&lt;br /&gt;この商品&lt;code&gt;に&lt;/code&gt;手を触れてはいけません。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作的目的后续&lt;br /&gt;“来る”、“行く”等表示趋向的动词&lt;br /&gt;接在动词或形式名词“の”、“ため”后&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;遠くから泳ぎ&lt;code&gt;に&lt;/code&gt;来た人も多い。&lt;br /&gt;北京に行く&lt;code&gt;に&lt;/code&gt;は、どの汽車に乗ったらいいでしよう。&lt;br /&gt;この論文を書き終わるの&lt;code&gt;に&lt;/code&gt;あと何日かかるだろう。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示理由、原因或依据&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;あまりの嬉しさ&lt;code&gt;に&lt;/code&gt;泣き出した。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示事物或状态变化的结果&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;講堂が会場&lt;code&gt;に&lt;/code&gt;変わりました。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示比较、评价、比例的基准&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ここは海&lt;code&gt;に&lt;/code&gt;近いが、山&lt;code&gt;に&lt;/code&gt;は遠い。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作进行的方式、状态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;駅まで山沿い&lt;code&gt;に&lt;/code&gt;歩いた。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示主体：&lt;br /&gt;表示可能的动词“分かる”、“読める”、“見える”等&lt;br /&gt;表示要求的动词、形容词、形容动词“要る”、“欲しい“等&lt;br /&gt;表示感情的形容词“嬉しい”、“悲しい”等&lt;br /&gt;敬语动词&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;写真ぐらい私&lt;code&gt;に&lt;/code&gt;も写せます。&lt;br /&gt;わたし&lt;code&gt;に&lt;/code&gt;はお金が必要だ。&lt;br /&gt;親友の裏切りが私&lt;code&gt;に&lt;/code&gt;は悲しい。&lt;br /&gt;先生&lt;code&gt;に&lt;/code&gt;はお変わりなく・・・&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示被动句或使动句中动作的实施者&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;ぼくの金魚が猫&lt;code&gt;に&lt;/code&gt;食われた。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;重叠同一个动词表示强调&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;雨が降り&lt;code&gt;に&lt;/code&gt;降る。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示状态、程度，像副词一样使用&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;水を大量&lt;code&gt;に&lt;/code&gt;飲むことです。&lt;br /&gt;お気付きの点は遠慮なし&lt;code&gt;に&lt;/code&gt;言ってください。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作，行为发生的场所&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解説欄&lt;code&gt;で&lt;/code&gt;詳しく説明する。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示进行动作时所用的手段或材料&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;金&lt;code&gt;で&lt;/code&gt;買えない物がたくさんあります。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示原因、理由&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;会社を風邪&lt;code&gt;で&lt;/code&gt;休んでいます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示期限或限度&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;新幹線は3時間&lt;code&gt;で&lt;/code&gt;東京・大阪間を走る。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作进行时的状态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;普通の速さ&lt;code&gt;で&lt;/code&gt;歩いて5分ほどだ。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示范围、范畴&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;外交の面&lt;code&gt;で&lt;/code&gt;も一連の大きな成果を収めた。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;で&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作的主体&lt;br /&gt;大多是团体或组织等集合体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;これは当社&lt;code&gt;で&lt;/code&gt;開発した新製品です。&lt;br /&gt;警視庁&lt;code&gt;で&lt;/code&gt;未成年者犯罪の取り締まりに全力を挙げています。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;在引用思考、叙述的内容时，也可接在用言、助动词后&lt;br /&gt;还可接在某些副词后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作的共同者或对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私は母&lt;code&gt;と&lt;/code&gt;デパートへ行きました。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示事物演变、转化的结果&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;長い努力がむだ&lt;code&gt;と&lt;/code&gt;なった。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示比较的对象或基准&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私の国&lt;code&gt;と&lt;/code&gt;比べると、日本のほうが暑いです。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示称谓或思考、叙述的内容&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私は張&lt;code&gt;と&lt;/code&gt;申します。&lt;br /&gt;ー度富士山に登ってみたい&lt;code&gt;と&lt;/code&gt;思います。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;跟在某些情态副词、体言后，&lt;br /&gt;构成状语，表示方式、状态&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;雨がぽつりぽつり&lt;code&gt;と&lt;/code&gt;降る。&lt;br /&gt;二度&lt;code&gt;と&lt;/code&gt;そんなことはしない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;から&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;接在接续助词“て”后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;から&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作、作用在时间、空间、&lt;br /&gt;人物关系、事项上的起点或经由点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;朝&lt;code&gt;から&lt;/code&gt;彼を待っている。&lt;br /&gt;車&lt;code&gt;から&lt;/code&gt;降りた男。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;から&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示原因、理由、依据等&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;小さなこと&lt;code&gt;から&lt;/code&gt;けんかになった。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;から&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示原料、材料、成分等&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;酒は米&lt;code&gt;から&lt;/code&gt;造る。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;から&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作、作用的主体&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;そのことは私&lt;code&gt;から&lt;/code&gt;彼に話しておきます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;まで&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;有时可接在用言和助动词后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;まで&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示行为、动作在时间、空间、&lt;br /&gt;人物关系、事项上的终点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;荷物をとなりの部屋&lt;code&gt;まで&lt;/code&gt;運んでください。&lt;br /&gt;50ページ&lt;code&gt;まで&lt;/code&gt;予習しておく。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;へ&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言或相当于体言的词语后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;へ&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示方向或到达点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;裁判所&lt;code&gt;へ&lt;/code&gt;訴えなければ解決策がない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;へ&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作、作用的对象&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;これは母&lt;code&gt;へ&lt;/code&gt;の手紙です。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;より&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语后&lt;br /&gt;有时可接在动词、形容词、助动词后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;より&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示比较的基准&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;今年は去年&lt;code&gt;より&lt;/code&gt;ずっと暑いです。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;より&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示限定&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;こうする&lt;code&gt;より&lt;/code&gt;ほかに仕方がない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;より&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示起点&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;個展は明日&lt;code&gt;より&lt;/code&gt;開催されます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;の&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;接续法&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在体言或相当于体言的词语、副词及某些惯用型后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;の&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示定语&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;図書館&lt;code&gt;の&lt;/code&gt;本&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;の&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示定语从句中的主语&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;鉛筆&lt;code&gt;の&lt;/code&gt;ほしい人はいませんか。&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;xx-其他常用助词语法&quot;&gt;X.X 其他常用助词语法&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDX_X&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;用法&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在动词、形容词及动词型活用助动词、&lt;br /&gt;形容词型活用助动词连用形后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示并列或对比&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;夏は暑く&lt;code&gt;て&lt;/code&gt;冬は寒いです。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示随时间推移而发生的&lt;br /&gt;动作的先后关系&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;夏は過ぎ&lt;code&gt;て&lt;/code&gt;秋が来た。&lt;br /&gt;一年前に行っ&lt;code&gt;て&lt;/code&gt;以来、あそこ・・・&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作进行的方式、方法、手段&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;父は毎日電車に乗っ&lt;code&gt;て&lt;/code&gt;会社へ行きます。&lt;br /&gt;私はラジオの講座を聞い&lt;code&gt;て&lt;/code&gt;英語を・・・&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示前项对后项的叙述内容加以限定&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;彼の意見を無視してそんなことをし&lt;code&gt;て&lt;/code&gt;はいけない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示原因、理由&lt;br /&gt;只限于客观的表达，&lt;br /&gt;句末不能用主观的表达方式&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;あまり小さく&lt;code&gt;て&lt;/code&gt;見えません。&lt;br /&gt;教室で騒い&lt;code&gt;で&lt;/code&gt;しかられました。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示前后项是逆态的接续关系&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;事情を知っ&lt;code&gt;て&lt;/code&gt;いて言わないのだから、彼も性格が悪い。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;连接补助动词、补助形容词：&lt;br /&gt;ない、いい、ほしい&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;先生に作文を直し&lt;code&gt;て&lt;/code&gt;いただきました。&lt;br /&gt;あなたも一緒に行っ&lt;code&gt;て&lt;/code&gt;ほしい。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;ながら&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;ながら&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在动词和动词型活用助动词的连用形、&lt;br /&gt;形容词和形容词型活用助动词的终止形、&lt;br /&gt;形容动词词干、某些名词后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;ながら&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作同时进行或两个动作同时存在&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;天気がいいから、散歩し&lt;code&gt;ながら&lt;/code&gt;話しましょう。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;ながら&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示逆态接续&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;不快に思い&lt;code&gt;ながら&lt;/code&gt;顔色には出さない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在用言、助动词的终止形后面&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示两个或两个以上的事项同时存在&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;遊んでもいたい&lt;code&gt;し&lt;/code&gt;、勉強もしたい。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示同时存在的事项是后续句子的理由&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;朝は早い&lt;code&gt;し&lt;/code&gt;、夜は遅い&lt;code&gt;し&lt;/code&gt;、疲れるのはあたりまえです。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;て/でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt; &lt;strong&gt;ても/でも&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;て/でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在动词、动词型活用助动词、形容词、形容词型活用助动词的连用形后&lt;br /&gt;接在名词、形容动词词干、形容动词型活用助动词词干后时用“でも”&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;て/でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示假定让步条件的逆态接续&lt;br /&gt;前项条件已经成立的情况下，&lt;br /&gt;后项也不受此条件约束，依然成立&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;たとえ雨が降っ&lt;code&gt;ても&lt;/code&gt;、行きます。&lt;br /&gt;どんなに丈夫&lt;code&gt;でも&lt;/code&gt;長くは使えないだろう。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;て/でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示既定让步条件的逆态接续&lt;br /&gt;表示前项以一既成事实为条件，&lt;br /&gt;后项在此条件下也成立&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;雪は夜になっ&lt;code&gt;ても&lt;/code&gt;やみませんでした。&lt;br /&gt;あんなに暑く&lt;code&gt;ても&lt;/code&gt;だれも暑いと言わなかった。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;たって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt; &lt;strong&gt;たって/だって&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;たって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在动词、动词型活用助动词、形容词、形容词型活用助动词的连用形后&lt;br /&gt;接在名词、形容动词词干、形容动词型活用助动词词干后时用“だって”&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;たって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;与“ても/でも”基本上一样&lt;br /&gt;是表示让步意义的逆态接续关系&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;値段が安く&lt;code&gt;たって&lt;/code&gt;品が悪ければ買わない。&lt;br /&gt;呼ん&lt;code&gt;だって&lt;/code&gt;返事しないから、よしなさい。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#009DF0&quot;&gt;て/では&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt; &lt;strong&gt;ては/では&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#009DF0&quot;&gt;て/では&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在动词、动词型活用助动词、形容词、形容词型活用助动词的连用形后&lt;br /&gt;接在名词、形容动词词干、形容动词型活用助动词词干后时用“では”&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#009DF0&quot;&gt;て/では&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示假定条件，后项多为否定或消极&lt;br /&gt;表示反复出现、进行的行为动作&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;体が弱く&lt;code&gt;ては&lt;/code&gt;大事業は出来ない。&lt;br /&gt;雪は消え&lt;code&gt;ては&lt;/code&gt;降り、降っ&lt;code&gt;ては&lt;/code&gt;また消えた。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ので&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ので&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在用言、助动词的连体形后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ので&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示两个事项之间存在客观的&lt;br /&gt;或人们都承认的因果关系&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;強いお酒な&lt;code&gt;ので&lt;/code&gt;、わたしはいただきませんでした。&lt;br /&gt;試験が近づいた&lt;code&gt;ので&lt;/code&gt;、みんな・・・&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接在用言或助动词连用形后。&lt;br /&gt;由“たり”构成的联合式词组具有体言的性质，可以像体言一样用，&lt;br /&gt;还可以后接“する”像サ变动词词干一样使用，或者可以直接入句做状语。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示动作在某一时间内变替进行或&lt;br /&gt;状态交替出现&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;飲ん&lt;code&gt;だり&lt;/code&gt;食べ&lt;code&gt;たり&lt;/code&gt;、十分腹をこしらえた。&lt;br /&gt;泣い&lt;code&gt;たり&lt;/code&gt;笑っ&lt;code&gt;たり&lt;/code&gt;嘆い&lt;code&gt;たり&lt;/code&gt;うなっ&lt;code&gt;たり&lt;/code&gt;少しも冷静な態度がない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;は&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;は&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接于体言、相当于体言的词语、用言连用形、&lt;br /&gt;部分助动词连用形、部分副词及助词后&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;は&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;提示主题&lt;br /&gt;可以顶替“が”、“を”提示主语、宾语&lt;br /&gt;可以跟在补格助词的后面提示补语&lt;br /&gt;(有时也可顶替“へ”和表示位置的“に“)&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;桜の花&lt;code&gt;は&lt;/code&gt;美しい。(提示主语)&lt;br /&gt;この映画&lt;code&gt;は&lt;/code&gt;先週見ました。(提示宾语)&lt;br /&gt;バンダ&lt;code&gt;は&lt;/code&gt;竹の葉をよく食べる。(提示叙述句主语)&lt;br /&gt;ここで&lt;code&gt;は&lt;/code&gt;話せない。(提示补语)&lt;br /&gt;一週間に一度ぐらい&lt;code&gt;は&lt;/code&gt;映画を見に行きたくなる。(提示状语)&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;は&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示对比、比较&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;今日&lt;code&gt;は&lt;/code&gt;休みが取れますが、明日&lt;code&gt;は&lt;/code&gt;取れません。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;は&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示否定、让步或转折&lt;br /&gt;提示一个部分，导致否定、让步或转折&lt;br /&gt;“は”出现在谓语里时，这种倾向更加明显&lt;br /&gt;出现在谓语里时，跟在活用词连用形后&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;こんなに人がいると&lt;code&gt;は&lt;/code&gt;思わなかった。&lt;br /&gt;読んで&lt;code&gt;は&lt;/code&gt;みたが、わからないところが多い。&lt;br /&gt;安いこと&lt;code&gt;は&lt;/code&gt;安いが、きずがある。&lt;br /&gt;借り&lt;code&gt;は&lt;/code&gt;したが、すく返した。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;顶替主格助词“が”提示主语&lt;br /&gt;顶替宾格助词“を”或与“を”重叠使用提示宾语&lt;br /&gt;与补格助词重叠使用提示补语(也可顶替表示时间和位置的“に“)&lt;br /&gt;也可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;br /&gt;注意区分&lt;code&gt;て/で+も&lt;/code&gt;与&lt;code&gt;でも&lt;/code&gt;的区别&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示同类事物的追加&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;あなたが行くなら、私&lt;code&gt;も&lt;/code&gt;行きます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示兼提&lt;br /&gt;一般用“AもBも+谓语“、&lt;br /&gt;“Aも+谓语、Bも+谓语”的形式&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;一等席&lt;code&gt;も&lt;/code&gt;二等席&lt;code&gt;も&lt;/code&gt;全部売り切れました。&lt;br /&gt;このホテルから山&lt;code&gt;も&lt;/code&gt;見えれば、湖&lt;code&gt;も&lt;/code&gt;見えます。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示强调&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;笑い&lt;code&gt;も&lt;/code&gt;しません。&lt;br /&gt;値段は高く&lt;code&gt;も&lt;/code&gt;ない。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示全面肯定或全面否定&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;何の経験&lt;code&gt;も&lt;/code&gt;ない。&lt;br /&gt;彼はどんな人間と&lt;code&gt;も&lt;/code&gt;仲良くやっていく。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;举出一个极端事例，类推其他&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;子供に&lt;code&gt;も&lt;/code&gt;分かる道理だ。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;顶替主格助词“が”提示主语。顶替宾格助词“を”提示宾语&lt;br /&gt;与补格助词重叠使用提示补语&lt;br /&gt;也可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;提示一个极端事例，类推其他&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;先生&lt;code&gt;でも&lt;/code&gt;解けない難問。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;表示举例&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;新聞&lt;code&gt;でも&lt;/code&gt;雑誌&lt;code&gt;でも&lt;/code&gt;いいから時間つぶしに貸してくださいませんか。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;与不定词呼应，表示全面肯定&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;この店には何&lt;code&gt;でも&lt;/code&gt;ある。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;接续法&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;可以顶替主格助词“が”提示主语，顶替宾格助词“を”提示宾语&lt;br /&gt;可以与补格助词重叠使用提示补语&lt;br /&gt;可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;br /&gt;用法和“でも”相似，但和“でも”相比，多用在比较随便、亲切的谈话中&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;提出一个极端事例，类推其他&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私&lt;code&gt;だって&lt;/code&gt;そのくらいのことはできますよ。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;举例性地提示同类事物中的几个&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;映画&lt;code&gt;だって&lt;/code&gt;芝居&lt;code&gt;だって&lt;/code&gt;君の好きなほうに連れていってあげるよ。&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;与不定词呼应，&lt;br /&gt;表示全面肯定或全面否定&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;彼はいつ&lt;code&gt;だって&lt;/code&gt;笑顔だ。&lt;br /&gt;そんなことはだれ&lt;code&gt;だって&lt;/code&gt;分からないでしょう。&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;xi-常用表达&quot;&gt;XI. 常用表达&lt;/h2&gt;
&lt;p&gt;&lt;span id=&quot;IDXI&quot;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;数字的表达&quot;&gt;数字的表达&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%97%A5%E8%AA%9E%E6%95%B8%E5%AD%97&quot;&gt;日语数字 WIKI&lt;/a&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;数字&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;音读&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;训读&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;数字&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;音读&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;训读&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;れい/ゼロ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まる&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひと(つ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;とお&lt;br /&gt;そ(用于30-90整十的训读)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ふた(つ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;20&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はた(ち)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;み(っつ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;30&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;みそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;し/よん/よ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よ(っつ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;40&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よんじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ご&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いつ(つ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;50&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ごじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;む(っつ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;60&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろくじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;むそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しち/なな&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なな(つ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;70&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ななじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ななそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;や(っつ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;80&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はちじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;やそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;く/きゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここの(つ)&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;90&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きゅうじゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここのそ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;100&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もも&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1000&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ち&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;200&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にひゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2000&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にせん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;300&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんびゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3000&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんぜん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;600&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろっぴゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;800&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっぴゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8000&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっせん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一万&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちまん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よろず&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一億&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちおく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一兆&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっちょ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;点念作：てん&lt;/li&gt;
  &lt;li&gt;零的用法：一般数字或单独出现时念为&lt;code&gt;れい&lt;/code&gt;，车牌或房间号码时念为&lt;code&gt;まる&lt;/code&gt;，电话号码则大多念为&lt;code&gt;ゼロ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;连贯的数数：升序&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;イチ、ニ、サン、シ、ゴ、ロク、シチ、ハチ、ク、ジュウ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;连贯的数数：降序&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ジュウ、キュウ、ハチ、ナナ、ロク、ゴ、ヨン、サン、ニ、イチ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;数字4的发音规则&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在日语数字里面，4可以说是发音最复杂的数字之一。现代日语里面常用的发音就有「し・よっ・よん・よ」四种，而其中以「よん」最为常见，「よ」次之。而「し」只出现在「四月」这个单词中，「よっ」只出现在「四日」这个数词中，其余都读「よん」或「よ」。&lt;/p&gt;

&lt;p&gt;4后续助数词的第一个假名若是元音或是「な」行假名的话，和「よん」连在一起读有些拗口，所以这种情况一般不读「よん」，而读「よ」。如：4和下列助数词在一起时一般读「よ」：人、年：四人（よにん）、四年（よねん）。当4后续助数词的第一个假名是「じ」时常读「よ」：字、次：四字（よじ）、四次（よじ）。&lt;/p&gt;

&lt;h3 id=&quot;量词的表达&quot;&gt;量词的表达&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;量词的促音变化&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;数字&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;&lt;code&gt;か行&lt;/code&gt;&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;&lt;code&gt;さ行&lt;/code&gt;&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;&lt;code&gt;た行&lt;/code&gt;&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;&lt;code&gt;は行&lt;/code&gt;&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;1&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１回&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１歳&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっさい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１着&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっふん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;6&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６回&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろっかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６歳&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろく&lt;/code&gt;さい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６着&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろく&lt;/code&gt;ちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろっふん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;8&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８回&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８歳&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっさい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８着&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっふん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０回&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅっかい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０歳&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅっさい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０着&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅっちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅっぷん&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;6在&lt;code&gt;さ行&lt;/code&gt;和&lt;code&gt;た行&lt;/code&gt;不发生变化，仍旧是&lt;code&gt;ろく&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;は行&lt;/code&gt;的量词搭配数字1、6、8、10时，还会从原本的发音&lt;code&gt;は&lt;/code&gt;变成&lt;code&gt;ぱ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;常用量词&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;量词/意思&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;1&lt;br /&gt;6&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;2&lt;br /&gt;7&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;3&lt;br /&gt;8&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;4&lt;br /&gt;9&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;5&lt;br /&gt;10&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;几&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;- / 个数&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ひとつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ふたつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;みっ&lt;/code&gt;つ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;よっ&lt;/code&gt;つ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いつつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;むっ&lt;/code&gt;つ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ななつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;やっ&lt;/code&gt;つ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここのつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;とお&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いくつ&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;- / 人数&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ひとり&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ふたり&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;よ&lt;/code&gt;にん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ごにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろくにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ななにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はちにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きゅうにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうにん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なんにん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;歳 / 岁&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;さい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;さい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;さい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;回 / 次&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;個 / 个&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;こ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっ&lt;/code&gt;こ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;こ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;こ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;台 / 台&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちだい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;…&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;枚 / 张&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちまい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;…&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;冊 / 本&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;さつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;さつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;さつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;本 / 根&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっぽ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;ぼ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっぽ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっぽ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっぽ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;ぼ&lt;/code&gt;ん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;着 / 件&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;ちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;ちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;ちゃく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;足 / 双&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;そく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;ぞ&lt;/code&gt;く&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;そく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;そく&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;ぞ&lt;/code&gt;く&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;杯 / 碗&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっぱ&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;ば&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっぱ&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっぱ&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっぱ&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;ば&lt;/code&gt;い&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;階 / 楼&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;が&lt;/code&gt;い&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;かい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;が&lt;/code&gt;い&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;匹 / 匹&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっぴ&lt;/code&gt;き&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;び&lt;/code&gt;き&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっぴ&lt;/code&gt;き&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっぴ&lt;/code&gt;き&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっぴ&lt;/code&gt;き&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;び&lt;/code&gt;き&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;月 / 月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いっ&lt;/code&gt;かげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ろっ&lt;/code&gt;かげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はっ&lt;/code&gt;かげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅっ&lt;/code&gt;かげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;算数计算&quot;&gt;算数计算&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;四则运算&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;四則計算（しそくけいさん）：四则运算
    &lt;ul&gt;
      &lt;li&gt;足し算（たしざん）：加法&lt;/li&gt;
      &lt;li&gt;引き算（ひきざん）：减法&lt;/li&gt;
      &lt;li&gt;掛け算（かけざん）：乘法&lt;/li&gt;
      &lt;li&gt;割り算（わりざん）：除法&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;加減乗除（かげんじょうじょ）&lt;/li&gt;
  &lt;li&gt;四則演算（しそくえんざん）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;加减乘除&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;=：イコール、は&lt;/li&gt;
  &lt;li&gt;+：足す（たす）、プラス&lt;/li&gt;
  &lt;li&gt;-：引く（ひく）、マイナス&lt;/li&gt;
  &lt;li&gt;X：かける&lt;/li&gt;
  &lt;li&gt;/：わる&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;例子&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;5x4/2+3-6=7
    &lt;ul&gt;
      &lt;li&gt;ご　かける　よん　わる　に　たす　さん　ひく　ろく　は/イコール　なな&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;6+2x3-8/4=10
    &lt;ul&gt;
      &lt;li&gt;ろく　たす　に　かける　さん　ひく　はち　わる　よん　は　じゅう&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;时间日期的表达&quot;&gt;时间日期的表达&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;时刻&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;２時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;３時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんじ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;４時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;５時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ごじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろくじ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;７時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しちじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はちじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;９時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くじ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１１時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅういちじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１２時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうにじ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;０時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;れいじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;何時&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なんじ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;日语在描述&lt;code&gt;13时&lt;/code&gt;这样的时间点时，使用的是：&lt;code&gt;午後一時&lt;/code&gt;（ごごいちじ）这样的方式。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时刻&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いっ&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;２分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;３分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さん&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;４分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よん&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;５分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ごふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろっ&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;７分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ななふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はっ&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;９分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きゅうふん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅう&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１１分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅういっ&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１２分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうにふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１３分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうさんぷん&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１４分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうよぷん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１５分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうごふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;３０分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんじゅっ&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;４５分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;よんじゅうごふん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;何分&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なん&lt;code&gt;ぷ&lt;/code&gt;ん&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;星期&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;星期&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;日曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にちようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期日&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;月曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;げつようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期一&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;火曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;かようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期二&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;水曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;すいようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期三&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;木曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;もくようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期四&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;金曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きんようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期五&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;土曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;どようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期六&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;何曜日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なんようび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;星期几&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;月份&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;月份&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;月份&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;月份&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;いちがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;２月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;３月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんがつ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;４月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;し&lt;/code&gt;がつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;５月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ごがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;６月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ろくがつ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;７月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;しち&lt;/code&gt;がつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;８月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;はちがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;９月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;く&lt;/code&gt;がつ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１０月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１１月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅういちがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;１２月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうにがつ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;何月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;なんがつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;日历&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;日曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;月曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;火曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;水曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;木曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;金曜日&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;土曜日&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ついたち&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ふつか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;みっか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;よっか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;いつか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;むいか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;なのか&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;12&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;14&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ようか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;ここのか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;とおか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅういちにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうににち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうさんにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;じゅうよっか&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;15&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;17&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;18&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;19&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;20&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうごにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうろくにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうしちにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうはちにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;じゅうくにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;はつか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅういちにち&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;22&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;23&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;24&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;25&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;26&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;27&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;28&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうににち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうさんにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;にじゅうよっか&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうごにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうろくにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうしちにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうはちにち&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;29&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;30&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;31&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;にじゅうくにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんじゅうにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さんじゅういちにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;何日ですか（なんにちですか）&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;其他时间词汇&lt;/strong&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时间&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时间&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;时间&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;发音&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;翻译&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おととい&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;前天&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きのう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨天&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きょう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今天&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あした&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明天&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明後日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あさって&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后天&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎日&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいにち&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每天&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おとといの朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;前天早晨&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨日の朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨天早晨&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;けさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今天早上&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明日の朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明天早晨&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明後日の朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后天早晨&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎朝&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいあさ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每天早上&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おとといの晩&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ばん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;前天晚上&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨夜&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ゆうべ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;昨天晚上&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今晩&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こんばん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今天晚上&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明日の晩&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ばん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明天晚上&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明後日の晩&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ばん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后天晚上&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎晩&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいばん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每天晚上&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;先々週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せんせんしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上上周&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;先週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せんしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上周&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こんしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;本周&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;らいしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;下周&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;再来週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さらいしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;下下周&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎週&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいしゅう&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每周&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;先々月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せんせんげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上上月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;先月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;せんげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;上月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;こんげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;本月&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;らいげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;下个月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;再来月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さらいげつ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;下下个月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎月&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいつき&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每月&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;一昨年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;おととし&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;前年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;きょねん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;去年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ことし&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;今年&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;来年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;らいねん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;明年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;再来年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;さらいねん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;后年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;毎年&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まいとし&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;每年&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;时间表达的助词及句式使用&lt;/strong&gt; &lt;span id=&quot;IDXI_time&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;时间的表述一般根据长度分为：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;时间点：对应瞬间动词&lt;/li&gt;
  &lt;li&gt;时间段：对应继续动词&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;同时要理解的是，时间点和时间段的概念的概念是相对的：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;昨日、一日でずっと宿題をしていて、疲れたよ。
    &lt;ul&gt;
      &lt;li&gt;学习时间是一天，作为参照的自然时长也是一天，因此为时间段&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;秋に結婚するつもりです。
    &lt;ul&gt;
      &lt;li&gt;决定秋天（的某一天）结婚，时间长度为一天，作为参照的自然时长为一个季节，因此为时间点&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;助词表及范例：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;助词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语义&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;动词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;时间点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;瞬间&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;３時&lt;code&gt;に&lt;/code&gt;駅で待ち合わせる。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;时间段&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;继续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;新幹線は3時間&lt;code&gt;で&lt;/code&gt;東京・大阪間を走る。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;期限&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;瞬间&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;演説はあと一時間くらい&lt;code&gt;で&lt;/code&gt;終わります。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;から&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;时间开始&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;继续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;朝&lt;code&gt;から&lt;/code&gt;彼を待っている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;まで&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;时间结束&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;继续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;入学申し込みの締め切りは月末&lt;code&gt;まで&lt;/code&gt;です。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;までに&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;截止期限&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;瞬间&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;子どもを９時&lt;code&gt;までに&lt;/code&gt;寝させる。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;疑难点分析：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;行为的「前、后」
    &lt;ul&gt;
      &lt;li&gt;前面用&lt;code&gt;に&lt;/code&gt;：ご飯の前&lt;code&gt;に&lt;/code&gt;、手を洗います。&lt;/li&gt;
      &lt;li&gt;后面用&lt;code&gt;で&lt;/code&gt;：手を洗った後&lt;code&gt;で&lt;/code&gt;、食事をします。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;地点的表达&quot;&gt;地点的表达&lt;/h3&gt;
&lt;p&gt;&lt;span id=&quot;IDXI_place&quot;&gt;&lt;/span&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;助词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;语义&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;范例&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;存在的场所&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;動物園&lt;code&gt;に&lt;/code&gt;パンダがいます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;に&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;动作的目标、着落点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;修学旅行で関西&lt;code&gt;に&lt;/code&gt;行った。&lt;br /&gt;彼はおつりをポケット&lt;code&gt;に&lt;/code&gt;入れました。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;で&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;动作，行为发生的场所&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;菊地さんのお宅&lt;code&gt;で&lt;/code&gt;パーティーを開きます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;を&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;动作经过的场所&lt;br /&gt;动作离开的地点&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;電車道&lt;code&gt;を&lt;/code&gt;歩いて来る。&lt;br /&gt;姉は23歳の時、国&lt;code&gt;を&lt;/code&gt;出ました。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;strong&gt;疑难点分析&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;交通工具
    &lt;ul&gt;
      &lt;li&gt;上车用&lt;code&gt;に&lt;/code&gt;：毎日バス&lt;code&gt;に&lt;/code&gt;乗って出勤します。&lt;/li&gt;
      &lt;li&gt;下车用&lt;code&gt;を&lt;/code&gt;：バス&lt;code&gt;を&lt;/code&gt;降りて１０分歩くと学校に着きます。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;勤める/働く
    &lt;ul&gt;
      &lt;li&gt;勤める用&lt;code&gt;に&lt;/code&gt;：私は銀行&lt;code&gt;に&lt;/code&gt;勤めています。&lt;/li&gt;
      &lt;li&gt;働く用&lt;code&gt;で&lt;/code&gt;：兄は父の會社&lt;code&gt;で&lt;/code&gt;働いています。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;趋向移动
    &lt;ul&gt;
      &lt;li&gt;后续的动词是表示趋向的移动动词时，动词的到达点可以用“に“、“へ”表示，也可以用“まで”表示。
        &lt;ul&gt;
          &lt;li&gt;時間がなかったので、駅に(へ/まで)自転車で行った。/没有时间了,就骑自行车去了车站。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;但是，“まで”暗含有到达的不是最终目的地，而是中途一点的意思
        &lt;ul&gt;
          &lt;li&gt;京駅まで (? に/?へ)電車で行って地下鉄に乗り換えた。/乘电车到东京站换采了地铁。&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;问路的表达&quot;&gt;问路的表达&lt;/h3&gt;

&lt;p&gt;…&lt;/p&gt;

&lt;h3 id=&quot;并列关系多项动作多个目标的表达&quot;&gt;并列关系、多项动作（多个目标）的表达&lt;/h3&gt;
&lt;p&gt;在实际使用中，经常会遇到稍微复杂点的情况，需要描述多个要素构成一个表达，或举例多个内容等，这种时候就需要用到这里整理的表达方法了。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;词&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;条目&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;注解&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;体言&lt;/code&gt;、相当于体言的词语后。在引用思考、叙述的内容时，也可接在用言、助动词后。&lt;br /&gt;此外，还可接在某些副词后。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;名词と名词，A和B&lt;br /&gt;用于数量较少情况下的&lt;code&gt;全部列举&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#41E0F5&quot;&gt;と&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;その村の川の水&lt;code&gt;と&lt;/code&gt;池の水はきれいです。&lt;br /&gt;ピーマン&lt;code&gt;と&lt;/code&gt;たまねぎが大嫌い。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;体言&lt;/code&gt;、相当于体言的词后。最后一个体言后不再加“に“。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;名词に名词，A和B&lt;br /&gt;表示&lt;code&gt;添加性&lt;/code&gt;的&lt;code&gt;并列关系&lt;/code&gt;（全部列举）。&lt;br /&gt;“に”是累加地列举全部事物，但可以表示对比、对照的并列关系，&lt;br /&gt;而“と”是把全部的事物作为个整体一起列举出来&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#F5B041&quot;&gt;に&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;インクは黒いの&lt;code&gt;に&lt;/code&gt;青いの&lt;code&gt;に&lt;/code&gt;赤いのがある。&lt;br /&gt;白い砂浜&lt;code&gt;に&lt;/code&gt;緑の松林が何とも言えない美しさだ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;や&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;や&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;体言&lt;/code&gt;、相当于体言的词语后。や只能接体言。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;や&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;名词や名词や名词、名词や名词など，A和B和C（等/之类）&lt;br /&gt;用于数量较多情况下的&lt;code&gt;列举&lt;/code&gt;，但仅只是全体中的一部分，类似举例&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0C8FFF&quot;&gt;や&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;太郎&lt;code&gt;や&lt;/code&gt;次郎&lt;code&gt;や&lt;/code&gt;花子などが私たちの同級生だ。&lt;br /&gt;新聞&lt;code&gt;や&lt;/code&gt;テレビなどで、その事件のことを知った。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语、用言及部分助动词的连用形、部分副词、部分助词之后&lt;br /&gt;可顶替主格助词“が”提示主语，顶替宾格助词“を”或与“を”重叠使用提示宾语，&lt;br /&gt;与补格助词重叠使用（也可顶替表示时间和位置的“に“）提示补语，&lt;br /&gt;也可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AもBも+谓语；Aも+谓语、Bも+谓语，A和B都&lt;br /&gt;提示两个或两个以上的类似事物，表示它们的情况相同，或是同一倾向&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#BD00F9&quot;&gt;も&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;りんご&lt;code&gt;も&lt;/code&gt;オレンジ&lt;code&gt;も&lt;/code&gt;果物です。&lt;br /&gt;このホテルから山&lt;code&gt;も&lt;/code&gt;見えれば、湖&lt;code&gt;も&lt;/code&gt;見えます。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在动词、形容词及动词型活用助动词、形容词型活用助动词连用形后&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AてBてCて，既A又B又C、又A又B又C&lt;br /&gt;て的并列描述多用在形容/形容动词上（形容动词时转成で），&lt;br /&gt;要注意同表达形式也可以描述前后比较关系，需要注意区分&lt;br /&gt;动词的情况多为描述行为的前后顺序执行，一般不适用于并列描述&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#74E302&quot;&gt;て&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ここは広くて、便利です。&lt;br /&gt;田中先生は親切で優しいです。&lt;br /&gt;大きくて美味しくて新鮮なりんごを５つ買いました。&lt;br /&gt;夏は暑く&lt;code&gt;て&lt;/code&gt;冬は寒いです。(这里是比较)&lt;br /&gt;弟は朝ご飯を食べ&lt;code&gt;て&lt;/code&gt;学校へ行きました。(这里是先后顺序)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;とか&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;とか&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词组和用言、助动词终止形后。&lt;br /&gt;并列体言则最后一个“とか”可以省略，并列用言时不能省略&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;とか&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词とか词とか词，A啦B啦C啦，A或者B或者C&lt;br /&gt;表示&lt;code&gt;举例性并列&lt;/code&gt;，兼有“や”和“か”的意义，注意该句式举例的意味很强&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#06CE9F&quot;&gt;とか&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;陳さん&lt;code&gt;とか&lt;/code&gt;王さん&lt;code&gt;とか&lt;/code&gt;には話したくありません。&lt;br /&gt;暇のときは散歩する&lt;code&gt;とか&lt;/code&gt;、スポーツをする&lt;code&gt;とか&lt;/code&gt;します。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;やら&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;やら&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语和用言、助动词连体形后。&lt;br /&gt;用“やら”列举时，所并列的最后一个词后一定还要用一个“やら”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;やら&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词とか词とか词，A啦B啦C啦，A或者B或者C&lt;br /&gt;表示&lt;code&gt;举例性并列&lt;/code&gt;。&lt;br /&gt;大多会用在当面临太多选择或想法，而无法下定决心或理出头绪时使用。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A3702&quot;&gt;やら&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;藤井&lt;code&gt;やら&lt;/code&gt;松村&lt;code&gt;やら&lt;/code&gt;から問い合わせの手紙が来た。&lt;br /&gt;赤いの&lt;code&gt;やら&lt;/code&gt;、青いの&lt;code&gt;やら&lt;/code&gt;、きれいなネクタイをたくさん持っている。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;だの&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;だの&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语和用言、助动词终止形（形容动词、形容动词型活用助动词的词干）后。&lt;br /&gt;最后的“だの”有时可省略，多用“~だの~など”的句型。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;だの&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;词だの词だの词、AだのBなど，A啦B啦C啦，A或者B或者C&lt;br /&gt;表示&lt;code&gt;举例性并列&lt;/code&gt;。带有比较粗俗的语感，郑重的文章中不用。&lt;br /&gt;说话者大多会带有「不满或责备的情绪」。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#659A02&quot;&gt;だの&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;くだもの&lt;code&gt;だの&lt;/code&gt;、おかし&lt;code&gt;だの&lt;/code&gt;食べすぎたので、おなかが痛い。&lt;br /&gt;頭が痛い&lt;code&gt;だの&lt;/code&gt;体がだるい&lt;code&gt;など&lt;/code&gt;、怠ける口実ばかり探している。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;か&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;か&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语和用言、助动词连体型后。&lt;br /&gt;“か”并列体言时最后一个“か”一般可省略；&lt;br /&gt;“か”并列用言时，一般不省略。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;か&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AかBかC，A还是B或者C&lt;br /&gt;表示&lt;code&gt;两者择一&lt;/code&gt;或&lt;code&gt;数者择一&lt;/code&gt;的关系。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#9A0257&quot;&gt;か&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;あなた&lt;code&gt;か&lt;/code&gt;私が行くべきだ。&lt;br /&gt;コーヒー色&lt;code&gt;か&lt;/code&gt;鼠色&lt;code&gt;か&lt;/code&gt;に染めてごらん。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;なり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;なり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;主要接在体言、相当于体言的词语后，也可以接在动词、形容词后。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;なり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AなりBなりC，A还是B还是C&lt;br /&gt;以&lt;code&gt;举例的方式&lt;/code&gt;表示&lt;code&gt;数者择一&lt;/code&gt;的并列关系。选择的结果可&lt;code&gt;不限于&lt;/code&gt;列举的事物。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#0264CF&quot;&gt;なり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;お茶&lt;code&gt;なり&lt;/code&gt;コーヒー&lt;code&gt;なり&lt;/code&gt;(を)お好きなものをどうぞ。&lt;br /&gt;東京へ&lt;code&gt;なり&lt;/code&gt;大阪へ&lt;code&gt;なり&lt;/code&gt;早く行っておいでなさい。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在体言、相当于体言的词语、用言及部分助动词的连用形、部分副词、部分助词后。&lt;br /&gt;可顶替主格助词“が”提示主语，顶替宾格助词“を”提示宾语，&lt;br /&gt;与补格助词重叠使用提示补语，&lt;br /&gt;也可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AでもBでもCでも，无论A还是B或者C、A也好B也好C也好&lt;br /&gt;表示&lt;code&gt;举例&lt;/code&gt;，该句式在仅只有一个的时候也可以使用&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#04B60E&quot;&gt;でも&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;本&lt;code&gt;でも&lt;/code&gt;読んで待っていてください。&lt;br /&gt;新聞&lt;code&gt;でも&lt;/code&gt;雑誌&lt;code&gt;でも&lt;/code&gt;いいから時間つぶしに貸してくださいませんか。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#D1B100&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;提示助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#D1B100&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;体言&lt;/code&gt;、相当于体言的词语、部分副词、部分助词后。&lt;br /&gt;可以顶替主格助词“が”提示主语，顶替宾格助词“を”提示宾语，&lt;br /&gt;可以与补格助词重叠使用提示补语，&lt;br /&gt;也可以接在时间名词、方位名词、数词、部分副助词、部分副词后提示状语&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#D1B100&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AだってBだってCだって，无论A还是B还是C&lt;br /&gt;“だって”的用法和“でも”相似，但和“でも”相比，多用在比较随便、亲切的谈话中。&lt;br /&gt;&lt;code&gt;举例性地提示&lt;/code&gt;同类事物中的几个&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#D1B100&quot;&gt;だって&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;マンション&lt;code&gt;だって&lt;/code&gt;車&lt;code&gt;だって&lt;/code&gt;、みんな親に買ってもらったものだ。&lt;br /&gt;映画&lt;code&gt;だって&lt;/code&gt;芝居&lt;code&gt;だって&lt;/code&gt;君の好きなほうに連れていってあげるよ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#20D100&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#20D100&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;用言&lt;/code&gt;、助动词的终止形后面；只需要连接中的し，最后一个一般省略&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#20D100&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Aし、B；Aし、Bも；Aし、Bし、C，既A又B、又A又B、既A又B且C&lt;br /&gt;常与“も”呼应使用。表示两个或两个以上的事项同时存在&lt;br /&gt;表示同时存在的事项是后续句子的理由&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#20D100&quot;&gt;し&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;彼は医者にも行かない&lt;code&gt;し&lt;/code&gt;、薬も飲んでいません。&lt;br /&gt;あの人は酒も飲まない&lt;code&gt;し&lt;/code&gt;、タバコも吸わない&lt;code&gt;し&lt;/code&gt;、今どき珍しい青年だ。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#4F00C5&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;并列助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#4F00C5&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在&lt;code&gt;用言&lt;/code&gt;或助动词连用形后。&lt;br /&gt;由“たり”构成的联合式词组具有体言的性质，可以像体言一样用，&lt;br /&gt;还可以后接“する”像サ变动词词干一样使用，或者可以直接入句做状语&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#4F00C5&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;AたりBたりCたり，又A又B又C&lt;br /&gt;表示动作在某一时间内变替进行或状态交替出现&lt;br /&gt;Aたりする，以A为代表进行举例&lt;br /&gt;表示举例或者并列，言外暗示还有诸如此类事情。这可以作为并列的特殊用法。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#4F00C5&quot;&gt;たり&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;その老人は泣い&lt;code&gt;たり&lt;/code&gt;騒い&lt;code&gt;だり&lt;/code&gt;しました。&lt;br /&gt;飲ん&lt;code&gt;だり&lt;/code&gt;食べ&lt;code&gt;たり&lt;/code&gt;、十分腹をこしらえた。&lt;br /&gt;近頃の天気は寒かっ&lt;code&gt;たり&lt;/code&gt;暑かっ&lt;code&gt;たり&lt;/code&gt;してたいへん不順です。&lt;br /&gt;うそをつい&lt;code&gt;たり&lt;/code&gt;してはいけません。&lt;br /&gt;それぐらいのことで怒っ&lt;code&gt;たり&lt;/code&gt;するものではない。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ては&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;类型&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;连续助词&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ては&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接续&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;接在动词、动词型活用助动词、形容词、形容词型活用助动词的连用形后&lt;br /&gt;接在名词、形容动词词干、形容动词型活用助动词词干后时用“では”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ては&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;解说&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;动词ては动词，A又B、每次A都B&lt;br /&gt;表示&lt;code&gt;反复出现、进行&lt;/code&gt;的行为动作&lt;br /&gt;基本上只会是成对出现，不会有两个以上的动词&lt;br /&gt;需要注意在表示&lt;code&gt;每次・・&lt;/code&gt;这样的情况下，ては看起来非常类似&lt;code&gt;表示假定条件&lt;/code&gt;的用法，注意区分&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;color:#00F053&quot;&gt;ては&lt;/span&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;范例&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;彼は非常に本が好きで、町へ行っ&lt;code&gt;ては&lt;/code&gt;本を四、五冊買ってきます。(&lt;code&gt;每次&lt;/code&gt;上街都)&lt;br /&gt;町へ行っ&lt;code&gt;ては&lt;/code&gt;アイスクリームを買って食べる。(&lt;code&gt;每次&lt;/code&gt;上街都)&lt;br /&gt;雪は消え&lt;code&gt;ては&lt;/code&gt;降り、降っ&lt;code&gt;ては&lt;/code&gt;また消えた。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;xii-语法解析范例&quot;&gt;XII. 语法解析范例&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: left&quot;&gt;注解&lt;/th&gt;
          &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;あっという間に「利権」と化し、「腐敗」を生み、「争い」になるわ&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;化し：连用表中顿；生み：连用表中顿&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;貴女の夫であり、私たちの師であった&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;であり：名词+てある-&amp;gt;である-&amp;gt;连用表中顿-&amp;gt;であり&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;私が幸せになった訳でも、世の中にが良くなった訳でも無かった&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;訳之前的部分：なる-&amp;gt;连体形-&amp;gt;なる-&amp;gt;过去时-&amp;gt;なった，连体修饰语从句-&amp;gt;私が幸せになった+名词&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;弔ってやってくれ&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;弔う连用+て表动作先后 + やる+てくれ表强烈命令&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;奪ったりしない&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;奪う连用形+たりする(举出一个代表性的动作或状况作为例子来说明情况)&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;検査前のドローンに誤作動を誘発する&lt;code&gt;プロタラ&lt;/code&gt;とを&lt;code&gt;仕込め&lt;/code&gt;ば&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;这句很能体现に和を在使用上的差别&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;原句&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;&lt;code&gt;スモリー&lt;/code&gt;が予備を含めて&lt;code&gt;吹っ飛ん&lt;/code&gt;でるらしい&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;解析&lt;/td&gt;
          &lt;td style=&quot;text-align: left&quot;&gt;这句可以和上句匹配起来，看下が、を、に三者的关系&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Wed, 11 Mar 2020 22:22:22 +0800</pubDate>
				<link>https://xenojoshua.com/2020/03/japanese/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2020/03/japanese/</guid>
			</item>
		
			<item>
				<title>微信支付接入</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-支付流程&quot; id=&quot;markdown-toc-2-支付流程&quot;&gt;2. 支付流程&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-网页端&quot; id=&quot;markdown-toc-21-网页端&quot;&gt;2.1 网页端&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-移动原生&quot; id=&quot;markdown-toc-22-移动原生&quot;&gt;2.2 移动原生&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-准备工作&quot; id=&quot;markdown-toc-3-准备工作&quot;&gt;3. 准备工作&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-api--sdk&quot; id=&quot;markdown-toc-4-api--sdk&quot;&gt;4. API &amp;amp; SDK&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#41-sdk选择&quot; id=&quot;markdown-toc-41-sdk选择&quot;&gt;4.1 SDK选择&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#42-api使用基础&quot; id=&quot;markdown-toc-42-api使用基础&quot;&gt;4.2 API使用基础&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#421-网页端&quot; id=&quot;markdown-toc-421-网页端&quot;&gt;4.2.1 网页端&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#422-移动原生&quot; id=&quot;markdown-toc-422-移动原生&quot;&gt;4.2.2 移动原生&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#43-常用接口&quot; id=&quot;markdown-toc-43-常用接口&quot;&gt;4.3 常用接口&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#431-统一下单接口&quot; id=&quot;markdown-toc-431-统一下单接口&quot;&gt;4.3.1 统一下单接口&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#432-订单查询接口&quot; id=&quot;markdown-toc-432-订单查询接口&quot;&gt;4.3.2 订单查询接口&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#44-金额问题&quot; id=&quot;markdown-toc-44-金额问题&quot;&gt;4.4 金额问题&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#45-回调处理&quot; id=&quot;markdown-toc-45-回调处理&quot;&gt;4.5 回调处理&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5-沙箱使用&quot; id=&quot;markdown-toc-5-沙箱使用&quot;&gt;5. 沙箱使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#51-沙箱申请&quot; id=&quot;markdown-toc-51-沙箱申请&quot;&gt;5.1 沙箱申请&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#52-沙箱使用&quot; id=&quot;markdown-toc-52-沙箱使用&quot;&gt;5.2 沙箱使用&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#53-沙箱问题&quot; id=&quot;markdown-toc-53-沙箱问题&quot;&gt;5.3 沙箱问题&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6-错误处理&quot; id=&quot;markdown-toc-6-错误处理&quot;&gt;6. 错误处理&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#61-回调处理&quot; id=&quot;markdown-toc-61-回调处理&quot;&gt;6.1 回调处理&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#62-修复订单&quot; id=&quot;markdown-toc-62-修复订单&quot;&gt;6.2 修复订单&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#7-上线生效&quot; id=&quot;markdown-toc-7-上线生效&quot;&gt;7. 上线生效&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#appendix&quot; id=&quot;markdown-toc-appendix&quot;&gt;Appendix&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#链接&quot; id=&quot;markdown-toc-链接&quot;&gt;链接&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;微信支付的接入，权当笔记。&lt;/p&gt;

&lt;h1 id=&quot;2-支付流程&quot;&gt;2. 支付流程&lt;/h1&gt;
&lt;h3 id=&quot;21-网页端&quot;&gt;2.1 网页端&lt;/h3&gt;
&lt;p&gt;官方文档：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5&quot; target=&quot;_blank&quot;&gt;扫码支付 &amp;gt; 模式二&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;官方配图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/wxpay/wxpay_pc.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;流程涉及到几个角色：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;PC网站网页&lt;/li&gt;
  &lt;li&gt;PC网站后台&lt;/li&gt;
  &lt;li&gt;微信支付系统&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;支付流程如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;打开PC网站网页的商品页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;对商品进行下单&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发送下单请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;在自身系统内生成订单（生成内部订单号），并返回给网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;获得内部订单信息，并将用户导向到支付页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;确认订单内容，并开始付款流程&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发起支付请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;向微信支付系统发起下单请求，并将返回的信息交付给PC网站网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;收到微信支付返回信息，将其中的QRCode渲染到页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;打开微信，使用扫码的方式完成支付&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;微信支付系统&lt;/code&gt;确认支付完成，向notify_url发送回调信息&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;验证微信支付回调完成，标记订单状态为已支付&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;22-移动原生&quot;&gt;2.2 移动原生&lt;/h3&gt;
&lt;p&gt;官方文档：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=8_3&quot; target=&quot;_blank&quot;&gt;APP支付 &amp;gt; 业务流程&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;官方配图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/wxpay/wxpay_app.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;流程涉及到几个角色：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;PC网站网页&lt;/li&gt;
  &lt;li&gt;PC网站后台&lt;/li&gt;
  &lt;li&gt;微信支付系统&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;支付流程如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;打开PC网站网页的商品页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;对商品进行下单&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发送下单请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;在自身系统内生成订单（生成内部订单号），并返回给网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;获得内部订单信息，并将用户导向到支付页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;确认订单内容，并开始付款流程&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发起支付请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;向微信支付系统发起下单请求，并将返回的信息交付给PC网站网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;收到微信支付返回信息，使用其中的参数唤起微信APP&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;在微信APP中完成支付&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;微信支付系统&lt;/code&gt;确认支付完成，向notify_url发送回调信息&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;验证微信支付回调完成，标记订单状态为已支付&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;3-准备工作&quot;&gt;3. 准备工作&lt;/h1&gt;
&lt;p&gt;微信的权限系统非常有问题，没有分级的子账号，只有一个申请人所拥有的主账号。这导致了后续的一系列操作全部都必须主账号持有人来完成（对，你没有看错，必须你的老板来操作，别人不能代劳）。&lt;/p&gt;

&lt;p&gt;申请人必须操作：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;申请公司账号&lt;/li&gt;
  &lt;li&gt;申请支付应用&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;申请完成之后，必须获得以下几个信息，程序才可以对接：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;APPID：支付应用的ID&lt;/li&gt;
  &lt;li&gt;商户号：商户的ID&lt;/li&gt;
  &lt;li&gt;商户的API秘钥：这里切记是&lt;code&gt;商户秘钥&lt;/code&gt;；微信整个生态中应用非常繁多，因此各种秘钥也多，特别是去生成秘钥的又是老板，一般没有技术经验，所以这步非常非常容易出错，会导致后面验证签名无论如何都不正确，所以一定要当心，必须是商户秘钥&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;微信支付也有证书，但这并不是必须项，大部分支付API是不需要证书的，只有部分才需要。证书也是在商户部分申请，申请完之后可以打包下载，里面含文件：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;apiclient_cert.p12：证书pkcs12格式&lt;/li&gt;
  &lt;li&gt;apiclient_cert.pem：证书&lt;/li&gt;
  &lt;li&gt;apiclient_key.pem：私钥&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;申请及配置的相关操作可以看这篇：&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/wxwangyezf/wxwangyezhifu.html&quot; target=&quot;_blank&quot;&gt;微信公众号支付配置&lt;/a&gt;，以及&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/wxappzf/weixinapp.html&quot; target=&quot;_blank&quot;&gt;微信APP支付配置&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;移动端还会遇到制作应用签名的问题：&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/keystorecreate/keystorecreate.html&quot; target=&quot;_blank&quot;&gt;Android App 签名生成教程&lt;/a&gt;。&lt;/p&gt;

&lt;h1 id=&quot;4-api--sdk&quot;&gt;4. API &amp;amp; SDK&lt;/h1&gt;
&lt;h2 id=&quot;41-sdk选择&quot;&gt;4.1 SDK选择&lt;/h2&gt;
&lt;p&gt;npm上可用的SDK包基本上只有：&lt;a href=&quot;https://www.npmjs.com/package/tenpay&quot; target=&quot;_blank&quot;&gt;tenpay&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;SDK的使用：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;tenpay&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;appid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;公众号ID&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;mchid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;微信商户号&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;partnerKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;微信支付安全密钥&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;pfx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;证书文件路径&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;notify_url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;支付回调网址&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;spbill_create_ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;IP地址&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 方式一&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 方式二&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 
&lt;span class=&quot;c1&quot;&gt;// 调试模式(传入第二个参数为true, 可在控制台输出数据)&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
 
&lt;span class=&quot;c1&quot;&gt;// 沙盒模式(用于微信支付验收)&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sandboxAPI&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sandbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;config说明:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;appid - 公众号ID(必填)&lt;/li&gt;
  &lt;li&gt;mchid - 微信商户号(必填)&lt;/li&gt;
  &lt;li&gt;partnerKey - 微信支付安全密钥(必填, 在微信商户管理界面获取)&lt;/li&gt;
  &lt;li&gt;pfx - 证书文件(选填, 在微信商户管理界面获取)
    &lt;ul&gt;
      &lt;li&gt;当不需要调用依赖证书的API时可不填此参数&lt;/li&gt;
      &lt;li&gt;若业务流程中使用了依赖证书的API则需要在初始化时传入此参数&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;notify_url - 支付结果通知回调地址(选填)
    &lt;ul&gt;
      &lt;li&gt;可以在初始化的时候传入设为默认值, 不传则需在调用相关API时传入&lt;/li&gt;
      &lt;li&gt;调用相关API时传入新值则使用新值&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;refund_url - 退款结果通知回调地址(选填)
    &lt;ul&gt;
      &lt;li&gt;可以在初始化的时候传入设为默认值, 不传则使用微信商户后台配置&lt;/li&gt;
      &lt;li&gt;调用相关API时传入新值则使用新值&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;spbill_create_ip - IP地址(选填)
    &lt;ul&gt;
      &lt;li&gt;可以在初始化的时候传入设为默认值, 不传则默认值为127.0.0.1&lt;/li&gt;
      &lt;li&gt;调用相关API时传入新值则使用新值&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;证书相关可以查阅：&lt;a href=&quot;https://kf.qq.com/faq/161222NneAJf161222U7fARv.html&quot; target=&quot;_blank&quot;&gt;什么是API证书？如何获取API证书？&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;如果在接入的时候遇到签名问题，可以使用：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1&quot; target=&quot;_blank&quot;&gt;微信支付接口签名校验工具&lt;/a&gt;或&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot;&gt;微信公众平台支付接口调试工具&lt;/a&gt;进行调试。&lt;/p&gt;

&lt;h2 id=&quot;42-api使用基础&quot;&gt;4.2 API使用基础&lt;/h2&gt;
&lt;h3 id=&quot;421-网页端&quot;&gt;4.2.1 网页端&lt;/h3&gt;
&lt;p&gt;API接入手册：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_1&quot; target=&quot;_blank&quot;&gt;扫码支付 &amp;gt; 接口规则 &amp;gt; 协议规则&lt;/a&gt;。API列表：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=9_1&quot; target=&quot;_blank&quot;&gt;扫码支付 &amp;gt; API列表 &amp;gt; 统一下单&lt;/a&gt;。&lt;/p&gt;

&lt;h3 id=&quot;422-移动原生&quot;&gt;4.2.2 移动原生&lt;/h3&gt;
&lt;p&gt;API接入手册：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=4_1&quot; target=&quot;_blank&quot;&gt;APP支付 &amp;gt; 接口规则 &amp;gt; 协议规则&lt;/a&gt;。API列表：&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/app/app.php?chapter=9_1&quot; target=&quot;_blank&quot;&gt;APP支付 &amp;gt; API列表 &amp;gt; 统一下单&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;43-常用接口&quot;&gt;4.3 常用接口&lt;/h2&gt;
&lt;h3 id=&quot;431-统一下单接口&quot;&gt;4.3.1 统一下单接口&lt;/h3&gt;
&lt;p&gt;范例代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prepay_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;code_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wxpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;unifiedOrder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;out_trade_no&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;orderId.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 微信支付的金额是不带小数位的，所有的小数金额都必须*100转为正整数&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 数值先会被小数点后2位截断或补足，然后转为整数字符串&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 8.8     =&amp;gt; 8.80 =&amp;gt; 880&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 9.24678 =&amp;gt; 9.25 =&amp;gt; 925&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;total_fee&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;trade_type&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// NATIVE：扫码支付 | APP：原生支付&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;product_id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;productId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;prepayId&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;prepay_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;codeUrl&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;code_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;拿到返回值之后，后续根据支付类型不同，处理方式也不一样：&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;扫码支付&lt;/strong&gt;  &lt;br /&gt;
需要将code_url的值，转换为QRCode，后续前端才可以将其渲染到HTML页面上（当然也可以直接将url传给前端，让前端渲染）。这里比较好用的是：&lt;a href=&quot;https://www.npmjs.com/package/qrcode&quot; target=&quot;_blank&quot;&gt;qrcode&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;后端代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;QRCode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;qrcode&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;svg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;QRCode&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;codeUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;svg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;HTML页面：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;qrcode&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;width: 200px; height: 200px;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;前端代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;renderXml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xmlString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// xmlString: svg content&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DOMParser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parseFromString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xmlString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;application/xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;el&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;el&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;el&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ownerDocument&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;importNode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;documentElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;renderXml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;qrcode&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;extra&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;codeUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;原生支付&lt;/strong&gt;  &lt;br /&gt;
在统一下单接口完成之后，还需要根据prepay_id来申请唤起微信的参数：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wxpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getAppParamsByPrepay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prepay_id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;prepayId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;432-订单查询接口&quot;&gt;4.3.2 订单查询接口&lt;/h3&gt;
&lt;p&gt;范例代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wxpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;orderQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;out_trade_no&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;orderId.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;44-金额问题&quot;&gt;4.4 金额问题&lt;/h2&gt;
&lt;p&gt;在刚才&lt;code&gt;4.3.1&lt;/code&gt;的例子中，代码里其实已经体现出来了。微信支付的金额和支付宝是不一样的，支付宝的金额就是自然的数额，带小数点后两位。而微信的做法不同，微信要求调用接口下单的时候的支付金额必须不带小数位，所有的金额都是小数点后两位的数字&lt;code&gt;*100转化为整数&lt;/code&gt;的数额。也就是说下单接口金额为&lt;code&gt;1&lt;/code&gt;的情况，实际支付的是&lt;code&gt;0.01&lt;/code&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// 微信支付的金额是不带小数位的，所有的小数金额都必须*100转为正整数&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 数值先会被小数点后2位截断或补足，然后转为整数字符串&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 8.8     =&amp;gt; 8.80 =&amp;gt; 880&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// 9.24678 =&amp;gt; 9.25 =&amp;gt; 925&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;total_fee&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toFixed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;45-回调处理&quot;&gt;4.5 回调处理&lt;/h2&gt;
&lt;p&gt;微信的所有API都是使用XML作为输入和输出，因此获得的回调信息也是XML。因为之前的API调用中都有SDK处理完了，所以这里就有点恶心，需要自己处理。&lt;/p&gt;

&lt;p&gt;回调结构：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IResOrderPayed&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;return_code&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// SUCCESS&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;return_msg&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// OK&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;appid&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// wx3...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;mch_id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 156..&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;nonce_str&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// cwGl...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;sign&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// C51A...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;result_code&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// SUCCESS&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;openid&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// oqvcFj-Uf...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;is_subscribe&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// N&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;trade_type&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// NATIVE&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;bank_type&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// OTHERS&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;total_fee&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1，需要 / 100&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;fee_type&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// CNY&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;transaction_id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 42000004...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;out_trade_no&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;attach&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;time_end&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2019XXXX144155&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;trade_state&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// SUCCESS&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;cash_fee&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1，需要 / 100&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;trade_state_desc&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 支付成功&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;cash_fee_type&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// CNY&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;5-沙箱使用&quot;&gt;5. 沙箱使用&lt;/h1&gt;
&lt;p&gt;微信支付的沙箱和支付宝有点不同，支付宝是完全隔离，从环境、访问地址到账号，支付的支付宝APP全部都是单独分离的。微信则不同，账号、测试用APP都还是原来的微信商户号以及用户真实的微信APP，但访问地址是隔离的，在原来的API地址中间插入&lt;code&gt;/sandboxnew/&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;虽然易用性上看起来是微信占优，但实际使用上微信的沙箱有相当多的问题，甚至我研发到最后完成，都完全没使用过沙箱，都是使用0.01的金额进行下单测试。&lt;/p&gt;

&lt;h2 id=&quot;51-沙箱申请&quot;&gt;5.1 沙箱申请&lt;/h2&gt;
&lt;p&gt;和支付宝一样，微信支付的沙箱使用不需要额外申请。&lt;/p&gt;

&lt;h2 id=&quot;52-沙箱使用&quot;&gt;5.2 沙箱使用&lt;/h2&gt;
&lt;p&gt;使用方面，可以看一篇第三方的教程：&lt;a href=&quot;https://juejin.im/post/5bea7c1d6fb9a04a053f36c3&quot; target=&quot;_blank&quot;&gt;浅析微信支付：如何使用沙箱环境测试&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;在使用刚才说的SDK的情况下，只需要在SDK初始化的地方做点调整即可：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;appid&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.appId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;mchid&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.mchId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;partnerKey&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.appSecret&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;pfx&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;LibFs.readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;LibPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;../../../pem/wxpay/apiclient_key.pem&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;notify_url&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.callbackUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;spbill_create_ip&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.allowedIp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;IConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// wxpay&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isSandbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getSignkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sandbox_signkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wxpay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partnerKey&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sandbox&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;wxpay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tenpay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;沙箱每次使用的秘钥（商户的API秘钥）和正式环境不一样，正式环境是配置死的，直接拿下来用即可。而沙箱则需要先使用正式环境的商户秘钥去调用&lt;code&gt;getSignkey&lt;/code&gt;获取沙箱使用的临时商户秘钥，才可以后续继续调用API。&lt;/p&gt;

&lt;h2 id=&quot;53-沙箱问题&quot;&gt;5.3 沙箱问题&lt;/h2&gt;
&lt;p&gt;理解了沙箱的隔离以及如何初始化沙箱SDK之后，如果直接实际调用的话，还是会遇到问题：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;沙箱支付金额(1)无效，请检查需要验收的case&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;参见：&lt;a href=&quot;https://github.com/Wechat-Group/WxJava/issues/668&quot; target=&quot;_blank&quot;&gt;微信支付的沙箱环境能否使用？#668&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;这里还需要额外做一个操作：在&lt;code&gt;微信支付商户接入验收助手&lt;/code&gt;这个公众号申请你的验收case，写入验收金额作为use case。后续在沙箱环境做测试的时候，金额必须完全符合之前申请的验收case，否则报错。&lt;/p&gt;

&lt;h1 id=&quot;6-错误处理&quot;&gt;6. 错误处理&lt;/h1&gt;
&lt;h2 id=&quot;61-回调处理&quot;&gt;6.1 回调处理&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 业务处理&lt;/span&gt;
    
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;application/xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xml&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;return_code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CDATA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SUCCESS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/return_code&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;return_msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CDATA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/return_msg&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/xml&amp;gt;`;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;application/xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xml&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;return_code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CDATA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;FAIL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/return_code&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;return_msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;CDATA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/return_msg&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;/xml&amp;gt;`;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;62-修复订单&quot;&gt;6.2 修复订单&lt;/h2&gt;
&lt;p&gt;在某些情况下，回调可能没有收到，或者一直报错导致回调没有正常处理。表现在用户视角，就是支付完成后订单状态无法正常改为支付完成（也就不会发货）。这是很糟糕的，因此需要制作修复订单功能。&lt;/p&gt;

&lt;p&gt;客户端在检查到订单状态为等待支付之后，可以提供一个入口给用户，用户点击之后，应用后端应该向支付宝查询订单信息，如果在支付宝这里已经是&lt;code&gt;已支付&lt;/code&gt;而在应用这边还是&lt;code&gt;等待支付&lt;/code&gt;的话，就立即将业务订单改为已支付，并向用户发货。&lt;/p&gt;

&lt;h1 id=&quot;7-上线生效&quot;&gt;7. 上线生效&lt;/h1&gt;
&lt;p&gt;微信支付应该是在应用申请审核通过的时候就直接上线了，不需要额外操作。&lt;/p&gt;

&lt;h1 id=&quot;appendix&quot;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&quot;链接&quot;&gt;链接&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.weixin.qq.com/doc/oplatform/Mobile_App/WeChat_Pay/Vendor_Service_Center.html&quot; target=&quot;_blank&quot;&gt;微信APP支付接入商户服务中心&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jianshu.com/p/753393a0514a&quot; target=&quot;_blank&quot;&gt;微信APP支付接入&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://juejin.im/post/59c4bc7df265da06434b8c2b&quot; target=&quot;_blank&quot;&gt;微信App支付全解析&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/wxwangyezf/wxwangyezhifu.html&quot; target=&quot;_blank&quot;&gt;微信公众号支付配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/wxappzf/weixinapp.html&quot; target=&quot;_blank&quot;&gt;微信APP支付配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.leapcloud.cn/website/docs/doc_config/keystorecreate/keystorecreate.html&quot; target=&quot;_blank&quot;&gt;Android App 签名生成教程&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kf.qq.com/faq/161222NneAJf161222U7fARv.html&quot; target=&quot;_blank&quot;&gt;什么是API证书？如何获取API证书？&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html&quot; target=&quot;_blank&quot;&gt;微信网页开发 &amp;gt; 网页授权&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://juejin.im/post/5bea7c1d6fb9a04a053f36c3&quot; target=&quot;_blank&quot;&gt;浅析微信支付：如何使用沙箱环境测试&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/Wechat-Group/WxJava/issues/668&quot; target=&quot;_blank&quot;&gt;微信支付的沙箱环境能否使用？#668&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=20_1&quot; target=&quot;_blank&quot;&gt;微信支付接口签名校验工具&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pay.weixin.qq.com/wiki/tools/signverify/&quot; target=&quot;_blank&quot;&gt;微信公众平台支付接口调试工具&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.51cto.com/xihan/2096880&quot; target=&quot;_blank&quot;&gt;微信支付接口返回“签名错误”的排查方法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/yhm_brave/article/details/70240935&quot; target=&quot;_blank&quot;&gt;微信支付统一下单，签名错误&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/qq_35624642/article/details/53667679&quot; target=&quot;_blank&quot;&gt;微信支付统一下单，签名错误（生成的签名和测试工具生成的一样还报错）解决方法&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Fri, 27 Dec 2019 11:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/wxpay/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/wxpay/</guid>
			</item>
		
			<item>
				<title>支付宝接入</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-支付流程&quot; id=&quot;markdown-toc-2-支付流程&quot;&gt;2. 支付流程&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-网页端&quot; id=&quot;markdown-toc-21-网页端&quot;&gt;2.1 网页端&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-移动原生&quot; id=&quot;markdown-toc-22-移动原生&quot;&gt;2.2 移动原生&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-准备工作&quot; id=&quot;markdown-toc-3-准备工作&quot;&gt;3. 准备工作&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#31-账号申请&quot; id=&quot;markdown-toc-31-账号申请&quot;&gt;3.1 账号申请&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#32-应用申请&quot; id=&quot;markdown-toc-32-应用申请&quot;&gt;3.2 应用申请&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#33-秘钥申请&quot; id=&quot;markdown-toc-33-秘钥申请&quot;&gt;3.3 秘钥申请&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-api--sdk&quot; id=&quot;markdown-toc-4-api--sdk&quot;&gt;4. API &amp;amp; SDK&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#41-sdk选择&quot; id=&quot;markdown-toc-41-sdk选择&quot;&gt;4.1 SDK选择&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#42-api使用基础&quot; id=&quot;markdown-toc-42-api使用基础&quot;&gt;4.2 API使用基础&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#43-常用接口&quot; id=&quot;markdown-toc-43-常用接口&quot;&gt;4.3 常用接口&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#431-pc网页支付下单&quot; id=&quot;markdown-toc-431-pc网页支付下单&quot;&gt;4.3.1 PC网页支付下单&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#432-app支付下单&quot; id=&quot;markdown-toc-432-app支付下单&quot;&gt;4.3.2 APP支付下单&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#433-支付宝订单查询&quot; id=&quot;markdown-toc-433-支付宝订单查询&quot;&gt;4.3.3 支付宝订单查询&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#44-回调处理&quot; id=&quot;markdown-toc-44-回调处理&quot;&gt;4.4 回调处理&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#441-return_url&quot; id=&quot;markdown-toc-441-return_url&quot;&gt;4.4.1 return_url&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#442-notify_url&quot; id=&quot;markdown-toc-442-notify_url&quot;&gt;4.4.2 notify_url&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#5-沙箱使用&quot; id=&quot;markdown-toc-5-沙箱使用&quot;&gt;5. 沙箱使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#51-沙箱申请&quot; id=&quot;markdown-toc-51-沙箱申请&quot;&gt;5.1 沙箱申请&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#52-沙箱管理&quot; id=&quot;markdown-toc-52-沙箱管理&quot;&gt;5.2 沙箱管理&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#53-沙箱支付&quot; id=&quot;markdown-toc-53-沙箱支付&quot;&gt;5.3 沙箱支付&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#6-错误处理&quot; id=&quot;markdown-toc-6-错误处理&quot;&gt;6. 错误处理&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#61-回调处理&quot; id=&quot;markdown-toc-61-回调处理&quot;&gt;6.1 回调处理&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#62-修复订单&quot; id=&quot;markdown-toc-62-修复订单&quot;&gt;6.2 修复订单&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#7-上线生效&quot; id=&quot;markdown-toc-7-上线生效&quot;&gt;7. 上线生效&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#appendix&quot; id=&quot;markdown-toc-appendix&quot;&gt;Appendix&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#链接&quot; id=&quot;markdown-toc-链接&quot;&gt;链接&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;支付宝的接入，权当笔记。&lt;/p&gt;

&lt;h1 id=&quot;2-支付流程&quot;&gt;2. 支付流程&lt;/h1&gt;
&lt;h3 id=&quot;21-网页端&quot;&gt;2.1 网页端&lt;/h3&gt;
&lt;p&gt;PC网页端的支付，官方文档在：&lt;a href=&quot;https://docs.open.alipay.com/270/105899/&quot; target=&quot;_blank&quot;&gt;开发文档 / 电脑网站支付 / 快速接入&lt;/a&gt;。这篇应该说是完整的tutorial，里面也包含了支付的整个流程。&lt;/p&gt;

&lt;p&gt;官方配图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/alipay/alipay_pc_process.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;总觉得支付宝的这个流程图有点问题，并没有很好解释流程顺序。这里整理一个文字版。&lt;/p&gt;

&lt;p&gt;流程涉及到几个角色：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;PC网站网页&lt;/li&gt;
  &lt;li&gt;PC网站后台&lt;/li&gt;
  &lt;li&gt;支付宝系统&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;支付流程如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;打开PC网站网页的商品页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;对商品进行下单&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发送下单请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;在自身系统内生成订单（生成内部订单号），并返回给网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;获得内部订单信息，并将用户导向到支付页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;确认订单内容，并开始付款流程&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;发起支付请求到PC网站后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;向支付宝系统发起下单请求
    &lt;ul&gt;
      &lt;li&gt;其中附加了notify_url，会在支付完成后收到回调&lt;/li&gt;
      &lt;li&gt;且附加了return_url，会在支付完成后将页面导向到该页面&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;将支付宝返回的信息交付给PC网站网页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站网页&lt;/code&gt;收到支付宝返回信息，使用其中的信息将页面导向到支付宝的付款页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;在支付宝的付款页面完成付款&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;支付宝系统&lt;/code&gt;确认支付完成，将用户网页重定向到return_url的页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;支付宝系统&lt;/code&gt;确认支付完成，向notify_url发送回调信息&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;PC网站后台&lt;/code&gt;验证支付宝回调完成，标记订单状态为已支付&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;22-移动原生&quot;&gt;2.2 移动原生&lt;/h3&gt;
&lt;p&gt;移动端原生支付和PC网页支付差异不是很大，官方文档在：&lt;a href=&quot;https://docs.open.alipay.com/204/105297/&quot; target=&quot;_blank&quot;&gt;开发文档 / App支付 / 快速接入&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;官方配图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/alipay/alipay_native_process.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个图还算可以，老样子整理一个文字版。&lt;/p&gt;

&lt;p&gt;流程涉及到几个角色：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;手机APP&lt;/li&gt;
  &lt;li&gt;APP后台&lt;/li&gt;
  &lt;li&gt;支付宝系统&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;支付流程如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;打开手机APP的商品页&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;对商品进行下单&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;手机APP&lt;/code&gt;发送下单请求到APP后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;APP后台&lt;/code&gt;在自身系统内生成订单（生成内部订单号），并返回给APP&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;手机APP&lt;/code&gt;获得内部订单信息，并将用户导向到支付页面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;确认订单内容，并开始付款流程&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;手机APP&lt;/code&gt;发起支付请求到APP后台&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;APP后台&lt;/code&gt;向支付宝系统发起下单请求，获得支付宝APP唤醒参数，并交付给手机APP
    &lt;ul&gt;
      &lt;li&gt;其中附加了notify_url，会在支付完成后收到回调&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code&gt;手机APP&lt;/code&gt;收到支付宝返回信息，使用其中的参数唤醒支付宝APP&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;用户&lt;/code&gt;在支付宝APP完成付款&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;支付宝系统&lt;/code&gt;确认支付完成，返回手机APP&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;支付宝系统&lt;/code&gt;确认支付完成，向notify_url发送回调信息&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;APP后台&lt;/code&gt;验证支付宝回调完成，标记订单状态为已支付&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;3-准备工作&quot;&gt;3. 准备工作&lt;/h1&gt;
&lt;p&gt;在正式接入支付宝之前，还需要做一些准备工作，主要是一系列账号、应用、秘钥的申请。&lt;/p&gt;

&lt;h2 id=&quot;31-账号申请&quot;&gt;3.1 账号申请&lt;/h2&gt;
&lt;p&gt;公司账号申请都是老板做的事情，虽然繁琐但和技术人员没什么关系。创建完成后可以通过&lt;a href=&quot;https://docs.open.alipay.com/200/ug05sr/&quot; target=&quot;_blank&quot;&gt;账户成员管理&lt;/a&gt;将员工账号加入到管理群组里，方便员工直接进行开发。&lt;/p&gt;

&lt;p&gt;员工可以通过&lt;a href=&quot;https://openhome.alipay.com/platform/manageHome.htm&quot; target=&quot;_blank&quot;&gt;这个链接&lt;/a&gt;，登入到支付宝进行账号和应用的管理。&lt;/p&gt;

&lt;h2 id=&quot;32-应用申请&quot;&gt;3.2 应用申请&lt;/h2&gt;
&lt;p&gt;见官方文档：&lt;a href=&quot;https://docs.open.alipay.com/200/105310&quot; target=&quot;_blank&quot;&gt;开发文档 / 开发指南 / 创建应用&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;刚创建出来的应用是没有任何功能的，支付宝的各种功能（包括最基础的支付功能）都是支付应用下的&lt;code&gt;应用功能&lt;/code&gt;，一般来说每个都需要单独开通，某些开通还需要一定的条件，比如说网页支付开通的话你必须首先要有一个已经上线的网页而且要有明确的支付功能（申请失败如下）。等等。见：&lt;a href=&quot;https://docs.open.alipay.com/200/105314/&quot; target=&quot;_blank&quot;&gt;签约功能&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/alipay/alipay_pc_app_failure.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;在这一步最重要的是要把支付应用的APP_ID记录下来。&lt;/p&gt;

&lt;h2 id=&quot;33-秘钥申请&quot;&gt;3.3 秘钥申请&lt;/h2&gt;
&lt;p&gt;见官方文档：&lt;a href=&quot;https://docs.open.alipay.com/291/105971/&quot; target=&quot;_blank&quot;&gt;开发文档 / 签名专区 / 第一步：生成 RSA 密钥&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;官方有提供一个工具&lt;code&gt;支付宝开放平台开发助手&lt;/code&gt;，可以用这个工具进行秘钥制作，比较方便：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ideservice.alipay.com/ide/getPluginUrl.htm?clientType=assistant&amp;amp;platform=win&amp;amp;channelType=WEB&quot; target=&quot;_blank&quot;&gt;WIN版本&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ideservice.alipay.com/ide/getPluginUrl.htm?clientType=assistant&amp;amp;platform=mac&amp;amp;channelType=WEB&quot; target=&quot;_blank&quot;&gt;MAC版本&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;后续研发上遇到签名问题可以参考：&lt;a href=&quot;https://docs.open.alipay.com/291/106096/&quot; target=&quot;_blank&quot;&gt;自助排查&lt;/a&gt;以及&lt;a href=&quot;https://docs.open.alipay.com/291/106098/&quot; target=&quot;_blank&quot;&gt;常见问题&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;这一步操作完成后应该会获得三个文件，需要妥善保存：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;alipay的公钥
    &lt;ul&gt;
      &lt;li&gt;文件以&lt;code&gt;-----BEGIN PUBLIC KEY-----&lt;/code&gt;开头&lt;/li&gt;
      &lt;li&gt;文件以&lt;code&gt;-----END PUBLIC KEY-----&lt;/code&gt;结尾&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;应用的公钥
    &lt;ul&gt;
      &lt;li&gt;文件以&lt;code&gt;-----BEGIN PUBLIC KEY-----&lt;/code&gt;开头&lt;/li&gt;
      &lt;li&gt;文件以&lt;code&gt;-----END PUBLIC KEY-----&lt;/code&gt;结尾&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;应用的私钥
    &lt;ul&gt;
      &lt;li&gt;文件以&lt;code&gt;-----BEGIN RSA PRIVATE KEY-----&lt;/code&gt;开头&lt;/li&gt;
      &lt;li&gt;文件以&lt;code&gt;-----END RSA PRIVATE KEY-----&lt;/code&gt;结尾&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下载下来的公钥和私钥都是不断行的连续字符串，还需要借助像是&lt;a href=&quot;https://www.samltool.com/format_privatekey.php&quot; target=&quot;_blank&quot;&gt;Online tool to format private key. - SAMLTool.com&lt;/a&gt;这样的工具进行格式转换，断行。如果没有文件头和文件尾的话，还需要手动添加。&lt;/p&gt;

&lt;h1 id=&quot;4-api--sdk&quot;&gt;4. API &amp;amp; SDK&lt;/h1&gt;
&lt;h2 id=&quot;41-sdk选择&quot;&gt;4.1 SDK选择&lt;/h2&gt;
&lt;p&gt;Node.js进行开发的话，有两个npm库可选：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/alipay-node-sdk&quot; target=&quot;_blank&quot;&gt;alipay-node-sdk&lt;/a&gt;：这个库非官方，但维护的很好，而且使用的人也不少，可以一用&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.npmjs.com/package/alipay-sdk&quot; target=&quot;_blank&quot;&gt;Alipay SDK&lt;/a&gt;：这个库是官方的，但封装得还没有上一个好，而且文档也很糟糕，但毕竟是官方的，所以还是首选&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;官方SDK的使用需要了解：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yuque.com/chenqiu/alipay-node-sdk/config-sdk&quot; target=&quot;_blank&quot;&gt;SDK 配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yuque.com/chenqiu/alipay-node-sdk/with_biz_content&quot; target=&quot;_blank&quot;&gt;包含业务参数&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yuque.com/chenqiu/alipay-node-sdk/without_biz_content&quot; target=&quot;_blank&quot;&gt;不包含业务参数&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yuque.com/chenqiu/alipay-node-sdk/page_api&quot; target=&quot;_blank&quot;&gt;页面类接口调用&lt;/a&gt;：其实后续PC和APP下单用的都是这种模式，调用支付宝接口后获得对应的信息，然后返回给应用客户端，让它们触发后续流程&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.yuque.com/chenqiu/alipay-node-sdk/notify_verify&quot; target=&quot;_blank&quot;&gt;通知验签&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;此外，官方SDK有一个比较严重的BUG：&lt;a href=&quot;https://github.com/alipay/alipay-sdk-nodejs-all/issues/45&quot; target=&quot;_blank&quot;&gt;设置了 passbackParams 会导致 alipaySdk.checkNotifySign 失败 #45&lt;/a&gt;，会直接影响使用，需要注意。&lt;/p&gt;

&lt;p&gt;解决方案：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;passback_params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;passback_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;verified&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alipaySdk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkNotifySign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;42-api使用基础&quot;&gt;4.2 API使用基础&lt;/h2&gt;
&lt;p&gt;官方的API文档在：&lt;a href=&quot;https://docs.open.alipay.com/api_1&quot; target=&quot;_blank&quot;&gt;支付API&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;支付宝的API的接口，参数都分为&lt;code&gt;公共请求参数&lt;/code&gt;以及&lt;code&gt;请求参数&lt;/code&gt;。简单点来说：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;公共请求参数：支付宝级别比较顶层的参数，比如说：app_id、sign等&lt;/li&gt;
  &lt;li&gt;请求参数：非公共请求参数之外的其他一切参数&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;请求参数会放在公共请求参数的&lt;code&gt;biz_content&lt;/code&gt;里，至于怎么放进去的可以不用关心，SDK都会直接封装掉。&lt;/p&gt;

&lt;p&gt;API的测试可以通过：&lt;a href=&quot;https://openhome.alipay.com/platform/demoManage.htm#/alipay.trade.page.pay&quot; target=&quot;_blank&quot;&gt;在线调试(Beta)&lt;/a&gt;来模拟使用。&lt;/p&gt;

&lt;h2 id=&quot;43-常用接口&quot;&gt;4.3 常用接口&lt;/h2&gt;
&lt;p&gt;官方SDK的初始化，沙箱和正式用的是两套秘钥，这块需要动态处理下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AlipaySdk&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay-sdk/lib/alipay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AlipayFormData&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay-sdk/lib/form&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;vendorConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getVendor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Constant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;VENDOR_ALIPAY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IVendorConfigAlipay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isSandbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getRaw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sandbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;notifyUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;vendorConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;callbackUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;returnUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;vendorConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;returnUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pubKeyPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LibPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;../../../pem/alipay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isSandbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;sandbox/alipay.pub.txt&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay.pub.txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;priKeyPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LibPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;../../../pem/alipay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isSandbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;sandbox/app.pri.txt&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;app.pri.txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;gateway&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;isSandbox&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://openapi.alipaydev.com/gateway.do&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://openapi.alipay.com/gateway.do&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay::sdk::pubKeyPath&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pubKeyPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay::sdk::priKeyPath&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;priKeyPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay::sdk::gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aliPay&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AlipaySdk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;appId&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;vendorConfig.appId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;alipayPublicKey&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;LibFs.readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pubKeyPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;privateKey&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;LibFs.readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;priKeyPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;gateway&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;this.gateway&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;signType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;RSA2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;431-pc网页支付下单&quot;&gt;4.3.1 PC网页支付下单&lt;/h3&gt;
&lt;p&gt;文档在：&lt;a href=&quot;https://docs.open.alipay.com/api_1/alipay.trade.page.pay&quot; target=&quot;_blank&quot;&gt;alipay.trade.page.pay&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;范例代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AlipayFormData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;returnUrl&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;returnUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;notifyUrl&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;notifyUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;bizContent&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;outTradeNo&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;orderId.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;productCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;FAST_INSTANT_TRADE_PAY&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;totalAmount&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;subject&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;passbackParams&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}})),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;timeoutExpress&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seconds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;qrPayMode&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aliPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay.trade.page.pay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;范例返回：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https://openapi.alipaydev.com/gateway.do?method=alipay.trade.page.pay&amp;amp;app_id=...&amp;amp;charset=utf-8&amp;amp;version=1.0&amp;amp;sign_type=RSA2&amp;amp;timestamp=2019-XX-XX%2015%3A20%3A24&amp;amp;return_url=...&amp;amp;notify_url=...&amp;amp;sign=...&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;post&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;alipaySDKSubmit1577431224474&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;alipaySDKSubmit1577431224474&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;alipay_sdk&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;alipay-sdk-nodejs-3.0.8&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hidden&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;biz_content&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;{&amp;amp;quot;out_trade_no&amp;amp;quot;:143123,&amp;amp;quot;product_code&amp;amp;quot;:&amp;amp;quot;FAST_INSTANT_TRADE_PAY...}&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;form&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;alipaySDKSubmit1577431224474&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;submit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;返回的是一个字符串，这串字符串交付给网页，让JS直接append到当前页面上，就会进行跳转（form.submit），到支付宝的页面让用户付款。&lt;/p&gt;

&lt;h3 id=&quot;432-app支付下单&quot;&gt;4.3.2 APP支付下单&lt;/h3&gt;
&lt;p&gt;文档在：&lt;a href=&quot;https://docs.open.alipay.com/api_1/alipay.trade.app.pay&quot; target=&quot;_blank&quot;&gt;alipay.trade.app.pay&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;范例代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AlipayFormData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;get&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;notifyUrl&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;notifyUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;bizContent&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;outTradeNo&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;orderId.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;productCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;QUICK_MSECURITY_PAY&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;totalAmount&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;price.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;subject&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;passbackParams&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}})),&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;timeoutExpress&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seconds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aliPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay.trade.app.pay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;formData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;范例返回：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;https://openapi.alipaydev.com/gateway.do?method&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;alipay.trade.app.pay&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;app_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;...&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utf-8&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;.0&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;sign_type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;RSA2&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2019&lt;/span&gt;-XX-XX%2015%3A23%3A25&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;notify_url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;...&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这一串字符串需要去掉头部的gateway：&lt;code&gt;https://openapi.alipaydev.com/gateway.do?&lt;/code&gt;，只需要把剩下的参数部分交付给移动APP即可，移动APP会使用这些参数唤醒支付宝APP。&lt;/p&gt;

&lt;h3 id=&quot;433-支付宝订单查询&quot;&gt;4.3.3 支付宝订单查询&lt;/h3&gt;
&lt;p&gt;文档在：&lt;a href=&quot;https://docs.open.alipay.com/api_1/alipay.trade.query&quot; target=&quot;_blank&quot;&gt;alipay.trade.query&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;范例代码：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aliPay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay.trade.query&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;bizContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;out_trade_no&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;orderId.toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;console.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}})&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;返回的结果详见官方API文档。&lt;/p&gt;

&lt;h2 id=&quot;44-回调处理&quot;&gt;4.4 回调处理&lt;/h2&gt;
&lt;h3 id=&quot;441-return_url&quot;&gt;4.4.1 return_url&lt;/h3&gt;
&lt;p&gt;在return_url上收到的参数如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;charset&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;out_trade_no&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;143123&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;method&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;alipay.trade.page.pay.return&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;total_amount&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;sign&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;B5wBu/icxG9u12XyBKUu...&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;auth_app_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;201...422&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;app_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;201...422&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;sign_type&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;RSA2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;seller_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;208...342&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;timestamp&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2019-XX-XX 15:48:17&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;442-notify_url&quot;&gt;4.4.2 notify_url&lt;/h3&gt;
&lt;p&gt;在notify_url上收到的参数如下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; 
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;gmt_create&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2019-XX-XX 15:48:01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;charset&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;subject&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;测试商品名&amp;quot;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;sign&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;OMcW&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;K&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;Sy...&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;buyer_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;208&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;342&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;测试商品描述&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;invoice_amount&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.01&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;notify_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2019&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;589&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;  &amp;quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;fund_bill_list&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;: &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;quot;amount\&amp;quot;:\&amp;quot;0.01\&amp;quot;,\&amp;quot;fundChannel\&amp;quot;:\&amp;quot;ALIPAYACCOUNT\&amp;quot;}]&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;notify_type&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;trade_status_sync&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;trade_status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;TRADE_SUCCESS&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;receipt_amount&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;app_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;201...422&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;buyer_pay_amount&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;sign_type&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;RSA2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;seller_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;208...342&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;gmt_payment&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2019-XX-XX 15:48:15&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;notify_time&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2019-XX-XX 15:48:16&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;passback_params&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;%7B%22orderId%22%3A143123%2C%22salt%22%3A%221fvwtia2k4nuszx2%22%7D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;out_trade_no&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;143123&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;total_amount&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;trade_no&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;2019...383&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;auth_app_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;201...422&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;point_amount&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.00&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;5-沙箱使用&quot;&gt;5. 沙箱使用&lt;/h1&gt;
&lt;p&gt;官方文档在：&lt;a href=&quot;https://docs.open.alipay.com/200/105311/&quot; target=&quot;_blank&quot;&gt;开发文档 / 开发指南 / 使用沙箱环境&lt;/a&gt;。移动APP的沙箱使用还需要一些额外的调整：&lt;a href=&quot;https://docs.open.alipay.com/204/106450/&quot; target=&quot;_blank&quot;&gt;开发文档 / App支付 / 沙箱联调指南&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;51-沙箱申请&quot;&gt;5.1 沙箱申请&lt;/h2&gt;
&lt;p&gt;沙箱不需要额外申请，在支付应用创建完成之后，其沙箱自动创建完成。&lt;/p&gt;

&lt;h2 id=&quot;52-沙箱管理&quot;&gt;5.2 沙箱管理&lt;/h2&gt;
&lt;p&gt;沙箱有单独的管理页面，上面主要要处理几个事情：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;获取沙箱的APP ID；沙箱应用是单独的应用，和正式应用是隔离的，在沙箱环境使用正式应用的APP ID会告知没有该应用，反之亦然&lt;/li&gt;
  &lt;li&gt;制作沙箱单独的秘钥；该秘钥和正式环境是隔离的，需要单独制作&lt;/li&gt;
  &lt;li&gt;获取沙箱支付宝APP的账号和密码以及支付密码；在测试的时候会使用到&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;53-沙箱支付&quot;&gt;5.3 沙箱支付&lt;/h2&gt;
&lt;p&gt;沙箱环境有单独的一个调试用支付宝APP（用正常的支付宝APP扫码会失败，也无法被沙箱应用唤醒），只有android版本：&lt;a href=&quot;https://sandbox.alipaydev.com/user/downloadApp.htm&quot; target=&quot;_blank&quot;&gt;下载链接&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;在沙箱管理页面上能获取到对应的账号信息等。使用这些信息登入支付宝沙箱APP，然后就可以进行测试支付了。&lt;/p&gt;

&lt;h1 id=&quot;6-错误处理&quot;&gt;6. 错误处理&lt;/h1&gt;
&lt;h2 id=&quot;61-回调处理&quot;&gt;6.1 回调处理&lt;/h2&gt;
&lt;p&gt;无论对错，业务服务器后端都需要以&lt;code&gt;text/plain&lt;/code&gt;的格式响应，如果回调处理没有问题，就返回&lt;code&gt;success&lt;/code&gt;，如果报错，则返回&lt;code&gt;fail&lt;/code&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// 在这里处理业务&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;text/plain&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;success&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;text/plain&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fail&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;62-修复订单&quot;&gt;6.2 修复订单&lt;/h2&gt;
&lt;p&gt;在某些情况下，回调可能没有收到，或者一直报错导致回调没有正常处理。表现在用户视角，就是支付完成后订单状态无法正常改为支付完成（也就不会发货）。这是很糟糕的，因此需要制作修复订单功能。&lt;/p&gt;

&lt;p&gt;客户端在检查到订单状态为等待支付之后，可以提供一个入口给用户，用户点击之后，应用后端应该向支付宝查询订单信息，如果在支付宝这里已经是&lt;code&gt;已支付&lt;/code&gt;而在应用这边还是&lt;code&gt;等待支付&lt;/code&gt;的话，就立即将业务订单改为已支付，并向用户发货。&lt;/p&gt;

&lt;h1 id=&quot;7-上线生效&quot;&gt;7. 上线生效&lt;/h1&gt;
&lt;p&gt;开发完成（甚至在这之前）就可以&lt;a href=&quot;https://docs.open.alipay.com/200/golive/&quot; target=&quot;_blank&quot;&gt;上线应用&lt;/a&gt;，之前在申请应用的时候提到过的功能开通，签约等，很大一部分都需要应用上线之后才可以做，所以这个操作可以尽早。最基础的支付功能基本上签约没什么难度，早点签约早点开通。&lt;/p&gt;

&lt;h1 id=&quot;appendix&quot;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&quot;链接&quot;&gt;链接&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/weibo1230123/article/details/80214424&quot; target=&quot;_blank&quot;&gt;支付宝和微信的支付流程图&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/xch-yang/p/10336922.html&quot; target=&quot;_blank&quot;&gt;手把手教你接入支付宝支付&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/luckyyang/p/9517402.html&quot; target=&quot;_blank&quot;&gt;支付宝支付之扫码支付（电脑网站支付）、H5支付（手机网站支付）相关业务流程分析总结&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://my.oschina.net/u/2428791/blog/617651&quot; target=&quot;_blank&quot;&gt;支付宝支付接口中notify_url 与 return_url 的区别&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Fri, 27 Dec 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/alipay/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/alipay/</guid>
			</item>
		
			<item>
				<title>Docker Registry 的简单使用</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-安装--启动&quot; id=&quot;markdown-toc-2-安装--启动&quot;&gt;2. 安装 &amp;amp; 启动&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-访问限制&quot; id=&quot;markdown-toc-3-访问限制&quot;&gt;3. 访问限制&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-api&quot; id=&quot;markdown-toc-3-api&quot;&gt;3. API&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-删除镜像&quot; id=&quot;markdown-toc-4-删除镜像&quot;&gt;4. 删除镜像&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;Docker和镜像在工作中是越来越常见了，而镜像仓库的需求也变得越来越常见。Docker官方给的解决方案是私有Registry仓库，官方也给了镜像进行对应的使用。但不得不说Docker的Registry是真的不好用：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;没有UI界面&lt;/li&gt;
  &lt;li&gt;只有很弱的访问权限限制&lt;/li&gt;
  &lt;li&gt;所有接口都必须通过HTTP请求方式进行，没有提供命令行工具等简化操作&lt;/li&gt;
  &lt;li&gt;没有删除镜像的手段&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;此外还有很多，这里就不一并列举了。&lt;/p&gt;

&lt;p&gt;因此，市面上也有不少alternative替代方案，做的最好的应该是&lt;a href=&quot;https://goharbor.io/&quot; target=&quot;_blank&quot;&gt;harbor&lt;/a&gt;。如果是大型企业或者是有比较严谨的权限控制需求的话，推荐使用harbor。&lt;/p&gt;

&lt;p&gt;但针对小公司来说，更简单快速的部署和更简单的运维是相对来说更重要的事情，因此Docker Registry的使用也是有市场的。这里就简单做下使用上的介绍。&lt;/p&gt;

&lt;h1 id=&quot;2-安装--启动&quot;&gt;2. 安装 &amp;amp; 启动&lt;/h1&gt;
&lt;p&gt;使用的还是官方的镜像：&lt;a href=&quot;https://hub.docker.com/_/registry&quot; target=&quot;_blank&quot;&gt;registry&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;官方文档在：&lt;a href=&quot;https://docs.docker.com/registry/deploying/&quot; target=&quot;_blank&quot;&gt;Deploy a registry server&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;启动命令：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker network create registry

$ docker run -d &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --name docker_registry &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --network registry &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --restart&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;always &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -p &lt;span class=&quot;m&quot;&gt;15000&lt;/span&gt;:5000 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v /tmp/registry/auth:/data/registry/auth &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v /tmp/registry/data:/var/lib/registry &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v /tmp/registry/config.yml:/etc/docker/registry/config.yml &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;REGISTRY_AUTH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;htpasswd &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;REGISTRY_AUTH_HTPASSWD_REALM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Registry Realm&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;REGISTRY_AUTH_HTPASSWD_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/data/registry/auth/htpasswd &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    registry:2.7.1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;容器内配置文件的位置：&lt;code&gt;/etc/docker/registry/config.yml&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;当前例子中使用的是没有前置proxy，并且仅设置了最简单的用户名密码访问限制的情况。关于这块的访问限制相关，更详细的内容可以查看官方文档：&lt;a href=&quot;https://docs.docker.com/registry/deploying/#restricting-access&quot; target=&quot;_blank&quot;&gt;Restricting access&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;生成秘钥可以使用命令：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker run --rm &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --entrypoint htpasswd &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    registry:2.7.1 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -Bbn username password &amp;gt; /tmp/registry/auth/htpasswd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;如果需要结合nginx使用的话（一般推荐这样做），需要参见：&lt;a href=&quot;https://docs.docker.com/registry/recipes/nginx/&quot; target=&quot;_blank&quot;&gt;Authenticate proxy with nginx&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;参考配置文件：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;events&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;worker_connections&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;http&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;kn&quot;&gt;upstream&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;docker-registry&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;## Set a variable to help us decide if we need to add the&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;## &amp;#39;Docker-Distribution-Api-Version&amp;#39; header.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;## The registry always sets this header.&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;## In the case of nginx performing auth, the header is unset&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;## since nginx is auth-ing before proxying.&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$upstream_http_docker_distribution_api_version&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$docker_distribution_api_version&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;registry/2.0&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;443&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ssl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;myregistrydomain.com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# SSL&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_certificate&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/etc/nginx/conf.d/domain.crt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_certificate_key&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/etc/nginx/conf.d/domain.key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# Recommendations from https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_protocols&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;TLSv1.1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;TLSv1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_ciphers&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_prefer_server_ciphers&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;ssl_session_cache&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;shared:SSL:10m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# disable any limits to avoid HTTP 413 for large image uploads&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;client_max_body_size&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;# required to avoid HTTP 411: see Issue #1486 (https://github.com/moby/moby/issues/1486)&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;chunked_transfer_encoding&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/v2/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# Do not allow connections from docker 1.5 and earlier&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;# docker pre-1.6.0 did not properly set the user agent on ping, catch &amp;quot;Go *&amp;quot; user agents&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$http_user_agent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;&amp;quot;^(docker\/1\.(3|4|5(?!\.[0-9]-dev))|Go&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;).*&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$&amp;quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;# To add basic authentication to v2 use auth_basic setting.&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;auth_basic&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Registry&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;realm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;auth_basic_user_file&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/etc/nginx/conf.d/nginx.htpasswd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;## If $docker_distribution_api_version is empty, the header is not added.&lt;/span&gt;
      &lt;span class=&quot;c1&quot;&gt;## See the map directive above where this variable is defined.&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;add_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;Docker-Distribution-Api-Version&amp;#39;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$docker_distribution_api_version&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;always&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt;                          &lt;span class=&quot;s&quot;&gt;http://docker-registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;Host&lt;/span&gt;              &lt;span class=&quot;nv&quot;&gt;$http_host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# required for docker client&amp;#39;s sake&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;X-Real-IP&lt;/span&gt;         &lt;span class=&quot;nv&quot;&gt;$remote_addr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# pass on real client&amp;#39;s IP&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;X-Forwarded-For&lt;/span&gt;   &lt;span class=&quot;nv&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;X-Forwarded-Proto&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$scheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;kn&quot;&gt;proxy_read_timeout&lt;/span&gt;                  &lt;span class=&quot;mi&quot;&gt;900&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;3-访问限制&quot;&gt;3. 访问限制&lt;/h1&gt;
&lt;p&gt;在刚才的启动命令部分已经提到了&lt;code&gt;如何制作用户名和密码的访问限制秘钥&lt;/code&gt;。而作为用户访问Registry则是另一回事。&lt;/p&gt;

&lt;p&gt;私有Registry如果架设的是HTTP，而不是HTTPS的话，访问的客户端需要修改配置，将该Registry的地址列入允许的不安全访问列表内，才可以正常访问。一般来说这个配置文件是在：&lt;code&gt;~/.docker/daemon.json&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;范例：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;insecure-registries&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;127.0.0.1:15000&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;修改完成之后必须重启本地的docker进程，该配置才会生效。&lt;/p&gt;

&lt;p&gt;然后使用&lt;code&gt;docker login 127.0.0.1:15000&lt;/code&gt;进行登录，这会在&lt;code&gt;~/.docker/config.json&lt;/code&gt;文件中生成一个登录项。但访问凭证一般不会直接存储在这里，OSX操作系统是使用keychain来进行存储。参见：&lt;a href=&quot;https://docs.docker.com/engine/reference/commandline/login/#credentials-store&quot; target=&quot;_blank&quot;&gt;Credentials store&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;在某些场合，需求预先生成访问凭证，而不是到实际运行的主机上进行docker login。这时候使用命令来生成凭证，并手动生成对应的登录项配置文件，放到指定的位置来生效。&lt;/p&gt;

&lt;p&gt;根据用户名和密码来生成凭证：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -n &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; base64
&lt;span class=&quot;c1&quot;&gt;# dGVzdDphYmMxMjNf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;生成登录项配置文件&lt;code&gt;~/.docker/config.json&lt;/code&gt;：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;auths&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;quot;127.0.0.1:15000&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;quot;auth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dGVzdDphYmMxMjNf&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;这样后续的使用就没有问题了，当然这样做是非常不安全的，不推荐使用。&lt;/p&gt;

&lt;h1 id=&quot;3-api&quot;&gt;3. API&lt;/h1&gt;
&lt;p&gt;因为registry没有提供UI界面，所有的操作都必须通过RESTful API来进行。&lt;/p&gt;

&lt;p&gt;官方文档在：&lt;a href=&quot;https://docs.docker.com/registry/spec/api/&quot; target=&quot;_blank&quot;&gt;HTTP API V2&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;常用API范例：&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;查看所有的仓库清单&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -u &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt; http://127.0.0.1:15000/v2/_catalog &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;repositories&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/builder&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/common&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/runner&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/server&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;查看某个仓库的所有tag&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -u &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt; http://127.0.0.1:15000/v2/fullstack/common/tags/list &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack/common&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;tags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.42&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.43&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.35&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.32&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.33&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;0.0.34&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;查看某个仓库某个tag的digest&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -u &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt; http://127.0.0.1:15000/v2/fullstack/common/manifests/0.0.43 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --header &lt;span class=&quot;s2&quot;&gt;&amp;quot;Accept: application/vnd.docker.distribution.manifest.v2+json&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq &lt;span class=&quot;s1&quot;&gt;&amp;#39;.config|.digest&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&quot;sha256:23ffb64a5f8c7bf748eb80830d7f3be7f5de613ba9d37817fe7771180b59fdc5&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;根据digest删除某个仓库的某个tag&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$password&lt;/span&gt; -I -X DELETE &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://127.0.0.1:15000/v2/fullstack/common/manifests/sha256:23ffb64a5f8c7bf748eb80830d7f3be7f5de613ba9d37817fe7771180b59fdc5&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;HTTP/1.1 &lt;span class=&quot;m&quot;&gt;202&lt;/span&gt; Accepted
Docker-Distribution-Api-Version: registry/2.0
X-Content-Type-Options: nosniff
Date: Thu, &lt;span class=&quot;m&quot;&gt;26&lt;/span&gt; Dec &lt;span class=&quot;m&quot;&gt;2019&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;09&lt;/span&gt;:17:51 GMT
Content-Length: &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;只要返回的CODE是&lt;code&gt;202&lt;/code&gt;，说明就是没问题的，正常删除。&lt;/p&gt;

&lt;h1 id=&quot;4-删除镜像&quot;&gt;4. 删除镜像&lt;/h1&gt;
&lt;p&gt;刚才在API中已经提到了根据digest删除某个tag，但是这时候镜像的真实数据还并没有被删除。还需要做几步操作。&lt;/p&gt;

&lt;p&gt;首先需要修改Registry的配置文件，允许删除操作。注意下面范例的：&lt;code&gt;storage.delete.enabled: true&lt;/code&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;0.1&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;registry&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;storage&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;blobdescriptor&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;inmemory&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;filesystem&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;rootdirectory&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;/var/lib/registry&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;:5000&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;X-Content-Type-Options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;nosniff&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;health&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;storagedriver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;enabled&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;threshold&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;然后需要进入容器内部进行删除操作：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; -it /bin/sh
/# /bin/registry garbage-collect /etc/docker/registry/config.yml&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;即便这样，被删除的tag仍旧会出现在tag列表API的结果里。Docker官方对删除就完全没做好支持。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Thu, 26 Dec 2019 11:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/docker-registry/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/docker-registry/</guid>
			</item>
		
			<item>
				<title>Gitea简单介绍及使用</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-使用&quot; id=&quot;markdown-toc-2-使用&quot;&gt;2. 使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-安装启动&quot; id=&quot;markdown-toc-21-安装启动&quot;&gt;2.1 安装启动&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-配置&quot; id=&quot;markdown-toc-22-配置&quot;&gt;2.2 配置&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#23-command-line&quot; id=&quot;markdown-toc-23-command-line&quot;&gt;2.3 Command Line&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#24-api&quot; id=&quot;markdown-toc-24-api&quot;&gt;2.4 API&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#25-访问授权&quot; id=&quot;markdown-toc-25-访问授权&quot;&gt;2.5 访问授权&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#251-token授权&quot; id=&quot;markdown-toc-251-token授权&quot;&gt;2.5.1 Token授权&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#252-oauth2授权&quot; id=&quot;markdown-toc-252-oauth2授权&quot;&gt;2.5.2 OAuth2授权&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;Gitea是一款使用Golang编写的可自运营的代码管理工具。&lt;/p&gt;

&lt;p&gt;在这个领域，名气最响的应该是Gitlab。但实际使用中Gitlab也有点问题，首先就是资源占用。Gitlab是使用ruby编写的，好几年之前刚出来的时候，一台1G内存的虚拟主机连安装运行都做不到，着实震惊。时至今日都已经发展到了以docker镜像分发，gitlab仍旧会有体积和运行时资源占用的问题。另一点就是功能，对于一般标准团队来说，gitlab的功能太过于丰富，这是往好的地方说，往坏的地方说就是它包含了太多不需要的东西，而这些东西还占用磁盘和运行时资源。&lt;/p&gt;

&lt;p&gt;于是着手查看开源的alternative方案，很快就找到了golang研发的gitea。使用golang研发的软件分发都很容易，体积小，安装使用简单，运行时占用资源少。且gitea的功能很完备，某些自身不具备的功能也能通过第三方来解决，比如CI就可以结合同样是golang研发的drone来实施。&lt;/p&gt;

&lt;p&gt;相关资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gitea.io/zh-cn/&quot; target=&quot;_blank&quot;&gt;官网&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://try.gitea.io/&quot; target=&quot;_blank&quot;&gt;线上实例&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.gitea.io/zh-cn/&quot; target=&quot;_blank&quot;&gt;文档&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;2-使用&quot;&gt;2. 使用&lt;/h1&gt;
&lt;h2 id=&quot;21-安装启动&quot;&gt;2.1 安装启动&lt;/h2&gt;
&lt;p&gt;安装使用仍旧推荐使用官方镜像：&lt;a href=&quot;https://hub.docker.com/r/gitea/gitea/&quot; target=&quot;_blank&quot;&gt;gitea/gitea&lt;/a&gt;。官方指引：&lt;a href=&quot;https://docs.gitea.io/zh-cn/install-with-docker/&quot; target=&quot;_blank&quot;&gt;从Docker安装&lt;/a&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;localbuild_gitea&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;gitea/gitea:1.10.0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;localbuild_gitea&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;localbuild_gitea&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;13000:13000&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;122:122&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:13000 -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;./vendor/gitea:/data&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;关于启动时的环境变量相关，官方有一个讨论帖：&lt;a href=&quot;https://github.com/go-gitea/gitea/issues/350&quot; target=&quot;_blank&quot;&gt;Configure with env variables #350&lt;/a&gt;，但貌似还没有任何结论，当前最佳实践是做好配置文件之后映射到容器内。&lt;/p&gt;

&lt;p&gt;关于gitea使用的数据库，如果是默认配置的话，是会使用Postgre数据库，存放在容器内的&lt;code&gt;/data/gitea/gitea.db&lt;/code&gt;位置。&lt;/p&gt;

&lt;p&gt;gitea的数据全部都放在容器内的&lt;code&gt;/data&lt;/code&gt;文件夹下，一般需要将这个文件夹映射出来。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;/data&lt;/code&gt;文件夹内部文件结构如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/-
 | git /-                                           # 存放所有git仓库数据
 |      | repositories /-                           # 代码库存放位置
 |      |               | fullstack /-              # 组织
 |      |               |            | common.git   # 组织下的代码库
 |      |               |            | gateway.git
 |      |               |            | server.git
 | gitea /-                                         # 存放gitea自身的系统文件
 |        | conf /-
 |        |       | app.ini                         # gitea配置文件
 |        | log                                     # gitea日志文件
 |        | gitea.db                                # Postgre数据库文件
 | ssh                                              # 秘钥文件
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/gitea-note/home.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;22-配置&quot;&gt;2.2 配置&lt;/h2&gt;
&lt;p&gt;官方文档在：&lt;a href=&quot;https://docs.gitea.io/zh-cn/config-cheat-sheet/&quot; target=&quot;_blank&quot;&gt;配置说明&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;映射路径在容器内的&lt;code&gt;/data/gitea/conf/app.ini&lt;/code&gt;。一般主要是URL和端口之类的需要调整下，还有就是数据库的访问方式。&lt;/p&gt;

&lt;h2 id=&quot;23-command-line&quot;&gt;2.3 Command Line&lt;/h2&gt;
&lt;p&gt;gitea还可以作为一个命令行工具来执行CLI命令，官方文档在：&lt;a href=&quot;https://docs.gitea.io/zh-cn/command-line/&quot; target=&quot;_blank&quot;&gt;Command Line&lt;/a&gt;。执行的时候可能还会需要用到部分环境变量，见：&lt;a href=&quot;https://docs.gitea.io/zh-cn/specific-variables/&quot; target=&quot;_blank&quot;&gt;环境变量清单&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;不过作为命令行工具来使用的机会比较少见。&lt;/p&gt;

&lt;h2 id=&quot;24-api&quot;&gt;2.4 API&lt;/h2&gt;
&lt;p&gt;gitea提供RESTful的API，这块是自动化的主力，需要好好看下如何使用。&lt;/p&gt;

&lt;p&gt;官方API文档在：&lt;a href=&quot;https://docs.gitea.io/zh-cn/api-usage/&quot; target=&quot;_blank&quot;&gt;Gitea API 使用指南&lt;/a&gt;。这篇指引主要是阐明了如何使用API，如何处理访问控制之类的。具体的API调用参数和返回值，以及API列表，可以查看官方的swagger：&lt;a href=&quot;https://try.gitea.io/api/swagger#/&quot; target=&quot;_blank&quot;&gt;Gitea API.&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;给几个curl调用的例子：&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;在fullstack组织下，创建代码库common&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -X POST &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://127.0.0.1:13000/api/v1/admin/users/fullstack/repos&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -H &lt;span class=&quot;s2&quot;&gt;&amp;quot;accept: application/json&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -H &lt;span class=&quot;s2&quot;&gt;&amp;quot;Authorization: token 752e305de4936a769d2ed962b3e019f8866e510a&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -H &lt;span class=&quot;s2&quot;&gt;&amp;quot;Content-Type: application/json&amp;quot;&lt;/span&gt; -d &lt;span class=&quot;s2&quot;&gt;&amp;quot;{ \&amp;quot;name\&amp;quot;: \&amp;quot;common\&amp;quot;, \&amp;quot;auto_init\&amp;quot;: false, \&amp;quot;private\&amp;quot;: true }&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;删除fullstack组织下的代码库common&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl -X DELETE &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://127.0.0.1:13000/api/v1/repos/fullstack/common&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -H &lt;span class=&quot;s2&quot;&gt;&amp;quot;accept: application/json&amp;quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -H &lt;span class=&quot;s2&quot;&gt;&amp;quot;Authorization: token 752e305de4936a769d2ed962b3e019f8866e510a&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;25-访问授权&quot;&gt;2.5 访问授权&lt;/h2&gt;
&lt;p&gt;授权主要有两种方式。&lt;/p&gt;

&lt;h3 id=&quot;251-token授权&quot;&gt;2.5.1 Token授权&lt;/h3&gt;
&lt;p&gt;Token授权是最简单的。通过发行token，让拥有token的终端可以直接调用API进行操作。&lt;/p&gt;

&lt;p&gt;发行Token也很简单：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;点击右上角&lt;code&gt;用户头像&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;点击下拉菜单的&lt;code&gt;设置&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;点击新页面导航栏中间的&lt;code&gt;应用&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;在&lt;code&gt;管理Access Tokens&lt;/code&gt;部分输入Token名，点击&lt;code&gt;生成令牌&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;需要注意的是，令牌生成之后内容只会展现一次，后续就只有删除操作。如果遗忘的话就只能删除然后申请新的了。&lt;/p&gt;

&lt;h3 id=&quot;252-oauth2授权&quot;&gt;2.5.2 OAuth2授权&lt;/h3&gt;
&lt;p&gt;OAuth2也算是现在比较常见的授权方法，和Token不同的是两者的应用场景：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Token：更多的用在自动化部署等，需要简单访问权限的场景&lt;/li&gt;
  &lt;li&gt;OAuth2：更多的用在第三方应用程序和gitea的整合，比如CI工具等&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;操作上也很简单，在Token同一界面上的&lt;code&gt;管理 OAuth2 应用程序&lt;/code&gt;界面部分，按提示操作即可。一样的，秘钥只会在创建完成后展示一次，后续秘钥只能重置，不能再次展示。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Thu, 26 Dec 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/gitea-note/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/gitea-note/</guid>
			</item>
		
			<item>
				<title>Consul Notes</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-选型&quot; id=&quot;markdown-toc-2-选型&quot;&gt;2. 选型&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-架构&quot; id=&quot;markdown-toc-3-架构&quot;&gt;3. 架构&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-使用&quot; id=&quot;markdown-toc-4-使用&quot;&gt;4. 使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#41-启动&quot; id=&quot;markdown-toc-41-启动&quot;&gt;4.1 启动&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#42-api&quot; id=&quot;markdown-toc-42-api&quot;&gt;4.2 API&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#421-根据节点健康状态获取节点&quot; id=&quot;markdown-toc-421-根据节点健康状态获取节点&quot;&gt;4.2.1 根据节点健康状态获取节点&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#422-获取所有服务&quot; id=&quot;markdown-toc-422-获取所有服务&quot;&gt;4.2.2 获取所有服务&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#423-根据服务名获取所有对应的服务节点&quot; id=&quot;markdown-toc-423-根据服务名获取所有对应的服务节点&quot;&gt;4.2.3 根据服务名获取所有对应的服务节点&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#424-根据service-id获取具体信息&quot; id=&quot;markdown-toc-424-根据service-id获取具体信息&quot;&gt;4.2.4 根据service id获取具体信息&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#425-删除某个服务的注册&quot; id=&quot;markdown-toc-425-删除某个服务的注册&quot;&gt;4.2.5 删除某个服务的注册&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#43-ui&quot; id=&quot;markdown-toc-43-ui&quot;&gt;4.3 UI&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#44-template&quot; id=&quot;markdown-toc-44-template&quot;&gt;4.4 Template&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#45-dns&quot; id=&quot;markdown-toc-45-dns&quot;&gt;4.5 DNS&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#46-application&quot; id=&quot;markdown-toc-46-application&quot;&gt;4.6 Application&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#47-health-check&quot; id=&quot;markdown-toc-47-health-check&quot;&gt;4.7 Health Check&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#appendix&quot; id=&quot;markdown-toc-appendix&quot;&gt;Appendix&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#资料&quot; id=&quot;markdown-toc-资料&quot;&gt;资料&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ID_APP_AGENT_HELP&quot; id=&quot;markdown-toc-ID_APP_AGENT_HELP&quot;&gt;consul agent –help&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#consul-help&quot; id=&quot;markdown-toc-consul-help&quot;&gt;consul –help&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;Consul一般用来作为服务注册和服务发现软件。&lt;a href=&quot;https://www.consul.io/intro/index.html&quot; target=&quot;_blank&quot;&gt;官方介绍&lt;/a&gt;如下：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Consul is a service mesh solution providing a full featured control plane with service discovery, configuration, and segmentation functionality. Each of these features can be used individually as needed, or they can be used together to build a full service mesh. Consul requires a data plane and supports both a proxy and native integration model. Consul ships with a simple built-in proxy so that everything works out of the box, but also supports 3rd party proxy integrations such as Envoy.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;文档资料：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.consul.io/&quot; target=&quot;_blank&quot;&gt;consul.io&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.consul.io/docs/index.html&quot; target=&quot;_blank&quot;&gt;Consul Documentation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.consul.io/docs/internals/index.html&quot; target=&quot;_blank&quot;&gt;Consul Internals&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.consul.io/api/index.html&quot; target=&quot;_blank&quot;&gt;API Introduction&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;2-选型&quot;&gt;2. 选型&lt;/h1&gt;
&lt;p&gt;市面上常用的开源服务发现软件主要有：&lt;a href=&quot;https://github.com/hashicorp/consul&quot; target=&quot;_blank&quot;&gt;consul&lt;/a&gt;、&lt;a href=&quot;https://github.com/etcd-io/etcd&quot; target=&quot;_blank&quot;&gt;etcd&lt;/a&gt;、&lt;a href=&quot;https://github.com/apache/zookeeper&quot; target=&quot;_blank&quot;&gt;zookeeper&lt;/a&gt;。前两者都是用golang研发的，而zookeeper则是java研发的（你懂我意思吧）。&lt;/p&gt;

&lt;p&gt;这里就有选型的问题了，不过了解下来相互之间的差异不能说很大，基本上都在可接受范围内。特别是consul和etcd都使用raft作为分布式一致性协议，可以说非常趋同了。etcd关注度更高（特别是K8S官方使用了它），功能简单，主要在大型系统中作为分布式K/V存储使用；而consul的功能更强大（完整、开箱即用）且易用性更高。&lt;/p&gt;

&lt;p&gt;相关资料：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.consul.io/intro/vs/zookeeper.html&quot; target=&quot;_blank&quot;&gt;Consul vs. ZooKeeper, doozerd, etcd&lt;/a&gt;：这篇是consul官方的，不过我觉得讲得其实不多，没什么价值&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/yurishkuro/10cb2dc42f42a007a8ce0e055ed0d171&quot; target=&quot;_blank&quot;&gt;etcd vs consul vs ???&lt;/a&gt;：文章的作者居然是Jaeger的作者，看完我才刚发现；写得很好，基本上主要的点都比对出来了，价值极高&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.servercoder.com/2018/03/30/consul-vs-zookeeper-etcd/&quot; target=&quot;_blank&quot;&gt;服务发现框架选型，Consul还是Zookeeper还是etcd&lt;/a&gt;：中文，带表格比对，简单易理解&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://matthewpalmer.net/kubernetes-app-developer/articles/how-does-kubernetes-use-etcd.html&quot; target=&quot;_blank&quot;&gt;How Does Kubernetes Use etcd?&lt;/a&gt;：主要说明了K8S为什么以及如何使用etcd，主要还是作为存储系统&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;3-架构&quot;&gt;3. 架构&lt;/h1&gt;
&lt;p&gt;官方的架构介绍在：&lt;a href=&quot;https://www.consul.io/docs/internals/architecture.html&quot; target=&quot;_blank&quot;&gt;Consul Architecture&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/consul-arch.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;简单来说：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;节点分为&lt;code&gt;client&lt;/code&gt;和&lt;code&gt;server&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;server负责存储数据，并形成集群，使用raft保证集群一致性&lt;/li&gt;
  &lt;li&gt;client负责直接和业务对象连接，并将数据同步到server上&lt;/li&gt;
  &lt;li&gt;所有的节点都是通过gossip连接起来的&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;4-使用&quot;&gt;4. 使用&lt;/h1&gt;
&lt;h2 id=&quot;41-启动&quot;&gt;4.1 启动&lt;/h2&gt;
&lt;p&gt;一般直接使用docker镜像：&lt;a href=&quot;https://hub.docker.com/_/consul&quot; target=&quot;_blank&quot;&gt;consul&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;启动方面非常简单，全部都是用&lt;code&gt;agent&lt;/code&gt;命令，参数细节放在后面的附录部分，太长了：&lt;a href=&quot;#ID_APP_AGENT_HELP&quot;&gt;consul agent –help&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;常用参数：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;--node=$name&lt;/code&gt;指定节点名称&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;--server&lt;/code&gt;表示节点是server节点&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;--bootstrap&lt;/code&gt;表示节点以bootstrap模式启动&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;--ui&lt;/code&gt;表示当前节点会提供管理UI界面&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;--client=0.0.0.0&lt;/code&gt;指定监听地址&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;--join=$host&lt;/code&gt;指定启动时尝试加入集群时连接的目标节点&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;下面给个例子，集群3个server节点，2个client节点：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul:1.6.1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;18500:8500&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8600&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# DNS&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8500&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTP API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8501&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTPS API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8502&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# gRPC API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8301&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# LAN Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8302&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Wan Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Server RPC address&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:8500/v1/health/node/consul-server1 -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul_server1_data:/consul/data&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;CONSUL_BIND_INTERFACE=eth0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--node=consul-server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--server&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--bootstrap&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--client=0.0.0.0&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--ui&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul:1.6.1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server2&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server2&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8600&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# DNS&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8500&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTP API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8501&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTPS API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8502&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# gRPC API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8301&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# LAN Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8302&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Wan Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Server RPC address&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:8500/v1/health/node/consul-server2 -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul_server2_data:/consul/data&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;CONSUL_BIND_INTERFACE=eth0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--node=consul-server2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--server&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--client=0.0.0.0&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--join=fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server3&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul:1.6.1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server3&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server3&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8600&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# DNS&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8500&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTP API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8501&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTPS API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8502&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# gRPC API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8301&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# LAN Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8302&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Wan Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Server RPC address&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:8500/v1/health/node/consul-server3 -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul_server3_data:/consul/data&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;CONSUL_BIND_INTERFACE=eth0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--node=consul-server3&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--server&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--client=0.0.0.0&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--join=fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul:1.6.1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8600&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# DNS&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8500&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTP API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8501&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTPS API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8502&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# gRPC API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8301&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# LAN Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8302&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Wan Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Server RPC address&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server3&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:8500/v1/health/node/consul-client -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul_client1_data:/consul/data&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;CONSUL_BIND_INTERFACE=eth0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--node=consul-client1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--client=0.0.0.0&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--join=fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul:1.6.1&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client2&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_client2&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;net&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8600&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# DNS&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8500&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTP API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8501&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# HTTPS API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8502&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# gRPC API&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8301&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# LAN Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8302&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Wan Serf&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;8300&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Server RPC address&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server1&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;fullstack_consul_server3&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;service_healthy&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;json-file&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;max-size&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;512m&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:8500/v1/health/node/consul-client -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;consul_client2_data:/consul/data&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;CONSUL_BIND_INTERFACE=eth0&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p p-Indicator&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--node=consul-client2&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--client=0.0.0.0&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;--join=fullstack_consul_server1&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;部署完成后节点如下：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/nodes.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;42-api&quot;&gt;4.2 API&lt;/h2&gt;
&lt;p&gt;官方API文档在：&lt;a href=&quot;https://www.consul.io/api/index.html&quot; target=&quot;_blank&quot;&gt;API Introduction&lt;/a&gt;。Consul使用RESTful的HTTP请求来提供服务，所有的客户端或命令行工具无非就是RESTful API的封装。所以如果有需要，可以直接使用curl来发送HTTP请求调用接口。&lt;/p&gt;

&lt;p&gt;下面的例子中会涉及到一些demo应用程序的节点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;app server 3个节点&lt;/li&gt;
  &lt;li&gt;app gateway 3个节点&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;client1连接了：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/client1.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;client2连接了：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/client1.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;421-根据节点健康状态获取节点&quot;&gt;4.2.1 根据节点健康状态获取节点&lt;/h3&gt;
&lt;p&gt;文档：&lt;a href=&quot;https://www.consul.io/api/health.html#list-checks-in-state&quot; target=&quot;_blank&quot;&gt;List Checks in State&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;这个接口可以有效过滤掉已经失效的节点。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl http://127.0.0.1:18500/v1/health/state/any &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;serfHealth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Serf Health Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Agent alive and reachable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:1fw20gk4kq30tk&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;server&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_server2:50052/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20gk4kq30tk&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:1fw20gk4kq35py&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;gateway&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_gateway3:3000/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20gk4kq35py&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:1fw20hk4kq5i2h&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;gateway&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_gateway1:3000/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20hk4kq5i2h&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;49&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;serfHealth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Serf Health Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Agent alive and reachable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:1fw20hk4kq30n8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;server&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_server3:50052/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20hk4kq30n8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;27&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:1fw20ik4kq35th&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;gateway&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_gateway2:3000/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20ik4kq35th&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;34&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;service:eewk9hk4kq2uvy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Service &amp;#39;server&amp;#39; check&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;HTTP GET http://fullstack_server1:50052/health: 200 OK Output: OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;eewk9hk4kq2uvy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-server1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;serfHealth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Serf Health Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Agent alive and reachable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-server2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;serfHealth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Serf Health Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Agent alive and reachable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-server3&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CheckID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;serfHealth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Serf Health Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Status&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Notes&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Output&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Agent alive and reachable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Definition&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;any可以更换成其他状态：&lt;code&gt;any, passing, warning, or critical&lt;/code&gt;。&lt;/p&gt;

&lt;h3 id=&quot;422-获取所有服务&quot;&gt;4.2.2 获取所有服务&lt;/h3&gt;
&lt;p&gt;文档：&lt;a href=&quot;https://www.consul.io/api/catalog.html#list-services&quot; target=&quot;_blank&quot;&gt;List Services&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl http://127.0.0.1:18500/v1/catalog/services &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq . &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;consul&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;The keys are the service names, and the array values provide all known tags for a given service.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;423-根据服务名获取所有对应的服务节点&quot;&gt;4.2.3 根据服务名获取所有对应的服务节点&lt;/h3&gt;
&lt;p&gt;文档：&lt;a href=&quot;https://www.consul.io/api/catalog.html#list-nodes-for-service&quot; target=&quot;_blank&quot;&gt;List Nodes for Service&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl http://127.0.0.1:18500/v1/catalog/service/:service_name &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq . &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;server&lt;/code&gt;的结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;f33332e4-3881-b975-d647-bc21a4ca41da&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Datacenter&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dc1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;TaggedAddresses&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;lan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;wan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.8&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;NodeMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;consul-network-segment&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceKind&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20gk4kq30tk&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceAddress&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack_server2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceWeights&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServicePort&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50051&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceEnableTagOverride&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceProxy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;MeshGateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceConnect&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;feaba61d-83ce-a7e6-3e99-f1b2fa889bf8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Datacenter&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dc1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;TaggedAddresses&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;lan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;wan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;NodeMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;consul-network-segment&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceKind&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20hk4kq30n8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceAddress&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack_server3&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceWeights&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServicePort&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50051&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceEnableTagOverride&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceProxy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;MeshGateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceConnect&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;feaba61d-83ce-a7e6-3e99-f1b2fa889bf8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Node&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul-client2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Datacenter&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;dc1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;TaggedAddresses&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;lan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;wan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;172.26.0.7&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;NodeMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;consul-network-segment&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceKind&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;eewk9hk4kq2uvy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceTags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceAddress&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack_server1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceWeights&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;Warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceMeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServicePort&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50051&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceEnableTagOverride&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceProxy&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;quot;MeshGateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ServiceConnect&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;CreateIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;ModifyIndex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;424-根据service-id获取具体信息&quot;&gt;4.2.4 根据service id获取具体信息&lt;/h3&gt;
&lt;p&gt;文档：&lt;a href=&quot;https://www.consul.io/api/agent/service.html#get-service-configuration&quot; target=&quot;_blank&quot;&gt;Get Service Configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;需要注意，这个操作只能获取所查询agent（某个client）上注册的服务的信息。下面举两个例子，刚才有说到&lt;code&gt;fullstack_server2&lt;/code&gt;是注册在&lt;code&gt;fullstack_consul_client1&lt;/code&gt;上的；而&lt;code&gt;fullstack_server3&lt;/code&gt;是注册在&lt;code&gt;fullstack_consul_client2&lt;/code&gt;上的。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;fullstack_server2&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 首先需要登入到docker network中的某台机器上，因为client都没有向主机暴露端口&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# docker exec -it fullstack_consul_server1 /bin/sh&lt;/span&gt;
$ curl http://fullstack_consul_client1:8500/v1/agent/service/1fw20gk4kq30tk &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;ID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20gk4kq30tk&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Service&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Tags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Meta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Port&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50051&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack_server2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Weights&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;EnableTagOverride&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;ContentHash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;b13f5888fa84e5d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;fullstack_server3&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 首先需要登入到docker network中的某台机器上，因为client都没有向主机暴露端口&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# docker exec -it fullstack_consul_server1 /bin/sh&lt;/span&gt;
$ curl http://fullstack_consul_client2:8500/v1/agent/service/1fw20hk4kq30n8 &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结果：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;ID&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1fw20hk4kq30n8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Service&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Tags&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Meta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Port&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50051&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Address&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack_server3&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;Weights&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Passing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;quot;Warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;EnableTagOverride&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;quot;ContentHash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;120b74b874209fe8&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;425-删除某个服务的注册&quot;&gt;4.2.5 删除某个服务的注册&lt;/h3&gt;
&lt;p&gt;文档：&lt;a href=&quot;https://www.consul.io/api/agent/service.html#deregister-service&quot; target=&quot;_blank&quot;&gt;Deregister Service&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;做开发的时候，为了测试，有的时候需要手动删除某些服务，这时候就要用到这个接口了。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ curl --request PUT http://127.0.0.1:18500/v1/agent/service/deregister/:service_id &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq .&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;43-ui&quot;&gt;4.3 UI&lt;/h2&gt;
&lt;p&gt;访问：http://127.0.0.1:18500，就会开启管理UI。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/ui.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;实际功能非常有限，主要是观察下集群及服务的状况。&lt;/p&gt;

&lt;h2 id=&quot;44-template&quot;&gt;4.4 Template&lt;/h2&gt;
&lt;p&gt;Consul有一个非常好用的功能就是能把注册的服务，通过一个模板，生成配置文件并输出到指定的位置。最常见的使用案例就是consul配合nginx，多个业务服务跑在后台，注册到consul，通过consul将业务后台的信息生成成nginx配置文件。同时，任何业务后台的变动都会触发配置文件的重新生成。consul的template还可以指定一个外部命令，在刚才提到的例子中就可以触发nginx的reload，使改变的配置文件生效。&lt;/p&gt;

&lt;p&gt;template有单独的镜像：&lt;a href=&quot;https://hub.docker.com/r/hashicorp/consul-template/&quot; target=&quot;_blank&quot;&gt;hashicorp/consul-template&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;范例nginx配置模板，文件位置：&lt;code&gt;./vendor/consul/nginx&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   
upstream gateway {
    server : max_fails=3 fail_timeout=60 weight=1;
    server 127.0.0.1:65535; # force a 502
}  

server {
    listen 80;
    server_name localhost;

    access_log /var/log/nginx/fullstack.access.log;
    error_log /var/log/nginx/fullstack.error.log;

    root /usr/share/nginx/html;

    index index.html index.htm index.nginx-debian.html;

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

    location / {
        proxy_set_header x-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header HOST $http_host;
        proxy_set_header X-Forwarded-Proto https;
        proxy_redirect http:// https://;
        proxy_connect_timeout 240;
        proxy_send_timeout 240;
        proxy_read_timeout 240;
        proxy_pass http://gateway;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;template启动：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker run --rm -it --name templateX &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v ./vendor/consul/nginx:/tmp/nginx.ctmpl &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# 将模板配置文件映射到容器内&lt;/span&gt;
    -v /tmp/template:/consul-template/data &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 将主机的临时文件夹映射到容器内配置文件的生成位置，方便后续在主机上直接查看生成的配置文件&lt;/span&gt;
    hashicorp/consul-template:0.22.1-alpine &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -dry &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -log-level&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;debug &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -consul-addr&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;host.docker.internal:18500 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -consul-retry &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -consul-retry-attempts&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -consul-retry-backoff&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;500ms &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -template&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp/nginx.ctmpl:/consul-template/data/default.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;查看生成的：&lt;code&gt;/tmp/template/default.conf&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;upstream&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;gateway&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fullstack_gateway3:3000&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;max_fails=3&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fail_timeout=60&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;weight=1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fullstack_gateway1:3000&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;max_fails=3&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fail_timeout=60&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;weight=1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fullstack_gateway2:3000&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;max_fails=3&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;fail_timeout=60&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;weight=1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;localhost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;access_log&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/log/nginx/fullstack.access.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;error_log&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/log/nginx/fullstack.error.log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.htm&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.nginx-debian.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;error_page&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;502&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;503&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;504&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;/50x.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/50x.html&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt;   &lt;span class=&quot;s&quot;&gt;/usr/share/nginx/html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;x-Forwarded-For&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;HOST&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$http_host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;X-Forwarded-Proto&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_redirect&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_connect_timeout&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_send_timeout&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_read_timeout&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://gateway&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;45-dns&quot;&gt;4.5 DNS&lt;/h2&gt;
&lt;p&gt;官方文档：&lt;a href=&quot;https://www.consul.io/docs/agent/dns.html&quot; target=&quot;_blank&quot;&gt;DNS Interface&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;使用上应该说是非常简便了，而且基本上对业务没什么侵入性。我之前做的实验项目里没使用这个功能，主要是因为需要改动主机的DNS，比较麻烦。&lt;/p&gt;

&lt;h2 id=&quot;46-application&quot;&gt;4.6 Application&lt;/h2&gt;
&lt;p&gt;Consul有不少语言对应的客户端，我的实验项目用过node.js的：&lt;a href=&quot;https://www.npmjs.com/package/consul&quot; target=&quot;_blank&quot;&gt;Consul&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;注册服务：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Consul&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;consul&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;exitHook&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;async-exit-hook&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;serviceId&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;uniqid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;consul&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Consul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;CONSUL_HOST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// fullstack_consul_client2&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;port&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;CONSUL_PORT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 8500&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;promisify&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;register&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;serverConf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getRaw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;consul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;serverConf.serviceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// server&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;serviceId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;address&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;SERVICE_HOST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;// fullstack_server3&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;port&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;serverConf.servicePort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 50051&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//${SERVICE_HOST}:${serverConf.webPort}/health`, // http://fullstack_server3:50052/health&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;10s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;ttl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;15s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cleanup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;consul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;agent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deregister&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;serviceId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;cleanup done&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// exit&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;exitHook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forceExitTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// wait 0.5s before force exit&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;exitHook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Process::exitHook - Got exit signal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;cleanup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// start&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;startServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;startWeb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;在服务启动的时候进行注册，并且记得要&lt;code&gt;处理程序退出&lt;/code&gt;，退出的时候需要将注册信息删除，否则即便应用程序退出了，在consul里那个服务还是存在的。&lt;/p&gt;

&lt;p&gt;客户端获取&lt;code&gt;可用节点&lt;/code&gt;：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;consul&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Consul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;CONSUL_HOST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;port&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;CONSUL_PORT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;promisify&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;servers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;consul&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;health&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;service&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;CONFIG.getRaw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;serviceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// server&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;passing&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                               &lt;span class=&quot;c1&quot;&gt;// get only living nodes&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IResHealthService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;47-health-check&quot;&gt;4.7 Health Check&lt;/h2&gt;
&lt;p&gt;官方文档：&lt;a href=&quot;https://www.consul.io/docs/agent/checks.html&quot; target=&quot;_blank&quot;&gt;Checks&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;在4.6的范例里也提到了，在注册服务的时候可以提供当前注册进consul的应用程序的健康检查设置，consul会使用HTTP请求来检查该URL，只要是200返回就表示该服务仍旧存活。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/consul-note/living_node.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;appendix&quot;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&quot;资料&quot;&gt;资料&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://my.oschina.net/qiangmzsx/blog/1634206&quot; target=&quot;_blank&quot;&gt;consul服务注册与服务发现的巨坑&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://juejin.im/post/5d2d0c736fb9a07eb67dc156&quot; target=&quot;_blank&quot;&gt;Node.js + Consul 实现服务注册、健康检查、配置中心&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.hi-linux.com/posts/36431.html&quot; target=&quot;_blank&quot;&gt;通过 Consul-Template 实现动态配置服务&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ID_APP_AGENT_HELP&quot;&gt;consul agent –help&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;docker run -it --rm consul:1.6.1 agent --help
Usage: consul agent &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;options&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

  Starts the Consul agent and runs &lt;span class=&quot;k&quot;&gt;until&lt;/span&gt; an interrupt is received. The
  agent represents a single node in a cluster.

HTTP API Options

  -datacenter&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Datacenter of the agent.

Command Options

  -advertise&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the advertise address to use.

  -advertise-wan&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets address to advertise on WAN instead of -advertise address.

  -allow-write-http-from&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Only allow write endpoint calls from given network. CIDR format,
     can be specified multiple times.

  -alt-domain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Alternate domain to use &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; DNS interface.

  -bind&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the &lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt; address &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; cluster communication.

  -bootstrap
     Sets server to bootstrap mode.

  -bootstrap-expect&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets server to expect bootstrap mode.

  -check_output_max_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the maximum output size &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; checks on this agent

  -client&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the address to &lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; client access. This includes RPC, DNS,
     HTTP, HTTPS and gRPC &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; configured&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.

  -config-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to a directory to &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; configuration files from. This
     will &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; every file ending in &lt;span class=&quot;s1&quot;&gt;&amp;#39;.json&amp;#39;&lt;/span&gt; as configuration in this
     directory in alphabetical order. Can be specified multiple times.

  -config-file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to a file in JSON or HCL format with a matching file
     extension. Can be specified multiple times.

  -config-format&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Config files are in this format irrespective of their extension.
     Must be &lt;span class=&quot;s1&quot;&gt;&amp;#39;hcl&amp;#39;&lt;/span&gt; or &lt;span class=&quot;s1&quot;&gt;&amp;#39;json&amp;#39;&lt;/span&gt;

  -data-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to a data directory to store agent state.

  -dev
     Starts the agent in development mode.

  -disable-host-node-id
     Setting this to &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; will prevent Consul from using information
     from the host to generate a node ID, and will cause Consul to
     generate a random node ID instead.

  -disable-keyring-file
     Disables the backing up of the keyring to a file.

  -dns-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     DNS port to use.

  -domain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Domain to use &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; DNS interface.

  -enable-local-script-checks
     Enables health check scripts from configuration file.

  -enable-script-checks
     Enables health check scripts.

  -encrypt&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Provides the gossip encryption key.

  -grpc-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the gRPC API port to listen on &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;currently needed &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; Envoy xDS
     only&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.

  -hcl&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     hcl config fragment. Can be specified multiple times.

  -http-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the HTTP API port to listen on.

  -join&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address of an agent to join at start time. Can be specified
     multiple times.

  -join-wan&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address of an agent to join -wan at start time. Can be specified
     multiple times.

  -log-file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to the file the logs get written to

  -log-level&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Log level of the agent.

  -log-rotate-bytes&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Maximum number of bytes that should be written to a log file

  -log-rotate-duration&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Time after which log rotation needs to be performed

  -log-rotate-max-files&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Maximum number of log file archives to keep

  -node&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Name of this node. Must be unique in the cluster.

  -node-id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     A unique ID &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; this node across space and time. Defaults to a
     randomly-generated ID that persists in the data-dir.

  -node-meta&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;key:value&amp;gt;
     An arbitrary metadata key/value pair &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; this node, of the format
     &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;key:value&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;. Can be specified multiple times.

  -non-voting-server
     &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Enterprise-only&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; This flag is used to make the server not
     participate in the Raft quorum, and have it only receive the data
     replication stream. This can be used to add &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; scalability to
     a cluster in cases where a high volume of reads to servers are
     needed.

  -pid-file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to file to store agent PID.

  -protocol&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the protocol version. Defaults to latest.

  -raft-protocol&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the Raft protocol version. Defaults to latest.

  -recursor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address of an upstream DNS server. Can be specified multiple times.

  -rejoin
     Ignores a previous leave and attempts to rejoin the cluster.

  -retry-interval&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Time to &lt;span class=&quot;nb&quot;&gt;wait&lt;/span&gt; between join attempts.

  -retry-interval-wan&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Time to &lt;span class=&quot;nb&quot;&gt;wait&lt;/span&gt; between join -wan attempts.

  -retry-join&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address of an agent to join at start &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; with retries enabled. Can
     be specified multiple times.

  -retry-join-wan&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address of an agent to join -wan at start &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; with retries
     enabled. Can be specified multiple times.

  -retry-max&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Maximum number of join attempts. Defaults to &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;, which will retry
     indefinitely.

  -retry-max-wan&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Maximum number of join -wan attempts. Defaults to &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;, which will
     retry indefinitely.

  -segment&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Enterprise-only&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Sets the network segment to join.

  -serf-lan-bind&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address to &lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt; Serf LAN listeners to.

  -serf-lan-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the Serf LAN port to listen on.

  -serf-wan-bind&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Address to &lt;span class=&quot;nb&quot;&gt;bind&lt;/span&gt; Serf WAN listeners to.

  -serf-wan-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the Serf WAN port to listen on.

  -server
     Switches agent to server mode.

  -server-port&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the server port to listen on.

  -syslog
     Enables logging to syslog.

  -ui
     Enables the built-in static web UI server.

  -ui-content-path&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Sets the external UI path to a string. Defaults to: /ui/

  -ui-dir&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&amp;lt;value&amp;gt;
     Path to directory containing the web UI resources.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;consul-help&quot;&gt;consul –help&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker run -it --rm consul:1.6.1 --help
Usage: consul &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--version&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--help&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &amp;lt;command&amp;gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&amp;lt;args&amp;gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

Available commands are:
    acl            Interact with Consul&lt;span class=&quot;s1&quot;&gt;&amp;#39;s ACLs&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;    agent          Runs a Consul agent&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;    catalog        Interact with the catalog&lt;/span&gt;
&lt;span class=&quot;s1&quot;&gt;    config         Interact with Consul&amp;#39;&lt;/span&gt;s Centralized Configurations
    connect        Interact with Consul Connect
    debug          Records a debugging archive &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; operators
    event          Fire a new event
    &lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt;           Executes a &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt; on Consul nodes
    force-leave    Forces a member of the cluster to enter the &lt;span class=&quot;s2&quot;&gt;&amp;quot;left&amp;quot;&lt;/span&gt; state
    info           Provides debugging information &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; operators.
    intention      Interact with Connect service intentions
    join           Tell Consul agent to join cluster
    keygen         Generates a new encryption key
    keyring        Manages gossip layer encryption keys
    kv             Interact with the key-value store
    leave          Gracefully leaves the Consul cluster and shuts down
    lock           Execute a &lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt; holding a lock
    login          Login to Consul using an auth method
    &lt;span class=&quot;nb&quot;&gt;logout&lt;/span&gt;         Destroy a Consul token created with login
    maint          Controls node or service maintenance mode
    members        Lists the members of a Consul cluster
    monitor        Stream logs from a Consul agent
    operator       Provides cluster-level tools &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; Consul operators
    reload         Triggers the agent to reload configuration files
    rtt            Estimates network round trip &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; between nodes
    services       Interact with services
    snapshot       Saves, restores and inspects snapshots of Consul server state
    tls            Builtin helpers &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; creating CAs and certificates
    validate       Validate config files/directories
    version        Prints the Consul version
    watch          Watch &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; changes in Consul&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Wed, 25 Dec 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/consul-note/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/consul-note/</guid>
			</item>
		
			<item>
				<title>使用Drone进行CI支持</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-概念&quot; id=&quot;markdown-toc-2-概念&quot;&gt;2. 概念&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-pipeline&quot; id=&quot;markdown-toc-21-pipeline&quot;&gt;2.1 &lt;a href=&quot;https://docs.drone.io/configure/pipeline/&quot; target=&quot;_blank&quot;&gt;pipeline&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-step&quot; id=&quot;markdown-toc-22-step&quot;&gt;2.2 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/steps/&quot; target=&quot;_blank&quot;&gt;step&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#23-workspace&quot; id=&quot;markdown-toc-23-workspace&quot;&gt;2.3 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/workspace/&quot; target=&quot;_blank&quot;&gt;workspace&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#24-trigger&quot; id=&quot;markdown-toc-24-trigger&quot;&gt;2.4 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/trigger/&quot; target=&quot;_blank&quot;&gt;trigger&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#25-condition&quot; id=&quot;markdown-toc-25-condition&quot;&gt;2.5 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/conditions/&quot; target=&quot;_blank&quot;&gt;condition&lt;/a&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-架构--multiple-pipeline--parallelism&quot; id=&quot;markdown-toc-3-架构--multiple-pipeline--parallelism&quot;&gt;3. 架构 &amp;amp; Multiple Pipeline &amp;amp; Parallelism&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#31-架构&quot; id=&quot;markdown-toc-31-架构&quot;&gt;3.1 架构&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#32-multiple-pipeline&quot; id=&quot;markdown-toc-32-multiple-pipeline&quot;&gt;3.2 Multiple Pipeline&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#33-parallelism&quot; id=&quot;markdown-toc-33-parallelism&quot;&gt;3.3 Parallelism&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-使用&quot; id=&quot;markdown-toc-4-使用&quot;&gt;4. 使用&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#41-server安装--运行&quot; id=&quot;markdown-toc-41-server安装--运行&quot;&gt;4.1 Server：安装 &amp;amp; 运行&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#411-oauth2准备&quot; id=&quot;markdown-toc-411-oauth2准备&quot;&gt;4.1.1 OAuth2准备&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#412-启动drone&quot; id=&quot;markdown-toc-412-启动drone&quot;&gt;4.1.2 启动drone&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#413-oauth2授权&quot; id=&quot;markdown-toc-413-oauth2授权&quot;&gt;4.1.3 OAuth2授权&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#414-ui同步--激活代码库&quot; id=&quot;markdown-toc-414-ui同步--激活代码库&quot;&gt;4.1.4 UI同步 &amp;amp; 激活代码库&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#415-api秘钥&quot; id=&quot;markdown-toc-415-api秘钥&quot;&gt;4.1.5 API秘钥&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#42-runner安装--运行&quot; id=&quot;markdown-toc-42-runner安装--运行&quot;&gt;4.2 Runner：安装 &amp;amp; 运行&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#421-安装&quot; id=&quot;markdown-toc-421-安装&quot;&gt;4.2.1 安装&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#422-运行&quot; id=&quot;markdown-toc-422-运行&quot;&gt;4.2.2 运行&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#43-ui秘钥设置&quot; id=&quot;markdown-toc-43-ui秘钥设置&quot;&gt;4.3 UI秘钥设置&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#44-私有registry&quot; id=&quot;markdown-toc-44-私有registry&quot;&gt;4.4 私有Registry&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#45-部署--多点事件触发&quot; id=&quot;markdown-toc-45-部署--多点事件触发&quot;&gt;4.5 部署 &amp;amp; 多点事件触发&lt;/a&gt;        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#451-drone-api--drone-cli&quot; id=&quot;markdown-toc-451-drone-api--drone-cli&quot;&gt;4.5.1 drone api | drone cli&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#452-plugin&quot; id=&quot;markdown-toc-452-plugin&quot;&gt;4.5.2 plugin&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#453-webhook-plugin&quot; id=&quot;markdown-toc-453-webhook-plugin&quot;&gt;4.5.3 webhook plugin&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#454-webhook-fake&quot; id=&quot;markdown-toc-454-webhook-fake&quot;&gt;4.5.4 webhook fake&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#455-waiting-hack&quot; id=&quot;markdown-toc-455-waiting-hack&quot;&gt;4.5.5 waiting hack&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;Drone是一个Golang技术栈的CI解决方案，功能和Jenkins之类的CI工具类似。&lt;/p&gt;

&lt;p&gt;优点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Golang编写，分发及搭建非常容易（镜像体积很小）&lt;/li&gt;
  &lt;li&gt;Golang编写，运行时占用资源极小（特指和Java栈的一系列工具比较）&lt;/li&gt;
  &lt;li&gt;构建运行时以镜像优先，保证在不同平台的构建结果一致&lt;/li&gt;
  &lt;li&gt;优秀的设计，支持插件化提供强大的功能支持&lt;/li&gt;
  &lt;li&gt;现代化的UI，开箱即用，甩开Jenkins之类有历史包袱的工具几条街&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;缺点：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;较年轻，文档工作需要强化&lt;/li&gt;
  &lt;li&gt;插件的数量和质量，以及插件的文档支持需要强化&lt;/li&gt;
  &lt;li&gt;功能尚不能说强大，和Jenkins之类的老牌CI相比差距较大&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;简单选择：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Drone：
    &lt;ul&gt;
      &lt;li&gt;小型团队，对新技术适应能力较强的团队&lt;/li&gt;
      &lt;li&gt;对功能的丰富性要求并不是很高，但要求性能强大功能稳定&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Jenkins：
    &lt;ul&gt;
      &lt;li&gt;对功能的丰富性要求较高，要求任何情况任何需求都能快速应对&lt;/li&gt;
      &lt;li&gt;运维人员对Jenkins非常熟悉可以很快上手使用&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;相关资源：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;官方站点：&lt;a href=&quot;https://drone.io/&quot; target=&quot;_blank&quot;&gt;drone.io&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;文档站点：&lt;a href=&quot;https://docs.drone.io/&quot; target=&quot;_blank&quot;&gt;docs.drone.io&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;官方论坛：&lt;a href=&quot;https://discourse.drone.io/&quot; target=&quot;_blank&quot;&gt;discourse.drone.io&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;2-概念&quot;&gt;2. 概念&lt;/h1&gt;
&lt;h2 id=&quot;21-pipeline&quot;&gt;2.1 &lt;a href=&quot;https://docs.drone.io/configure/pipeline/&quot; target=&quot;_blank&quot;&gt;pipeline&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;pipeline是drone的核心概念&lt;/li&gt;
  &lt;li&gt;pipeline一般负责完成一个&lt;code&gt;任务&lt;/code&gt;：构建、发布、部署，其内部会有多个行为共同组成一个pipeline&lt;/li&gt;
  &lt;li&gt;pipeline在drone里是进行分类的，按类型有多种种类，常用的有：
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/&quot; target=&quot;_blank&quot;&gt;docker&lt;/a&gt;：所有的构建行为都在临时docker容器内进行，跨平台保证行为一致
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://exec-runner.docs.drone.io/configuration/variables/&quot; target=&quot;_blank&quot;&gt;Environment Variables&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://exec-runner.docs.drone.io/configuration/&quot; target=&quot;_blank&quot;&gt;exec&lt;/a&gt;：所有的构建行为都在runner所在主机上进行，一般用在某些不方便放在容器内运行的工作，e.g xcode项目的构建
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/environment/variables/&quot; target=&quot;_blank&quot;&gt;Environment Variables&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://ssh-runner.docs.drone.io/configuration/&quot; target=&quot;_blank&quot;&gt;ssh&lt;/a&gt;：构建行为通过ssh执行远程命令进行
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://ssh-runner.docs.drone.io/configuration/variables/&quot; target=&quot;_blank&quot;&gt;Environment Variables&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;22-step&quot;&gt;2.2 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/steps/&quot; target=&quot;_blank&quot;&gt;step&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;pipeline里的每一个操作被称为&lt;code&gt;step&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;组织多个&lt;code&gt;step&lt;/code&gt;可以完成一个特定的pipeline，e.g
    &lt;ul&gt;
      &lt;li&gt;构建pipeline：clone、安装依赖、单元测试、打包、制作镜像、推送镜像&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;23-workspace&quot;&gt;2.3 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/workspace/&quot; target=&quot;_blank&quot;&gt;workspace&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;构建运行的工作空间，在不同的环境下其位置会有所不同&lt;/li&gt;
  &lt;li&gt;Posix系统（含docker容器），工作空间在：&lt;code&gt;/tmp/drone-${RANDOM}/drone/src&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;OSX系统，工作空间在：&lt;code&gt;/private/var/folders/...&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Win系统，工作空间在：&lt;code&gt;C:\windows\drone-%RANDOM%\drone\src&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;有一点要强调下，如果在bash脚本中访问当前pipeline的&lt;code&gt;~&lt;/code&gt;或&lt;code&gt;$HOME&lt;/code&gt;，获得的地址就是workspace的根目录，而&lt;code&gt;不是&lt;/code&gt;当前runner的用户home&lt;/li&gt;
  &lt;li&gt;此外，workspace是临时的，会在pipeline创建的时候产生，并在完成的时候被销毁&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;24-trigger&quot;&gt;2.4 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/trigger/&quot; target=&quot;_blank&quot;&gt;trigger&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;trigger决定当前的&lt;code&gt;pipeline&lt;/code&gt;是否要&lt;code&gt;触发&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;trigger有很多类型：
    &lt;ul&gt;
      &lt;li&gt;根据分支：e.g 是否dev分支&lt;/li&gt;
      &lt;li&gt;根据事件：e.g 是否tag事件（注意，tag和分支trigger不能同时存在，因为tag是不区分分支的）&lt;/li&gt;
      &lt;li&gt;根据reference：e.g refs/tags/**&lt;/li&gt;
      &lt;li&gt;根据代码库：e.g octocat/hello-world&lt;/li&gt;
      &lt;li&gt;根据runner实例：e.g drone.instance1.com&lt;/li&gt;
      &lt;li&gt;根据状态触发：e.g failure&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;25-condition&quot;&gt;2.5 &lt;a href=&quot;https://docker-runner.docs.drone.io/configuration/conditions/&quot; target=&quot;_blank&quot;&gt;condition&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;condition决定当前的&lt;code&gt;step&lt;/code&gt;是否要&lt;code&gt;触发&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;condition有很多类型：
    &lt;ul&gt;
      &lt;li&gt;根据分支：e.g 是否dev分支&lt;/li&gt;
      &lt;li&gt;根据事件：e.g 是否tag事件（注意，tag和分支condition不能同时存在，因为tag是不区分分支的）&lt;/li&gt;
      &lt;li&gt;根据reference：e.g refs/tags/**&lt;/li&gt;
      &lt;li&gt;根据代码库：e.g octocat/hello-world&lt;/li&gt;
      &lt;li&gt;根据runner实例：e.g drone.instance1.com&lt;/li&gt;
      &lt;li&gt;根据状态触发：e.g failure&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;3-架构--multiple-pipeline--parallelism&quot;&gt;3. 架构 &amp;amp; Multiple Pipeline &amp;amp; Parallelism&lt;/h1&gt;
&lt;h2 id=&quot;31-架构&quot;&gt;3.1 架构&lt;/h2&gt;
&lt;p&gt;Drone这个CI其实很简单，也说不上什么架构。一般Drone会有一个单点Server，在git工具上注册好webhook接收事件，然后启动多个Runner来处理Server上产生的任务。这些Runner可以在同一台主机上，也可以分散在多台不同的主机上，官方文档的指引中要求不要将runner和server放在同一台主机上。&lt;/p&gt;

&lt;h2 id=&quot;32-multiple-pipeline&quot;&gt;3.2 Multiple Pipeline&lt;/h2&gt;
&lt;p&gt;官方说明：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Drone supports configuring and orchestrating multiple pipelines. This is useful when you need to fan-out and distribute your build tasks across multiple machines to reduce build times, or to execute your build tasks across multiple platforms (e.g. amd64 and arm64).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;用途1：&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;在处理大型项目任务的时候，将任务拆散，分散到不同的物理机上进行并行处理，加速整个构建进程。如果是不同主机的话，需要用到&lt;code&gt;2.4&lt;/code&gt;提到的pipeline trigger，将不同的pipeline设定好自己的运行目标主机。保证同一个repo在不同主机上触发的时候，只有当前主机（runner）应该执行的pipeline得到执行。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;用途2：&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;确定pipeline之间的先后顺序，通过在pipeline一级定义&lt;code&gt;depends_on&lt;/code&gt;来申明相互之间的依赖关系。这里特别需要注意的是：pipeline之间是不共享workspace的。所以每一步都需要单独做类似于依赖安装之类的工作，这需要特别小心。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;p3&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;notify&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;p1&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;p2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;33-parallelism&quot;&gt;3.3 Parallelism&lt;/h2&gt;
&lt;p&gt;这部分内容与 Multiple Pipeline 的关系，和之前讲过的 trigger 与 condition 的关系一样。Multiple Pipeline 是pipeline级别的，而Parallelism则是step级别的，本质上仍旧是并行运行。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;

&lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;s3&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;s1&lt;/span&gt;
    &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;s2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;4-使用&quot;&gt;4. 使用&lt;/h1&gt;
&lt;h2 id=&quot;41-server安装--运行&quot;&gt;4.1 Server：安装 &amp;amp; 运行&lt;/h2&gt;
&lt;h3 id=&quot;411-oauth2准备&quot;&gt;4.1.1 OAuth2准备&lt;/h3&gt;
&lt;p&gt;需要在git repo软件上申请一个OAuth应用。这里我使用的是Gitea，就拿它来做演示：&lt;/p&gt;

&lt;p&gt;点击：&lt;code&gt;右上角头像 &amp;gt; 设置（下拉菜单） &amp;gt; 应用（页面中间）&lt;/code&gt;，打开的页面是管理用户级别的&lt;code&gt;Access Tokens&lt;/code&gt;和&lt;code&gt;OAuth2应用&lt;/code&gt;的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/oauth1.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;找到：&lt;code&gt;创建新的 OAuth2 应用程序&lt;/code&gt;这一栏，输入：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;应用名称：这名字后面用不到，填可理解的内容即可&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;重定向 URI&lt;/code&gt;：http://&lt;code&gt;${drone_host}:${drone_ip}&lt;/code&gt;/login&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/oauth2.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击&lt;code&gt;创建应用&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;在打开的页面上显示了OAuth2应用的相关信息，这里需要记下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;客户端ID&lt;/li&gt;
  &lt;li&gt;客户端秘钥&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/oauth3.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;412-启动drone&quot;&gt;4.1.2 启动drone&lt;/h3&gt;
&lt;p&gt;Golang应用程序，使用上最容易的方式仍旧是镜像：&lt;a href=&quot;https://hub.docker.com/r/drone/drone&quot; target=&quot;_blank&quot;&gt;drone/drone&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;drone服务器启动时的环境变量文档在：&lt;a href=&quot;https://docs.drone.io/installation/reference/&quot; target=&quot;_blank&quot;&gt;Drone Documentation &amp;gt; Installation &amp;gt; Reference&lt;/a&gt;。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker run -it -d &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --name drone-server &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -p &lt;span class=&quot;m&quot;&gt;18980&lt;/span&gt;:80 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --log-driver&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;json-file &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --log-opt max-size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;512m &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v /tmp/drone/data:/data &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# sqlite db file&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_LOGS_DEBUG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_LOGS_COLOR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_LOGS_PRETTY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_LOGS_TRACE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_AGENTS_ENABLED&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                                             &lt;span class=&quot;c1&quot;&gt;# drone server running with no agents, start runners manually&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_GITEA_SKIP_VERIFY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                                          &lt;span class=&quot;c1&quot;&gt;# gitea: use http protocol&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_GITEA_SERVER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://host.docker.internal:13000 &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                  &lt;span class=&quot;c1&quot;&gt;# gitea: server address with protocol&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_GITEA_CLIENT_ID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fd023edb-7976-4d50-a92f-b16612683240 &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;# gitea: oauth client id&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_GITEA_CLIENT_SECRET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;S4Q6PktE3dKNHPUzZrTdyNJsTThwal4doUWf6jf4eRA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# gitea: oauth client secret &lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_RPC_SECRET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;d9856af41ffe31f5e8025be020e981be &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                     &lt;span class=&quot;c1&quot;&gt;# drone: runner shall connect server with this secret&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_SERVER_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;host.docker.internal:18980 &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                          &lt;span class=&quot;c1&quot;&gt;# drone: server address without protocol&lt;/span&gt;
    -e &lt;span class=&quot;nv&quot;&gt;DRONE_SERVER_PROTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                                               &lt;span class=&quot;c1&quot;&gt;# drone: server with http protocol&lt;/span&gt;
    drone/drone:1.6.3&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;413-oauth2授权&quot;&gt;4.1.3 OAuth2授权&lt;/h3&gt;
&lt;p&gt;访问drone的地址：&lt;code&gt;http://host.docker.internal:18980&lt;/code&gt;，会跳转到gitea进行授权，授权完成后会跳转回drone。这时应该就已经以刚才制作OAuth2应用的用户身份登录drone了。&lt;/p&gt;

&lt;p&gt;这里说明下，因为gitea和drone都运行在容器内，他们之间相互访问是通过容器名来进行的，而host主机访问这两者都是通过loopback地址，两者之间存在差异，会导致OAuth的过程失败。因此这里统一使用docker MAC desktop版本的&lt;code&gt;host.docker.internal&lt;/code&gt;域名来贯通内部和外部。但需要额外修改host主机的&lt;code&gt;/etc/hosts&lt;/code&gt;配置，把这个host解析为loopback地址。&lt;/p&gt;

&lt;h3 id=&quot;414-ui同步--激活代码库&quot;&gt;4.1.4 UI同步 &amp;amp; 激活代码库&lt;/h3&gt;
&lt;p&gt;刚完成授权的账户是没有任何代码库的，打开drone首页发现是空列表（即便当前通过OAuth2授权的账号在gitea内有代码库）：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone1.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击右上角的&lt;code&gt;SYNC&lt;/code&gt;就会开始和gitea同步账户的代码库数据，完成后即可获得所有当前账号在gitea内所拥有的代码库列表：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone2.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这时候账号下的drone项目都是&lt;code&gt;未激活&lt;/code&gt;状态，需要点击面板上项目右边的&lt;code&gt;ACTIVATE&lt;/code&gt;进行激活：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone3.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;
&lt;img src=&quot;/resources/2019/12/drone-ci/drone4.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击&lt;code&gt;SAVE&lt;/code&gt;保存即可。经过这几个操作，drone即激活了对这几个代码库的webhook事件监听。&lt;/p&gt;

&lt;p&gt;至此为止drone本体的安装基本上完成了，后续还需要配置下runner。&lt;/p&gt;

&lt;h3 id=&quot;415-api秘钥&quot;&gt;4.1.5 API秘钥&lt;/h3&gt;
&lt;p&gt;点击右上角的用户头像，然后点击&lt;code&gt;User settings&lt;/code&gt;会打开用户的设置页面。在这个页面上能找到用户的token。如果有需要使用drone API的话（或者是cli命令行工具），这个token是必须的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone7.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;42-runner安装--运行&quot;&gt;4.2 Runner：安装 &amp;amp; 运行&lt;/h2&gt;
&lt;h3 id=&quot;421-安装&quot;&gt;4.2.1 安装&lt;/h3&gt;
&lt;p&gt;服务器设置完成后，如果没有单独安装和运行runner，服务器上所有触发的事件都会是&lt;code&gt;Pending&lt;/code&gt;状态，而且没有任何日志。&lt;/p&gt;

&lt;p&gt;关于Pending的debug，可以看下官方的一篇帖子：&lt;a href=&quot;https://discourse.drone.io/t/builds-are-stuck-in-pending-status/4437&quot; target=&quot;_blank&quot;&gt;Builds are Stuck in Pending Status&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;Runner的安装见官方文档：&lt;a href=&quot;https://docs.drone.io/installation/runners/&quot; target=&quot;_blank&quot;&gt;Drone Documentation &amp;gt; Installation &amp;gt; Runners&lt;/a&gt;。Runner也分不同的类型，一般常用的是：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.drone.io/installation/runners/exec/&quot; target=&quot;_blank&quot;&gt;Exec Runner&lt;/a&gt;：直接运行在主机上的runner&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.drone.io/installation/runners/docker/&quot; target=&quot;_blank&quot;&gt;Docker Runner&lt;/a&gt;：运行在docker容器内的runner&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Runner的类型和pipeline的类型并不要求一致，runner只是pipeline的运行者，不管是什么类型的pipeline，都可以在任何类型的runner上运作。举例来说，一个docker类型的pipeline，在exec runner上就会在主机上启动docker容器并运行，而docker runner则是直接在docker容器内运行。&lt;/p&gt;

&lt;h3 id=&quot;422-运行&quot;&gt;4.2.2 运行&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Exec Runner&lt;/strong&gt;  &lt;br /&gt;
Exec Runner需要手动在&lt;code&gt;~/.drone-runner-exec/config&lt;/code&gt;创建一个配置文件：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;DRONE_DEBUG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DRONE_LOG_FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp/drone-runner-exec.txt
&lt;span class=&quot;nv&quot;&gt;DRONE_LOG_FILE_MAX_SIZE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DRONE_RPC_DUMP_HTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DRONE_RPC_DUMP_HTTP_BODY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DRONE_RPC_PROTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http
&lt;span class=&quot;nv&quot;&gt;DRONE_RPC_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;host.docker.internal:18980
&lt;span class=&quot;nv&quot;&gt;DRONE_RPC_SECRET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;d9856af41ffe31f5e8025be020e981be
&lt;span class=&quot;nv&quot;&gt;DRONE_RUNNER_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.yarn/bin:&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.config/yarn/global/node_modules/.bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;更多的配置项可以查阅官方文档：&lt;a href=&quot;https://exec-runner.docs.drone.io/installation/reference/&quot; target=&quot;_blank&quot;&gt;Exec Runner &amp;gt; Installation &amp;gt; Configuration Reference&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;配置文件里最重要的是&lt;code&gt;DRONE_RPC_HOST&lt;/code&gt;&lt;code&gt;DRONE_RPC_SECRET&lt;/code&gt;这两项。修改完成后记得重启runner：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ drone-runner-exec service stop &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; drone-runner-exec service start&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Runner在执行pipeline操作时候的用户即是runner启动时的用户，这需要非常小心，否则会搞错用户导致权限错误。此外，在2.3 workspace的时候也提到过了，在runner执行pipeline的时候，&lt;code&gt;~&lt;/code&gt;指向的是workspace的根目录，而不是用户的home，这点要非常小心。&lt;/p&gt;

&lt;p&gt;举例来说，存放在&lt;code&gt;$HOME/.docker&lt;/code&gt;下的凭证在exec runner运行的时候是不可访问的（&lt;code&gt;~&lt;/code&gt;会定位到workspace而不是&lt;code&gt;$HOME&lt;/code&gt;），这会导致私有registry的访问失败。同样的，pipeline运行时的PATH也不同于用户自身的PATH，需要在配置文件中设置好&lt;code&gt;DRONE_RUNNER_PATH&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Docker Runner&lt;/strong&gt;  &lt;br /&gt;
这部分就非常简单了，无非就是一个docker容器，直接使用对应的官方镜像即可：&lt;a href=&quot;https://hub.docker.com/r/drone/drone-runner-docker&quot; target=&quot;_blank&quot;&gt;drone/drone-runner-docker&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;相关配置项可以查阅官方文档：&lt;a href=&quot;https://docker-runner.docs.drone.io/installation/reference/&quot; target=&quot;_blank&quot;&gt;Docker Runner &amp;gt; Installation &amp;gt; Configuration Reference&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;43-ui秘钥设置&quot;&gt;4.3 UI秘钥设置&lt;/h2&gt;
&lt;p&gt;在执行pipeline的时候不可避免需要访问一些密码秘钥之类的信息，而构建过程中，理论上runner只能访问代码库里的内容。这就造成了问题，因为代码库并不是安全的存放秘钥的地方。针对这样的问题，drone有对应的解决方案。&lt;/p&gt;

&lt;p&gt;在drone ui仓库的设置中，有一处：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone5.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;设置完成后，就会保存在drone系统中：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/drone6.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;后续在pipeline可以如下的形式进行访问：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;default&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;build&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;alpine&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;USERNAME&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;from_secret&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;docker_username&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;PASSWORD&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;from_secret&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;docker_password&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;更多关于secret的设置及访问，可以参见官方文档：&lt;a href=&quot;https://docs.drone.io/configure/secrets/&quot; target=&quot;_blank&quot;&gt;Drone Documentation &amp;gt; Configuration &amp;gt; Secrets&lt;/a&gt;。在这方面，drone支持得非常全面，甚至外部的加密设施也可以支持访问。&lt;/p&gt;

&lt;h2 id=&quot;44-私有registry&quot;&gt;4.4 私有Registry&lt;/h2&gt;
&lt;p&gt;在pipeline应用的过程中，比较常见的问题是对于私有registry的访问。毕竟现在的CI基本上都围绕着镜像打转，抓取镜像进行部署或者构建镜像向上推送都是常见需求。&lt;/p&gt;

&lt;p&gt;官方对此也有解决方案：&lt;a href=&quot;https://discourse.drone.io/t/how-to-pull-private-images-with-1-0/3155&quot; target=&quot;_blank&quot;&gt;How to pull private images with 1.0&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;45-部署--多点事件触发&quot;&gt;4.5 部署 &amp;amp; 多点事件触发&lt;/h2&gt;
&lt;p&gt;上述的内容基本上把CI的最基础的应用都讲到了，如果只是简单的&lt;code&gt;提交代码 &amp;gt; 触发webhook &amp;gt; drone pipeline&lt;/code&gt;这个流程的话，是没有问题的。&lt;/p&gt;

&lt;p&gt;那么接下来就可以考虑下稍微复杂点的需求：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;项目的构建和部署需要分开&lt;/li&gt;
  &lt;li&gt;构建定义为一个pipeline&lt;/li&gt;
  &lt;li&gt;部署定义为一个pipeline&lt;/li&gt;
  &lt;li&gt;部署pipeline应该由构建pipeline异步触发&lt;/li&gt;
  &lt;li&gt;部署pipeline应该和构建pipeline解耦，两者可能发生在完全隔离的两个物理机的runner上&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;然后我简单说下结论：在当前的版本（drone/drone:1.6.3），这个需求&lt;code&gt;做不到&lt;/code&gt;，如果是按官方的API和功能的话。而使用一些非官方的hacking思路，则可以做到&lt;code&gt;基本上一致的效果&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;根据一开始说的，如果单独只是一个构建pipeline，很简单就能做到。而如果要实现刚才列出的需求，就需要在构建pipeline完成并退出之前触发一个额外的事件，只要能触发额外的事件，再配合上：trigger &amp;amp; condition，保证代码库的pipeline启动的时候，只有部署pipeline进入工作，且只有正确的runner实例进入工作，那一切就通了。&lt;/p&gt;

&lt;p&gt;那么，能不能手动触发一个部署呢？研究了下官方的资料，发现正常途径基本上做不到，只有一些非正常的思路才可以做到。下面说下思路。&lt;/p&gt;

&lt;h3 id=&quot;451-drone-api--drone-cli&quot;&gt;4.5.1 drone api | drone cli&lt;/h3&gt;
&lt;p&gt;首先想到的是看看官方的API中有没有可用的命令（cli实际上就是官方API的封装）：&lt;a href=&quot;https://docs.drone.io/api/overview/&quot; target=&quot;_blank&quot;&gt;API文档&lt;/a&gt;、&lt;a href=&quot;https://docs.drone.io/cli/install/&quot; target=&quot;_blank&quot;&gt;CLI文档&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;发现官方有一个命令：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ drone build promote --help
  NAME:
     drone build promote - promote a build
  
  USAGE:
     drone build promote &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;command&lt;/span&gt; options&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &amp;lt;repo/name&amp;gt; &amp;lt;build&amp;gt; &amp;lt;environment&amp;gt;
  
  OPTIONS:
     --param value, -p value  custom parameters to be injected into the job environment. Format: &lt;span class=&quot;nv&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;value
     --format value           format output &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;default: &lt;span class=&quot;s2&quot;&gt;&amp;quot;...&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;结合&lt;code&gt;.drone.yml&lt;/code&gt;使用：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;exec&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;darwin&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;arch&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;amd64&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;echo &amp;quot;tested&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;tag&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;exec&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;build&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;darwin&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;arch&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;amd64&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;build&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;echo &amp;quot;built&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;tag&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;exec&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;notify&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;darwin&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;arch&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;amd64&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;notify&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;drone build promote fullstack/gateway 100 production&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;DRONE_SERVER&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;http://host.docker.internal:18980&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;DRONE_TOKEN&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;K5i8g6PMlLM3tWaPDRagigPkBrl1YKGu&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;tag&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;build&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;pipeline&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;exec&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;deploy&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;darwin&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;arch&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;amd64&lt;/span&gt;

&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;deploy&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;commands&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;echo &amp;quot;deployed&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;when&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;promote&lt;/span&gt;
      &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p p-Indicator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;production&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;测试后发现，如果&lt;code&gt;build&lt;/code&gt;参数给的是已经存在的构建的话，则会重复之前的构建流程；而如果给的是一个很大的不存在该build的值（比如上面举例的100），则构建在notify这一步失败，并报错：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;+ drone build promote fullstack/gateway &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt; production
client error &lt;span class=&quot;m&quot;&gt;404&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;sql: no rows in result set&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;查找了下相关资料，并没有找到官方文档，仅在论坛中找到几篇讨论：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://discourse.drone.io/t/manually-trigger-a-build/874/8&quot; target=&quot;_blank&quot;&gt;Manually trigger a build&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://discourse.drone.io/t/promoting-a-build-by-branch/4755&quot; target=&quot;_blank&quot;&gt;Promoting a build by branch&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/drone/drone/issues/2679#issue-435262568&quot; target=&quot;_blank&quot;&gt;Trigger build for Branch, Commit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;根据官方人员的解释：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When you deploy, you are essentially “promoting” a build, which means you need to provide the build number you are promoting, and the environment you are promoting to. For example:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;drone deploy octocat/hello-world 42 production&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;In the above example, you are promoting build 42 to production. This will execute a deployment event in the system with environment name production.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;也就是说你只能对&lt;code&gt;已经存在&lt;/code&gt;的build进行触发让这个&lt;code&gt;已经测试构建完成的&lt;/code&gt;build进行部署，而不能从头创建一个新的build。也就是说，上述的工具能大致满足上面提出的那串需求，但本质上还是不同的：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;测试构建等必须是一个单独的行为，需要先行做完，并形成一个完成的build&lt;/li&gt;
  &lt;li&gt;需要手动触发（因为你需要确认build号，所以这个行为必然是手动的，不可能自动化）这个完成的build，让yaml中配置为promote的event触发，进行部署&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;452-plugin&quot;&gt;4.5.2 plugin&lt;/h3&gt;
&lt;p&gt;官方有一个插件叫：&lt;a href=&quot;http://plugins.drone.io/drone-plugins/drone-downstream/&quot; target=&quot;_blank&quot;&gt;Downstream Build&lt;/a&gt;。乍看之下貌似是满足需求的，但我实际扒了下源码，发现这个插件的本质其实就是封装了下官方的API。所以实际上和4.5.1一样，不行。&lt;/p&gt;

&lt;h3 id=&quot;453-webhook-plugin&quot;&gt;4.5.3 webhook plugin&lt;/h3&gt;
&lt;p&gt;后续的思路是尝试使用webhook插件，在构建pipeline完成之后用webhook触发一个构建：&lt;a href=&quot;http://plugins.drone.io/drone-plugins/drone-webhook/&quot; target=&quot;_blank&quot;&gt;Webhook&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;文档工作总是半吊子，参数有几个根本不知道具体应该填什么，只能随便尝试下：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ docker run --rm &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;PLUGIN_URLS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://host.docker.internal:18980/hook &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;PLUGIN_USERNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;root &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;PLUGIN_PASSWORD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Abcd1234_ &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;PLUGIN_DEBUG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;PLUGIN_SKIP_VERIFY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;DRONE_REPO_OWNER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fullstack &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;DRONE_REPO_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;gateway &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;DRONE_COMMIT_SHA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2087d78f48 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;DRONE_COMMIT_BRANCH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;master &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          -e &lt;span class=&quot;nv&quot;&gt;DRONE_BUILD_EVENT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;deployment &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          plugins/webhook:latest
Webhook &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
  URL: http://host.docker.internal:18980/hook
  METHOD: POST
  HEADERS: map&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Authorization:&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Basic &lt;span class=&quot;nv&quot;&gt;cm9vdDpBYmNkMTIzNF8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=]&lt;/span&gt; Content-Type:&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;application/json&lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
  REQUEST BODY: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;repo&amp;quot;&lt;/span&gt;:&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;owner&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;fullstack&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;gateway&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;build&amp;quot;&lt;/span&gt;:&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;tag&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;event&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;deployment&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;:0,&lt;span class=&quot;s2&quot;&gt;&amp;quot;commit&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;2087d78f48&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;ref&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;refs/heads/master&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;branch&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;master&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;status&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;success&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;link&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;started&amp;quot;&lt;/span&gt;:0,&lt;span class=&quot;s2&quot;&gt;&amp;quot;created&amp;quot;&lt;/span&gt;:0&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt;

  RESPONSE STATUS: &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt; OK
  RESPONSE BODY:&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;返回结果是200，正常，但结果本身为&lt;code&gt;空&lt;/code&gt;。查看drone的UI发现实际上没有任何build被触发。这就很无奈了，这里的问题可能出在：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;操作者：给的参数不正确&lt;/li&gt;
  &lt;li&gt;webhook插件：没有发送正确的webhook请求&lt;/li&gt;
  &lt;li&gt;drone服务器：忽略了不正确的webhook请求&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;无论如何，后续如果要继续的话就需要看源码了，插件的以及服务器的源码。&lt;/p&gt;

&lt;h3 id=&quot;454-webhook-fake&quot;&gt;4.5.4 webhook fake&lt;/h3&gt;
&lt;p&gt;到这里就是非正常思路了。&lt;/p&gt;

&lt;p&gt;因为gitea可以正常触发drone的webhook，思路就是使用curl仿造gitea的请求，发送到drone。其实drone官方也有对webhook的描述：&lt;a href=&quot;https://discourse.drone.io/t/how-to-use-global-webhooks/3755&quot; target=&quot;_blank&quot;&gt;How to use Global Webhooks&lt;/a&gt;，但实在是没什么正式的支持，API之类的易用性的工具都没有，只有这篇文章。&lt;/p&gt;

&lt;p&gt;gitea官方有webhook相关的文档：&lt;a href=&quot;https://docs.gitea.io/en-us/webhooks/&quot; target=&quot;_blank&quot;&gt;Webhooks&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;gitea的钩子可以在这里找到，点击下面的链接可以查看请求细节：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/resources/2019/12/drone-ci/gitea1.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;
&lt;img src=&quot;/resources/2019/12/drone-ci/gitea2.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;
&lt;img src=&quot;/resources/2019/12/drone-ci/gitea3.png&quot; alt=&quot;&quot; target=&quot;_blank&quot; /&gt;&lt;/p&gt;

&lt;p&gt;当然这也非常麻烦，而且gitea发送出去的webhook请求里有非常多repo详细信息，如果要做到自动化的话，这块的获取也是很麻烦的一件事情。&lt;/p&gt;

&lt;h3 id=&quot;455-waiting-hack&quot;&gt;4.5.5 waiting hack&lt;/h3&gt;
&lt;p&gt;另一个非正常思路就是定义一个pipeline，仅在指定的runner上运行，然后命令中执行脚本，查询私有registry，看目标仓库（镜像）的目标tag是否存在，存在的话就进行部署。而在其他的runner上进行构建和镜像推送操作。&lt;/p&gt;

&lt;p&gt;这样就能做到一开始提的需求，虽然恶心了点。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Mon, 23 Dec 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/drone-ci/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/drone-ci/</guid>
			</item>
		
			<item>
				<title>在Docker中使用Node</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-镜像制作&quot; id=&quot;markdown-toc-2-镜像制作&quot;&gt;2. 镜像制作&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#21-npm&quot; id=&quot;markdown-toc-21-npm&quot;&gt;2.1 npm&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#22-镜像制作&quot; id=&quot;markdown-toc-22-镜像制作&quot;&gt;2.2 镜像制作&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#23-镜像stage&quot; id=&quot;markdown-toc-23-镜像stage&quot;&gt;2.3 镜像stage&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-集群处理及反向代理&quot; id=&quot;markdown-toc-3-集群处理及反向代理&quot;&gt;3. 集群处理及反向代理&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#31-pm2--nginx&quot; id=&quot;markdown-toc-31-pm2--nginx&quot;&gt;3.1 pm2 + nginx&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#32-docker-compose--nginx&quot; id=&quot;markdown-toc-32-docker-compose--nginx&quot;&gt;3.2 docker-compose + nginx&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-健康检查&quot; id=&quot;markdown-toc-4-健康检查&quot;&gt;4. 健康检查&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;在Docker中使用Node，中间遇到了相当多的问题，这里就简单记录下，以防忘记。下述的所有范例都是使用typescript进行逻辑编写的，并在Docker中进行编译制作镜像的，周知。&lt;/p&gt;

&lt;h1 id=&quot;2-镜像制作&quot;&gt;2. 镜像制作&lt;/h1&gt;
&lt;h2 id=&quot;21-npm&quot;&gt;2.1 npm&lt;/h2&gt;
&lt;p&gt;在Dockerfile里的npm安装记得要加上&lt;code&gt;--unsafe-perm&lt;/code&gt;，具体可以看：&lt;a href=&quot;https://github.com/grpc/grpc-node/issues/604&quot; target=&quot;_blank&quot;&gt;grpc/grpc-node#604&lt;/a&gt;。&lt;/p&gt;

&lt;h2 id=&quot;22-镜像制作&quot;&gt;2.2 镜像制作&lt;/h2&gt;
&lt;p&gt;Docker的&lt;code&gt;COPY&lt;/code&gt;命令是将命令对应的文件夹&lt;code&gt;下&lt;/code&gt;的所有内容拷贝到目标位置，而不包含命令中的文件夹本身，这是必须先了解的基础。&lt;/p&gt;

&lt;p&gt;一般来说node项目的资源都会比较多比较散，不会像go应用程序一样build完成之后就是一个binary文件，node会有很多零碎的文件和代码都必须拷贝到镜像里。这里就需要先制作一个context。&lt;/p&gt;

&lt;p&gt;假设项目的文件夹结构如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/- 
 | bash /-              # bash脚本
 |       | compose.sh   # 制作compose配置文件的脚本
 |       | docker.sh    # 制作镜像的脚本
 | build                # 编译完成的js文件
 | node_modules         # npm包
 | schema               # sql文件
 | src                  # typescript源码
 | .gitignore
 | Dockerfile
 | package.json
 | config.yml
 | README.md
 | tsconfig.json
 | tslint.json
 | yarn.lock
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;则可以使用如下脚本制作一个context子集，并进行镜像制作：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;FULLPATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;dirname &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt; -P &lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;FULLPATH&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;/..

&lt;span class=&quot;nv&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;cat ./package.json &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq -r &lt;span class=&quot;s1&quot;&gt;&amp;#39;.version&amp;#39;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# prepare docker context&lt;/span&gt;
rm -rf ./docker                 &lt;span class=&quot;c1&quot;&gt;# 删除之前的context，如果有的话&lt;/span&gt;
mkdir -p ./docker/context       &lt;span class=&quot;c1&quot;&gt;# 制作context文件夹&lt;/span&gt;
mkdir -p ./docker/context/pm2   &lt;span class=&quot;c1&quot;&gt;# 制作PM2日志文件夹，后面会说到&lt;/span&gt;
cp -r &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                        &lt;span class=&quot;c1&quot;&gt;# 拷贝制作镜像需要的资源到context内&lt;/span&gt;
    src &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    config.yml &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    package.json &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    tsconfig.json &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    tslint.json &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    yarn.lock &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    ./docker/context

&lt;span class=&quot;c1&quot;&gt;# build image&lt;/span&gt;
docker build &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --no-cache &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --tag your_app_name:&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --file ./Dockerfile &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    ./docker

&lt;span class=&quot;c1&quot;&gt;# remove images without tags&lt;/span&gt;
docker rmi &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;docker images &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; awk &lt;span class=&quot;s1&quot;&gt;&amp;#39;/^&amp;lt;none&amp;gt;/ {print $3}&amp;#39;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# 当制作tag重复的镜像时，这个命令就很有用&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# remove tmp file&lt;/span&gt;
rm -rf ./docker

&lt;span class=&quot;c1&quot;&gt;# push image&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;ORIGIN_TAG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;you_app_name:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;TARGET_TAG&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;your_dockerhub_account/you_app_name:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
docker tag &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ORIGIN_TAG&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;TARGET_TAG&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;
docker push &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;TARGET_TAG&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;23-镜像stage&quot;&gt;2.3 镜像stage&lt;/h2&gt;
&lt;p&gt;node的镜像在制作过程中，需要一些命令进行辅助，而这些命令在基准的node镜像上是不存在的，因此就需要在Dockerfile中先npm安装它们。比如说typescript、yarn等。而这些安装行为都会显著增大镜像的体积，因此这里就需要使用到按stage进行构建的技术。&lt;/p&gt;

&lt;p&gt;官方文档在：&lt;a href=&quot;https://docs.docker.com/develop/develop-images/multistage-build/&quot; target=&quot;_blank&quot;&gt;Use multi-stage builds&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;先放一个例子：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-docker&quot; data-lang=&quot;docker&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; node:10.16.3-alpine as builder&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;WORKDIR&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; /opt&lt;/span&gt;

COPY ./context ./

&lt;span class=&quot;k&quot;&gt;RUN&lt;/span&gt; npm i typescript -g --unsafe-perm &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    npm i --only&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;prod --unsafe-perm --loglevel verbose &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    tsc

&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; node:10.16.3-alpine&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;WORKDIR&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; /app&lt;/span&gt;

COPY --from&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;builder /opt .

&lt;span class=&quot;k&quot;&gt;ENTRYPOINT&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; [&amp;quot;node&amp;quot;, &amp;quot;./build/index.js&amp;quot;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;该Dockerfile的上半部分将&lt;code&gt;./context&lt;/code&gt;下的所有内容拷贝到&lt;code&gt;/opt&lt;/code&gt;这个工作路径下。然后安装了typescript，并根据&lt;code&gt;package.json&lt;/code&gt;的内容进行npm包的安装。接下来使用刚才安装好的typescript命令&lt;code&gt;tsc&lt;/code&gt;根据&lt;code&gt;tsconfig.json&lt;/code&gt;的配置将src文件夹下的源码编译为&lt;code&gt;build&lt;/code&gt;文件夹下的js源码。&lt;/p&gt;

&lt;p&gt;从下半部分的&lt;code&gt;FROM node:10.16.3-alpine&lt;/code&gt;开始，起了一个干净的node镜像，并将&lt;code&gt;builder&lt;/code&gt;这个阶段做好的内容从builder阶段的&lt;code&gt;/opt&lt;/code&gt;文件夹下拷贝到&lt;code&gt;/app&lt;/code&gt;下。这里仍旧需要注意&lt;code&gt;COPY&lt;/code&gt;命令是不会拷贝目标文件夹自身的，只会拷贝文件夹下的内容。这样制作完成的镜像中就不会包含之前安装的typescript了。&lt;/p&gt;

&lt;p&gt;这个例子简单了点，只有一个typescript，如果在构建过程中还要用到一些其他东西的话，效果（体积变化）就会非常明显。&lt;/p&gt;

&lt;h1 id=&quot;3-集群处理及反向代理&quot;&gt;3. 集群处理及反向代理&lt;/h1&gt;
&lt;p&gt;node作为一个单进程单线程的应用程序，在利用CPU上实在是不行，所以就需要一些外部程序的辅助来充分利用物理CPU。一般有两个解决方案。下述解决方案中的Nginx跑在容器里或跑在主机上都是可以的，没有任何区别。&lt;/p&gt;

&lt;h2 id=&quot;31-pm2--nginx&quot;&gt;3.1 pm2 + nginx&lt;/h2&gt;
&lt;p&gt;这个解决方案只需要启动一个应用程序容器，在容器内使用PM2对应用程序进行cluster化，由PM2监听单个端口并转发所有的进入请求。在应用程序容器之外，由Nginx处理所有到达主机的请求。&lt;/p&gt;

&lt;p&gt;这里就涉及到在容器内使用PM2。首先需要安装PM2，需要在之前范例中的Dockerfile中的&lt;code&gt;COPY --from=builder /opt .&lt;/code&gt;之后添加一行：&lt;code&gt;RUN npm i pm2 -g --unsafe-perm --loglevel verbose&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;然后在容器运行的&lt;code&gt;ENTRYPOINT&lt;/code&gt;上，需要修改成：&lt;code&gt;ENTRYPOINT [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;./build/index.js&quot;]&lt;/code&gt;。这里注意，启动命令中使用的不是&lt;code&gt;pm2&lt;/code&gt;而是&lt;code&gt;pm2-runtime&lt;/code&gt;。这个命令是为了在容器内使用而专门特化出来的，普通的pm2命令在启动后就会转后台，导致容器退出。&lt;/p&gt;

&lt;p&gt;此外，在使用时可以附加一些参数：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;docker run -d -it --name your_app_name &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -p &lt;span class=&quot;m&quot;&gt;3000&lt;/span&gt;:3000 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -v dir_of_host:/app/pm2 &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                      &lt;span class=&quot;c1&quot;&gt;# 映射到主机上的日志文件路径&lt;/span&gt;
    your_app_name:version &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --name&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;your_app_name_in_pm2 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    --instances&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;max &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;                              &lt;span class=&quot;c1&quot;&gt;# 以cluster模式启动pm2，并按CPU数量启动node应用的进程&lt;/span&gt;
    --output&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/app/pm2/your_app_name.stdout.log &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# 输出日志到pm2文件夹下，也就是之前在做context时特地做出来的文件夹&lt;/span&gt;
    --error&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/app/pm2/your_app_name.stderr.log &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;32-docker-compose--nginx&quot;&gt;3.2 docker-compose + nginx&lt;/h2&gt;
&lt;p&gt;这个方案比较粗暴，之前提到的Dockerfile不需要改动，容器仍旧只有一个进程一个线程，容器本身并不做任何改动。而是使用docker-compose命令启动多个容器，然后在Nginx中配置upstream来进行反向代理负载均衡。&lt;/p&gt;

&lt;p&gt;使用如下bash脚本来生成compose配置文件：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;FULLPATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;dirname &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt; -P &lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;FULLPATH&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;/..

&lt;span class=&quot;nv&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;cat ./package.json &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; jq -r &lt;span class=&quot;s1&quot;&gt;&amp;#39;.version&amp;#39;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;CONF&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;FULLPATH&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;/../compose.yml

&lt;span class=&quot;nv&quot;&gt;PROCESS_COUNT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;PORT_BASE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3000&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;COMPOSE_TEMPLATE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;-EOC&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;version: &amp;quot;2.1&amp;quot;&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;networks:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  net:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    driver: bridge&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;services:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;EOC&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; generate_compose&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;OUTPUT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;COMPOSE_TEMPLATE&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; i&amp;lt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PROCESS_COUNT&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; i++ &lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;PORT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$((&lt;/span&gt;PORT_BASE &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; ID&lt;span class=&quot;k&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;SERVICE_TEMPLATE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;-EOS&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  you_app_name_${ID}:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    image: your_dockerhub_account/you_app_name:${VERSION}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    container_name: you_app_name_${ID}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    hostname: you_app_name_${ID}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    networks:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      - net&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    ports:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      - ${PORT}:3000&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    logging:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      driver: json-file&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      options:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;        max-size: 512m&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    restart: always&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    volumes:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      - dir_of_host:/app/pm2&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    command: [&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      &amp;quot;--name=your_app_name_in_pm2_${ID}&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      &amp;quot;--instances=max&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      &amp;quot;--output=/app/pm2/your_app_name_${ID}.stdout.log&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;      &amp;quot;--error=/app/pm2/your_app_name_${ID}.stderr.log&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    ]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;EOS&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;NL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;$&amp;#39;\n&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;OUTPUT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;OUTPUT&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;NL&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SERVICE_TEMPLATE&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;OUTPUT&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt; &amp;gt; &lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CONF&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

generate_compose&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;当然也可以编写一个脚本来制作nginx的配置文件，这里就简略点，直接改了：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;upstream upstream_node &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3001 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3002 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3003 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3004 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3005 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3006 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3007 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.0.0.1:3008 &lt;span class=&quot;nv&quot;&gt;max_fails&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;fail_timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

server &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    listen &lt;span class=&quot;m&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    listen &lt;span class=&quot;m&quot;&gt;443&lt;/span&gt; ssl&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    ssl_protocols TLSv1 TLSv1.1 TLSv1.2&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_prefer_server_ciphers on&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    ssl_certificate         cert/yourapp.youhost.com.key.pem&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_certificate_key     cert/yourapp.youhost.com.key&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_dhparam             cert/dhparam.pem&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    access_log /var/log/nginx/yourapp.youhost.com.access.log&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    error_log /var/log/nginx/yourapp.youhost.com.error.log&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    root /usr/share/nginx/html&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    index index.html index.htm&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    server_name yourapp.youhost.com&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    location / &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        proxy_set_header x-Forwarded-For &lt;span class=&quot;nv&quot;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_set_header HOST &lt;span class=&quot;nv&quot;&gt;$http_host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_set_header X-Forwarded-Proto https&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_redirect http:// https://&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_connect_timeout &lt;span class=&quot;m&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_send_timeout &lt;span class=&quot;m&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_read_timeout &lt;span class=&quot;m&quot;&gt;240&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_pass http://upstream_node&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;4-健康检查&quot;&gt;4. 健康检查&lt;/h1&gt;
&lt;p&gt;在容器内运行的node程序，可以设置一个专门用来进行健康检查的端点，然后在运行时进行配置，这样docker就可以了解程序是否存活。在配合consul等服务发现程序使用时，也可以使用该端点。&lt;/p&gt;

&lt;p&gt;应用程序代码改动：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-typescript&quot; data-lang=&quot;typescript&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;: &lt;span class=&quot;kt&quot;&gt;Koa.Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;/health&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;OK&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Docker compose yml改动：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;restart&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;always&lt;/span&gt;
&lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;healthcheck&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;wget http://127.0.0.1:3000/health -q -O - &amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10s&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;20s&lt;/span&gt;
  &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;retries&lt;/span&gt;&lt;span class=&quot;p p-Indicator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;l l-Scalar l-Scalar-Plain&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Wed, 11 Dec 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/12/node-in-docker/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/12/node-in-docker/</guid>
			</item>
		
			<item>
				<title>在VirtualBox中安装Tor</title>
				<description>&lt;h4&gt;Table of Contents&lt;/h4&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#1-前言&quot; id=&quot;markdown-toc-1-前言&quot;&gt;1. 前言&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#2-virtualbox&quot; id=&quot;markdown-toc-2-virtualbox&quot;&gt;2. VirtualBox&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#3-linux&quot; id=&quot;markdown-toc-3-linux&quot;&gt;3. Linux&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#4-tor&quot; id=&quot;markdown-toc-4-tor&quot;&gt;4. Tor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;1-前言&quot;&gt;1. 前言&lt;/h1&gt;
&lt;p&gt;就是一篇简单的笔记。&lt;/p&gt;

&lt;h1 id=&quot;2-virtualbox&quot;&gt;2. VirtualBox&lt;/h1&gt;
&lt;p&gt;这块不需要很详细的讲解，基本上只要从官网下载binary直接使用即可。镜像需要提前下载好，VirtualBox安装比较奇怪的一点是，虚拟机的创建和操作系统的安装是分开的，会先创建出虚拟机实例，然后才是加载镜像进行虚拟机操作系统的安装。这点有点和其他的虚拟机不太相同。&lt;/p&gt;

&lt;p&gt;VirtualBox虚拟机的显示自适应需要额外设置，比较麻烦。显示设置的屏幕里，需要把显卡控制器改成：&lt;code&gt;VBoxSVGA&lt;/code&gt;。&lt;/p&gt;

&lt;h1 id=&quot;3-linux&quot;&gt;3. Linux&lt;/h1&gt;
&lt;p&gt;这里使用的是Ubuntu Desktop版本，因为后续安装和使用Tor最简单的做法就是直接使用官方的Tor Browser，也正因此需要桌面版本的操作系统。如果对安全有更高的要求，可以使用FreeBSD操作系统。&lt;/p&gt;

&lt;p&gt;软件安装：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get install build-essential
$ sudo apt-get install wget vim&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;安装virtualbox的辅助程序&lt;code&gt;Devices &amp;gt; Insert Guest Additions CD Image&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;按个人喜好，可选安装：&lt;a href=&quot;https://linuxize.com/post/how-to-install-sublime-text-3-on-ubuntu-18-04/&quot; target=&quot;_blank&quot;&gt;sublime text3&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;安装privoxy，用来给需要HTTP代理的应用程序做前置入口，将这些HTTP流量转为socks5流量，进入到tor：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;$ sudo apt-get install privoxy&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;修改配置文件&lt;code&gt;/etc/privoxy/config&lt;/code&gt;：添加&lt;code&gt;forward-socks5 / localhost:9150 .&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;后续可以在命令行下设置：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;http_proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://127.0.0.1:8118
&lt;span class=&quot;nb&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;https_proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://127.0.0.1:8118&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;命令行流量就全走tor了。命令行下，可以使用&lt;code&gt;curl ipinfo.io&lt;/code&gt;来查看当前IP的位置。&lt;/p&gt;

&lt;p&gt;在tor安装成功之前，虚拟机肯定也是需要代理的，否则tor软件根本下不下来。可以通过Linux操作系统&lt;code&gt;网络配置&lt;/code&gt;设置代理：&lt;/p&gt;

&lt;p&gt;将所有的HTTP(s)代理设置成：192.168.xx.xx:xxxx，socks设置成192.168.xx.xx:xxxx。&lt;/p&gt;

&lt;p&gt;命令行下则：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;http_proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://192.168.xx.xx:xxxx
&lt;span class=&quot;nb&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;https_proxy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://192.168.xx.xx:xxxx&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;4-tor&quot;&gt;4. Tor&lt;/h1&gt;
&lt;p&gt;安装就直接从官网上下载Tor Browser，解压即可使用。配置文件位置：&lt;code&gt;Browser/TorBrowser/Data/Tor/torrc&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;国内使用的时候必须使用网桥，按软件提示直接选一个可用的网桥，或从数据库申请一个网桥即可。注意，从数据库申请下来的网桥不一定就是可用的，还是需要连接测试。如果有条件的话，可以在Tor Browser之前再自己做一个跳板，这样效果会好很多，无论是从隐匿性上来说，还是从可用性上来说。&lt;/p&gt;

&lt;p&gt;Tor Browser在连接完成之后，会在本地打开一个端口&lt;code&gt;9150&lt;/code&gt;，提供本地的socks5连接。但软件并不提供HTTP和HTTPS代理，需要之前提到过的privoxy软件进行转换即可。&lt;/p&gt;

&lt;p&gt;对Tor的节点进行限制，直接在之前提到的配置文件里添加内容即可，注意不要修改网桥相关的配置内容，那些是软件自动生成添加的：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;## 以下为排除的节点(StrictNodes 1为坚决执行)&lt;/span&gt;
ExcludeNodes &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;hk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;mo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kp&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ir&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cu&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;vn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ru&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;by&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sd&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kz&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;uz&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;pk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kg&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tj&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tm&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tr&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sy&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sg&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;th&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ph&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;my&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;lk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
ExcludeExitNodes &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;hk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;mo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kp&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ir&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cu&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;vn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ru&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;by&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sd&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kz&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;uz&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;pk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kg&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tj&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tm&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;tr&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sy&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sg&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;th&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ph&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;my&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;lk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#ExcludeNodes 是指排除节点，即把括号中的国家的节点从tor链路上除去&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#ExcludeExitNodes 是指“排除“出口”节点”，即tor的出口节点要排除括号中的国家的节点&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## 指定出口节点：&lt;/span&gt;
StrictNodes &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
ExitNodes &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;us&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#这里us是指限定美国的ip为出口ip，你可以改为任何国家，国家代码请参考：https://zh.wikipedia.org/zh-cn/ISO_3166-1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;轻量级过滤：&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;&lt;/span&gt;ExcludeNodes &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;hk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;mo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
ExcludeExitNodes &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;hk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;mo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;kp&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ir&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;cu&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;vn&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sd&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;pk&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;sy&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
StrictNodes &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;EOF&lt;/p&gt;
&lt;/blockquote&gt;
</description>
				<pubDate>Fri, 20 Sep 2019 10:36:22 +0800</pubDate>
				<link>https://xenojoshua.com/2019/09/virtualbox-tor/</link>
				<guid isPermaLink="true">https://xenojoshua.com/2019/09/virtualbox-tor/</guid>
			</item>
		
	</channel>
</rss>
