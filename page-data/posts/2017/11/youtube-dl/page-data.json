{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2017/11/youtube-dl","result":{"data":{"markdownRemark":{"id":"0c015dfd-5f4d-5794-a023-7cce925946d7","html":"<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#0-%E5%89%8D%E8%A8%80\">0. 前言</a></li>\n<li><a href=\"#1-%E5%AE%89%E8%A3%85\">1. 安装</a></li>\n<li><a href=\"#2-%E4%BD%BF%E7%94%A8\">2. 使用</a></li>\n</ul>\n</div>\n<h2 id=\"0-前言\" style=\"position:relative;\"><a href=\"#0-%E5%89%8D%E8%A8%80\" aria-label=\"0 前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>0. 前言</h2>\n<p>油管视频的质量和内容都真的太好了，不是国内的视频网站能比的，有的时候当然也会有下载的需求。网上有不少下载工具，但不是有广告、不好用，就是收费。有次在github上找到一个开源的命令行工具，相当好用，这里做个笔记。</p>\n<p>链接：<a href=\"https://github.com/rg3/youtube-dl\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/rg3/youtube-dl</a></p>\n<h2 id=\"1-安装\" style=\"position:relative;\"><a href=\"#1-%E5%AE%89%E8%A3%85\" aria-label=\"1 安装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 安装</h2>\n<blockquote>\n<p>brew install youtube-dl</p>\n</blockquote>\n<h2 id=\"2-使用\" style=\"position:relative;\"><a href=\"#2-%E4%BD%BF%E7%94%A8\" aria-label=\"2 使用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 使用</h2>\n<p>基本命令使用：    </p>\n<blockquote>\n<p>youtube-dl [OPTIONS] URL [URL…]</p>\n</blockquote>\n<p>关键选项有：</p>\n<ul>\n<li>—proxy URL：socks5://127.0.0.1:1080</li>\n<li>—playlist-start NUMBER：下载播放列表可用，默认 1</li>\n<li>—playlist-end NUMBER：下载播放列表可用，默认 last</li>\n<li>—playlist-items ITEM_SPEC：下载范围：Specify indices of the videos in the playlist separated by commas like: “—playlist-items 1,2,5,8” if you want to download videos indexed 1, 2, 5, 8 in the playlist. You can specify range: “—playlist-items 1-3,7,10-13”, it will download the videos at index 1, 2, 3, 7, 10, 11, 12 and 13.</li>\n<li>—batch-file FILE：下载列表文件，文件URL按行分隔</li>\n<li>\n<p>-o：输出文件名模板及输出位置（<a href=\"https://github.com/rg3/youtube-dl#output-template\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">详细</a>）：</p>\n<ul>\n<li>-o ”~/Downloads/%(title)s.%(ext)s”</li>\n<li>-o ”%(playlist)s/%(playlist_index)s - %(title)s.%(ext)s”</li>\n</ul>\n</li>\n<li>\n<p>-f：视频格式（<a href=\"https://github.com/rg3/youtube-dl#format-selection\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">详细</a>）：</p>\n<ul>\n<li>默认：-f bestvideo+bestaudio/best</li>\n<li>最简单：best</li>\n</ul>\n</li>\n</ul>\n<p>细节是相当的多，不得不佩服作者的细致处理的功力。因功能相当强大，很多细节的配置可以参考github上的手册，这里就不一一展开了。</p>\n<p>一般来说，下载常用的命令：</p>\n<p>下载单独视频：</p>\n<blockquote>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mo>−</mo><mi>d</mi><mi>l</mi><mo>−</mo><mo>−</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>y</mi><mi>s</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mn>5</mn><mo>:</mo><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mn>127.0.0.1</mn><mo>:</mo><mn>10803</mn><mo>−</mo><mi>o</mi><mi mathvariant=\"normal\">&quot;</mi><mtext> </mtext><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi>o</mi><mi>w</mi><mi>n</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>s</mi><mi mathvariant=\"normal\">/</mi><mi>y</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mi mathvariant=\"normal\">/</mi></mrow><annotation encoding=\"application/x-tex\">youtube-dl --proxy socks5://127.0.0.1:10803 -o &quot;~/Downloads/youtube/%(title)s.%(ext)s&quot;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">yo</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">ysoc</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">5</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">//127.0.0.1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">10803</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord\">&quot;</span><span class=\"mspace nobreak\"> </span><span class=\"mord\">/</span><span class=\"mord mathnormal\">Do</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">yo</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord\">/</span></span></span></span>url    </p>\n</blockquote>\n<p>下载视频列表：</p>\n<blockquote>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mo>−</mo><mi>d</mi><mi>l</mi><mo>−</mo><mo>−</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>x</mi><mi>y</mi><mi>s</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mn>5</mn><mo>:</mo><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">/</mi><mn>127.0.0.1</mn><mo>:</mo><mn>10803</mn><mo>−</mo><mi>o</mi><mi mathvariant=\"normal\">&quot;</mi><mtext> </mtext><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi>o</mi><mi>w</mi><mi>n</mi><mi>l</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>s</mi><mi mathvariant=\"normal\">/</mi><mi>y</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>u</mi><mi>b</mi><mi>e</mi><mi mathvariant=\"normal\">/</mi></mrow><annotation encoding=\"application/x-tex\">youtube-dl --proxy socks5://127.0.0.1:10803 -o &quot;~/Downloads/youtube/%(playlist_title)s/%(playlist_index)s - %(title)s-%(id)s.%(ext)s&quot;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">yo</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">−</span><span class=\"mord mathnormal\">p</span><span class=\"mord mathnormal\">ro</span><span class=\"mord mathnormal\">x</span><span class=\"mord mathnormal\">ysoc</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">5</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">//127.0.0.1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">10803</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">o</span><span class=\"mord\">&quot;</span><span class=\"mspace nobreak\"> </span><span class=\"mord\">/</span><span class=\"mord mathnormal\">Do</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">s</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">yo</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">t</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">b</span><span class=\"mord mathnormal\">e</span><span class=\"mord\">/</span></span></span></span>url     </p>\n</blockquote>\n<p>注意这里的视频列表地址格式必须是：<a href=\"https://www.youtube.com/playlist?list=$%E5%88%97%E8%A1%A8ID%EF%BC%8C%E5%90%A6%E5%88%99%E8%A7%A3%E6%9E%90%60playlist_title%60%E7%AD%89%E4%BF%A1%E6%81%AF%E4%BC%9A%E5%87%BA%E9%94%99\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/playlist?list=$列表ID，否则解析`playlist_title`等信息会出错</a>    </p>\n<blockquote>\n<p>EOF</p>\n</blockquote>","fields":{"slug":"/posts/2017/11/youtube-dl","tagSlugs":["/tag/you-tube/","/tag/video/"]},"frontmatter":{"date":"2017-11-17T06:33:22.000Z","description":"","tags":["YouTube","Video"],"title":"好用的YouTube下载工具","socialImage":{"publicURL":"/static/7e722e026a41a08a8f9a1cc76782dd27/default-social-image.jpg"}}},"allFile":{"totalCount":0,"nodes":[]}},"pageContext":{"slug":"/posts/2017/11/youtube-dl","gallery":"media/posts/2017/11/youtube-dl/gallery"}},"staticQueryHashes":["251939775","401334301","825871152"]}