{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2021/10/locateme","result":{"data":{"markdownRemark":{"id":"797f8494-832e-5e23-8f56-f4bababd0cef","html":"<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-%E5%89%8D%E8%A8%80\">1. 前言</a></li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85\">2. 安装</a></li>\n<li><a href=\"#3-%E4%BD%BF%E7%94%A8\">3. 使用</a></li>\n</ul>\n</div>\n<h1 id=\"1-前言\" style=\"position:relative;\"><a href=\"#1-%E5%89%8D%E8%A8%80\" aria-label=\"1 前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 前言</h1>\n<p><code class=\"language-text\">locateme</code>是一个命令行工具，能够调用osx系统自带的apple定位服务来给出经纬数据。</p>\n<p>Github：<a href=\"https://github.com/netj/LocateMe\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">netj/LocateMe</a>。下载站：<a href=\"http://iharder.sourceforge.net/current/macosx/locateme/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">iHarder.net LocateMe</a>。</p>\n<blockquote>\n<p>Returns your computer’s location using Apple’s built-in geolocation services.</p>\n</blockquote>\n<h1 id=\"2-安装\" style=\"position:relative;\"><a href=\"#2-%E5%AE%89%E8%A3%85\" aria-label=\"2 安装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 安装</h1>\n<p>可以从下载站下载软件包之后解压并放到bin下面，当然更推荐使用brew安装：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ brew update --verbose <span class=\"token operator\">&amp;&amp;</span> brew <span class=\"token function\">install</span> locateme --verbose\n$ <span class=\"token function\">which</span> locateme\n/usr/local/bin/locateme</code></pre></div>\n<p>这还没完，接下来要先使用一次locateme，会报错：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ locateme\n\n<span class=\"token number\">2021</span>-08-31 <span class=\"token number\">10</span>:47:01.299 locateme<span class=\"token punctuation\">[</span><span class=\"token number\">32912</span>:640457<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>error code<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> kCLErrorLocationUnknown: Error <span class=\"token assign-left variable\">Domain</span><span class=\"token operator\">=</span>kCLErrorDomain <span class=\"token assign-left variable\">Code</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token string\">\"(null)\"</span>\n<span class=\"token number\">2021</span>-08-31 <span class=\"token number\">10</span>:47:01.299 locateme<span class=\"token punctuation\">[</span><span class=\"token number\">32912</span>:640457<span class=\"token punctuation\">]</span> Error: Error <span class=\"token assign-left variable\">Domain</span><span class=\"token operator\">=</span>kCLErrorDomain <span class=\"token assign-left variable\">Code</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token string\">\"(null)\"</span></code></pre></div>\n<p>然后打开<code class=\"language-text\">系统偏好设置 > 安全性与隐私 > 定位服务</code>，勾选<code class=\"language-text\">LocateMe</code>。然后再尝试使用，应该就OK了：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ locateme\n\n<span class=\"token operator\">&lt;</span>+XX.23453090,+XXX.4829305<span class=\"token operator\"><span class=\"token file-descriptor important\">7</span>></span> +/- <span class=\"token number\">65</span>.00m <span class=\"token punctuation\">(</span>speed -1.00 mps / course -1.00<span class=\"token punctuation\">)</span> @ <span class=\"token number\">2021</span>/8/28 中国标准时间 XX:XX:XX</code></pre></div>\n<h1 id=\"3-使用\" style=\"position:relative;\"><a href=\"#3-%E4%BD%BF%E7%94%A8\" aria-label=\"3 使用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 使用</h1>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ locateme -h\nUSAGE: locateme <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span>\nVersion: <span class=\"token number\">0.2</span>.1\nOutputs your current location using Apple's geolocation services.\n  -h          This <span class=\"token builtin class-name\">help</span> message\n  -g          Generate a Google Map URL\n  -l          Generate long, multiline <span class=\"token function\">format</span>\n  -f <span class=\"token function\">format</span>   Generate a custom output with the following placeholders\n     <span class=\"token punctuation\">{</span>LAT<span class=\"token punctuation\">}</span>    Latitude as a floating point number\n     <span class=\"token punctuation\">{</span>LON<span class=\"token punctuation\">}</span>    Longitude as a floating point number\n     <span class=\"token punctuation\">{</span>ALT<span class=\"token punctuation\">}</span>    Altitude <span class=\"token keyword\">in</span> meters as a floating point number\n     <span class=\"token punctuation\">{</span>SPD<span class=\"token punctuation\">}</span>    Speed <span class=\"token keyword\">in</span> meters per second as a floating point number\n     <span class=\"token punctuation\">{</span>DIR<span class=\"token punctuation\">}</span>    Direction <span class=\"token keyword\">in</span> degrees from <span class=\"token boolean\">true</span> north as a floating point number\n     <span class=\"token punctuation\">{</span>HAC<span class=\"token punctuation\">}</span>    Horizontal accuracy <span class=\"token keyword\">in</span> meters as a floating point number\n     <span class=\"token punctuation\">{</span>VAC<span class=\"token punctuation\">}</span>    Vertical accuracy <span class=\"token keyword\">in</span> meters as a floating point number\n     <span class=\"token punctuation\">{</span>TIME<span class=\"token punctuation\">}</span>   Timestamp <span class=\"token punctuation\">(</span>with <span class=\"token function\">date</span><span class=\"token punctuation\">)</span> of the location fix\n     <span class=\"token punctuation\">{</span>HOST<span class=\"token punctuation\">}</span>   Computer <span class=\"token function\">hostname</span>\n\nExamples:\n\n Command: locateme -f <span class=\"token string\">\"lat={LAT},lon={LON}\"</span>\n Output <span class=\"token builtin class-name\">:</span> <span class=\"token assign-left variable\">lat</span><span class=\"token operator\">=</span><span class=\"token number\">12.34567</span>,lon<span class=\"token operator\">=</span><span class=\"token number\">98.76543</span>\n\n Command: locateme -f <span class=\"token string\">\"&lt;lat>{LAT}&lt;/lat>&lt;lon>{LON}&lt;/lon>&lt;alt>{ALT}&lt;/alt>\"</span>\n Output <span class=\"token builtin class-name\">:</span> <span class=\"token operator\">&lt;</span>lat<span class=\"token operator\">></span><span class=\"token number\">12.3456</span><span class=\"token operator\"><span class=\"token file-descriptor important\">7</span>&lt;</span>/lat<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>lon<span class=\"token operator\">></span><span class=\"token number\">98.7654</span><span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;</span>/lon<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>alt<span class=\"token operator\">></span><span class=\"token number\">12</span><span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;</span>/alt<span class=\"token operator\">></span></code></pre></div>\n<p>一般这样用：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ locateme -f <span class=\"token string\">\"{<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>lat<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>:<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>{LAT}<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>,<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>lon<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>:<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>{LON}<span class=\"token entity\" title=\"\\&quot;\">\\\"</span>}\"</span>\n\n<span class=\"token punctuation\">{</span><span class=\"token string\">\"lat\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"XX.234463\"</span>,<span class=\"token string\">\"lon\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"XXX.482957\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>EOF</p>\n</blockquote>","fields":{"slug":"/posts/2021/10/locateme","tagSlugs":["/tag/api/","/tag/geolocation/"]},"frontmatter":{"date":"2021-10-02T02:02:22.000Z","description":"如何在OSX上用命令行工具获得Location信息","tags":["API","Geolocation"],"title":"OSX LocateMe","socialImage":{"publicURL":"/static/7e722e026a41a08a8f9a1cc76782dd27/default-social-image.jpg"}}},"allFile":{"totalCount":0,"nodes":[]}},"pageContext":{"slug":"/posts/2021/10/locateme","gallery":"media/posts/2021/10/locateme/gallery"}},"staticQueryHashes":["251939775","401334301","825871152"]}