{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/2022/06/charles-cert-renew","result":{"data":{"markdownRemark":{"id":"80164d30-8abd-5f5c-858f-33bc76223e07","html":"<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#1-%E5%89%8D%E8%A8%80\">1. 前言</a></li>\n<li><a href=\"#2-%E5%87%A0%E4%B8%AA%E6%96%B9%E6%B3%95\">2. 几个方法</a>\n<ul>\n<li><a href=\"#21-%E9%87%8D%E7%BD%AE%E6%A0%B9%E8%AF%81%E4%B9%A6\">2.1 重置根证书</a></li>\n<li><a href=\"#22-%E5%88%A0%E9%99%A4%E5%B9%B6%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90%E8%AF%81%E4%B9%A6\">2.2 删除并重新生成证书</a></li>\n</ul>\n</li>\n</ul>\n</div>\n<h1 id=\"1-前言\" style=\"position:relative;\"><a href=\"#1-%E5%89%8D%E8%A8%80\" aria-label=\"1 前言 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 前言</h1>\n<p>新版本的Charles（具体是哪个版本我不记得了）生成出来的根证书只有1年的有效期，所以很容易就会过期，导致测试使用的失败。而我上次更新根证书的时候发生了很多问题，所以这里做个笔记来记录下。</p>\n<p>主要是参考这篇博文：<a href=\"https://charlesdocsy.com/2021/12/29/expired-charles-proxy-root-certificate/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Expired Charles Proxy Root Certificate</a></p>\n<h1 id=\"2-几个方法\" style=\"position:relative;\"><a href=\"#2-%E5%87%A0%E4%B8%AA%E6%96%B9%E6%B3%95\" aria-label=\"2 几个方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 几个方法</h1>\n<h2 id=\"21-重置根证书\" style=\"position:relative;\"><a href=\"#21-%E9%87%8D%E7%BD%AE%E6%A0%B9%E8%AF%81%E4%B9%A6\" aria-label=\"21 重置根证书 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1 重置根证书</h2>\n<p>操作步骤：</p>\n<ul>\n<li>Open Charles -> Help -> SSL Proxying -> Reset Charles Root Certificate …</li>\n<li>Now follow the on-screen instructions</li>\n<li>Once complete, please restart Charles</li>\n</ul>\n<p>然后手机上的根证书需要删除之后重新下载安装，和之前的初始安装操作一致。</p>\n<h2 id=\"22-删除并重新生成证书\" style=\"position:relative;\"><a href=\"#22-%E5%88%A0%E9%99%A4%E5%B9%B6%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90%E8%AF%81%E4%B9%A6\" aria-label=\"22 删除并重新生成证书 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2 删除并重新生成证书</h2>\n<p>删除证书：</p>\n<ul>\n<li>From the Keychain application, right-click the Charles Root certificate</li>\n<li>Select delete and follow the on-screen instructions</li>\n</ul>\n<p>重新生成证书：</p>\n<ul>\n<li>Open Charles -> Help -> SSL Proxying -> Install Charles Root Certificate</li>\n<li>This should now open “Keychain Access” on your Mac. Follow the on-screen instruction</li>\n<li>Once complete, please restart Charles</li>\n</ul>\n<p>老样子，手机上的根证书需要删除之后重新下载安装，和之前的初始安装操作一致。</p>\n<blockquote>\n<p>EOF</p>\n</blockquote>","fields":{"slug":"/posts/2022/06/charles-cert-renew","tagSlugs":["/tag/proxy/","/tag/charles/"]},"frontmatter":{"date":"2022-06-15T10:09:22.000Z","description":"如何刷新到期的Charles根证书","tags":["Proxy","Charles"],"title":"Charles证书刷新","socialImage":"/media/default-social-image.jpg"}},"allFile":{"totalCount":0,"nodes":[]}},"pageContext":{"slug":"/posts/2022/06/charles-cert-renew","gallery":"media/posts/2022/06/charles-cert-renew/gallery"}},"staticQueryHashes":["251939775","357378587","401334301"]}