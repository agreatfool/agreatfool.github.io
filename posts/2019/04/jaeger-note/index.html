<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="twitter:image" content="https://xenojoshua.com/media/default-social-image.jpg"/><meta data-react-helmet="true" name="twitter:description" content=""/><meta data-react-helmet="true" name="twitter:title" content="Jaeger Notes - Blog by Jonathan Dai"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:image" content="https://xenojoshua.com/media/default-social-image.jpg"/><meta data-react-helmet="true" property="og:site_name" content="Jaeger Notes - Blog by Jonathan Dai"/><meta data-react-helmet="true" name="description" content=""/><meta name="theme-color" content="hsl(31, 92%, 62%)"/><meta name="generator" content="Gatsby 4.17.1"/><style data-href="/styles.73ba2c353057148cd83d.css" data-identity="gatsby-global-css">html{font-size:100}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizelegibility;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#212121;font-size:16px;line-height:1.625;margin:0 0 0 calc(100vw - 100%)}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:40px;line-height:52px;margin-bottom:26px;margin-top:104px}h2{font-size:27px;line-height:39px}h2,h3{margin-bottom:13px;margin-top:52px}h3{font-size:22px;line-height:26px}h4{font-size:19.2px;margin-top:39px}h4,h5{line-height:26px;margin-bottom:13px}h5,h6{font-size:16px;margin-top:65px}h6{line-height:26px;margin-bottom:13px}img{max-width:100%}hr,img{border:0;display:block}hr{background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#212121 0,#212121 15px,transparent 0,transparent 26px);background-size:100% 26px;color:#212121;height:26px;margin:52px auto;width:100px}a{color:#5c92ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a145}b,strong{font-weight:600}ul{list-style:square;margin-bottom:26px}ul li{margin-bottom:10px;padding:0 5px}p{line-height:26px;margin-bottom:26px}blockquote{font-style:italic;padding:0;text-align:center}figure{display:block;height:auto;width:100%}figcaption{color:#212121;font-size:14px;font-style:italic;line-height:19.5px;margin-bottom:0;margin-top:6.5px;text-align:center}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:310px;padding:0 26px}.float-right{float:right}.float-left{float:left}}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83;cursor:help}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}blockquote{border-left:5px solid #424242!important;color:#424242!important;display:block!important;font-style:normal!important;padding-left:1rem!important;text-align:left!important}table{border-collapse:collapse;box-shadow:0 0 20px rgba(0,0,0,.15)}thead tr{background-color:#009879;color:#fff;text-align:left}td,th{padding:12px 15px}tbody tr{border-bottom:1px solid #ddd}tbody tr:nth-of-type(2n){background-color:#f3f3f3}tbody tr:last-of-type{border-bottom:2px solid #009879}h1{margin-top:0!important}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky{margin-bottom:32.5px}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky:last-child{margin-bottom:13px}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--title--1qA0W{font-size:27px;line-height:39px;margin-bottom:13px;margin-top:0}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--title--1qA0W .Feed-module--link--GNuXE{color:#212121}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--title--1qA0W .Feed-module--link--GNuXE:focus,.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--title--1qA0W .Feed-module--link--GNuXE:hover{border-bottom:1px solid #212121;color:#212121}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--description--UXUO2{font-size:16px;line-height:26px;margin-bottom:19.5px}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--meta--ECIPa .Feed-module--time--17yla{color:#212121;font-size:14px;font-weight:600;text-transform:uppercase}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--meta--ECIPa .Feed-module--divider--3kBgQ{margin:0 13px}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--meta--ECIPa .Feed-module--category--DGEwP .Feed-module--link--GNuXE{color:#f7a145;font-size:14px;font-weight:600;text-transform:uppercase}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--meta--ECIPa .Feed-module--category--DGEwP .Feed-module--link--GNuXE:focus,.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--meta--ECIPa .Feed-module--category--DGEwP .Feed-module--link--GNuXE:hover{color:#5c92ff}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--more--Axk8-{color:#5c92ff;font-size:16px}.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--more--Axk8-:focus,.Feed-module--feed--3dYe7 .Feed-module--item--ooOky .Feed-module--more--Axk8-:hover{border-bottom:1px solid #5c92ff;color:#5c92ff}.Layout-module--layout--36KWw{margin-left:auto;margin-right:auto;max-width:1070px}.Layout-module--layout--36KWw:before{content:"";display:table}.Layout-module--layout--36KWw:after{clear:both;content:"";display:table}.Page-module--page--2Y5e7{margin-bottom:52px}.Page-module--page--2Y5e7 .Page-module--inner--3HKeR{padding:26px 19.5px 0}.Page-module--page--2Y5e7 .Page-module--title--Z69a4{font-size:40px;font-weight:600;line-height:52px;margin-bottom:37.7px;margin-top:0}.Page-module--page--2Y5e7 .Page-module--body--hPYHN{font-size:16px;line-height:26px;margin:0 0 26px}@media screen and (min-width:685px){.Page-module--page--2Y5e7{width:calc(58.275% - 12.5px)}.Page-module--page--2Y5e7:nth-child(1n){clear:none;float:left;margin-right:30px}.Page-module--page--2Y5e7:last-child{margin-right:0}.Page-module--page--2Y5e7:nth-child(12n){float:right;margin-right:0}.Page-module--page--2Y5e7:nth-child(12n+1){clear:both}.Page-module--page--2Y5e7 .Page-module--inner--3HKeR{padding:32.5px 19.5px 0}}@media screen and (min-width:960px){.Page-module--page--2Y5e7{width:calc(66.6% - 10px)}.Page-module--page--2Y5e7:nth-child(1n){clear:none;float:left;margin-right:30px}.Page-module--page--2Y5e7:last-child{margin-right:0}.Page-module--page--2Y5e7:nth-child(3n){float:right;margin-right:0}.Page-module--page--2Y5e7:nth-child(3n+1){clear:both}.Page-module--page--2Y5e7 .Page-module--inner--3HKeR{padding:39px 26px 0}}.Pagination-module--pagination--3KtNE{display:flex;margin-top:52px}.Pagination-module--pagination--3KtNE .Pagination-module--previous--3Jp_8{text-align:left;width:50%}.Pagination-module--pagination--3KtNE .Pagination-module--previous--3Jp_8 .Pagination-module--previousLink--1mLDH{color:#f7a145;font-size:26px;font-weight:700}.Pagination-module--pagination--3KtNE .Pagination-module--previous--3Jp_8 .Pagination-module--previousLink--1mLDH:focus,.Pagination-module--pagination--3KtNE .Pagination-module--previous--3Jp_8 .Pagination-module--previousLink--1mLDH:hover{color:#5c92ff}.Pagination-module--pagination--3KtNE .Pagination-module--previous--3Jp_8 .Pagination-module--previousLink--1mLDH.Pagination-module--disable--4zAQA{color:#9b9b9b;pointer-events:none}.Pagination-module--pagination--3KtNE .Pagination-module--next--PX9hj{text-align:right;width:50%}.Pagination-module--pagination--3KtNE .Pagination-module--next--PX9hj .Pagination-module--nextLink--DTlD5{color:#f7a145;font-size:26px;font-weight:700}.Pagination-module--pagination--3KtNE .Pagination-module--next--PX9hj .Pagination-module--nextLink--DTlD5:focus,.Pagination-module--pagination--3KtNE .Pagination-module--next--PX9hj .Pagination-module--nextLink--DTlD5:hover{color:#5c92ff}.Pagination-module--pagination--3KtNE .Pagination-module--next--PX9hj .Pagination-module--nextLink--DTlD5.Pagination-module--disable--4zAQA{color:#9b9b9b;pointer-events:none}.Author-module--author--12DFk .Author-module--photo--1WT_U{background-clip:padding-box;border-radius:50%;display:inline-block;height:75px;margin-bottom:0;width:75px}.Author-module--author--12DFk .Author-module--title--2UdHe{font-size:18px;font-weight:600;line-height:29.25px;margin:13px 0}.Author-module--author--12DFk .Author-module--title--2UdHe .Author-module--link--1dqxo,.Author-module--author--12DFk .Author-module--title--2UdHe .Author-module--link--1dqxo:focus,.Author-module--author--12DFk .Author-module--title--2UdHe .Author-module--link--1dqxo:hover{color:#212121}.Author-module--author--12DFk .Author-module--subtitle--3HDSh{color:#878787;line-height:26px;margin-bottom:26px}.Icon-module--icon--fdMTB{fill:currentcolor;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;speak:none;stroke:currentcolor;stroke-width:0;display:inline-block;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1em;text-align:center;text-transform:none;width:1em}.Contacts-module--contacts--3rFuK{margin-bottom:26px}.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;margin:13px 0;max-width:150px;padding:0}.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_ .Contacts-module--item--3aZ8X{align-content:center;align-items:center;border:1px solid #ebebeb;border-radius:50%;display:flex;height:35px;justify-content:center;line-height:35px;margin:6.5px;padding:0;text-align:center;width:35px}.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_ .Contacts-module--item--3aZ8X:nth-child(3n+1){margin-left:0}.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_ .Contacts-module--item--3aZ8X .Contacts-module--link--2rGsi{border:0;color:#212121;display:flex}.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_ .Contacts-module--item--3aZ8X .Contacts-module--link--2rGsi:focus,.Contacts-module--contacts--3rFuK .Contacts-module--list--3gIi_ .Contacts-module--item--3aZ8X .Contacts-module--link--2rGsi:hover{color:#5c92ff}.Copyright-module--copyright--1IQFN{color:#999;font-size:14px}.Menu-module--menu--3SbXJ{margin-bottom:26px}.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI{list-style:none;margin:0;padding:0}.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI .Menu-module--item--DDbJ8{margin:13px 0;padding:0}.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI .Menu-module--item--DDbJ8 .Menu-module--link--3lstV{border:0;color:#212121;font-size:16px;font-weight:400}.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI .Menu-module--item--DDbJ8 .Menu-module--link--3lstV:focus,.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI .Menu-module--item--DDbJ8 .Menu-module--link--3lstV:hover{border-bottom:1px solid #5c92ff;color:#5c92ff}.Menu-module--menu--3SbXJ .Menu-module--list--1n4ZI .Menu-module--item--DDbJ8 .Menu-module--link--3lstV.Menu-module--active--aYO_r{border-bottom:1px solid #212121;color:#212121}.Sidebar-module--sidebar--1NhQN{width:100%}.Sidebar-module--sidebar--1NhQN .Sidebar-module--inner--12iqG{padding:26px 19.5px 0;position:relative}@media screen and (min-width:685px){.Sidebar-module--sidebar--1NhQN{width:calc(41.625% - 17.5px)}.Sidebar-module--sidebar--1NhQN:nth-child(1n){clear:none;float:left;margin-right:30px}.Sidebar-module--sidebar--1NhQN:last-child{margin-right:0}.Sidebar-module--sidebar--1NhQN:nth-child(12n){float:right;margin-right:0}.Sidebar-module--sidebar--1NhQN:nth-child(12n+1){clear:both}.Sidebar-module--sidebar--1NhQN .Sidebar-module--inner--12iqG{padding:32.5px 19.5px 0}.Sidebar-module--sidebar--1NhQN .Sidebar-module--inner--12iqG:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);bottom:0;content:"";height:540px;position:absolute;right:-10px;top:30px;width:1px}}@media screen and (min-width:960px){.Sidebar-module--sidebar--1NhQN{width:calc(33.3% - 20px)}.Sidebar-module--sidebar--1NhQN:nth-child(1n){clear:none;float:left;margin-right:30px}.Sidebar-module--sidebar--1NhQN:last-child{margin-right:0}.Sidebar-module--sidebar--1NhQN:nth-child(3n){float:right;margin-right:0}.Sidebar-module--sidebar--1NhQN:nth-child(3n+1){clear:both}.Sidebar-module--sidebar--1NhQN .Sidebar-module--inner--12iqG{padding:39px}}.Author-module--author--2kT-Q{border-top:1px solid #e6e6e6;line-height:26px;margin-bottom:52px;margin-top:26px;max-width:640px;padding-top:26px}.Author-module--author--2kT-Q .Author-module--bio--2YX8- .Author-module--twitter--1B6I5{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2kT-Q{margin-left:auto;margin-right:auto}}.Content-module--content--3dNJJ{margin:0 auto;max-width:945px;padding:0 13px}.Content-module--content--3dNJJ .Content-module--title--3vQh6{font-size:32px;font-weight:600;line-height:42.9px;margin:26px auto 0;max-width:640px;text-align:center}.Content-module--content--3dNJJ .Content-module--body--3LJXt figure{margin-bottom:26px}.Content-module--content--3dNJJ .Content-module--body--3LJXt figure blockquote{font-style:italic;margin-top:0;padding:26px 0;text-align:center}.Content-module--content--3dNJJ .Content-module--body--3LJXt figure blockquote p{font-size:26.9072px;line-height:39px;margin-bottom:26px;margin-top:0;max-width:640px}.Content-module--content--3dNJJ .Content-module--body--3LJXt a{text-decoration:underline}.Content-module--content--3dNJJ .Content-module--body--3LJXt *{margin-left:auto;margin-right:auto;max-width:640px}.Content-module--content--3dNJJ .Content-module--body--3LJXt h2>a{visibility:hidden}.Content-module--content--3dNJJ .Content-module--body--3LJXt img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3dNJJ{padding:0}.Content-module--content--3dNJJ .Content-module--title--3vQh6{font-size:48px;line-height:58.5px;margin-bottom:39px;margin-top:58.5px}.Content-module--content--3dNJJ .Content-module--body--3LJXt,.Content-module--content--3dNJJ .Content-module--body--3LJXt p{font-size:18px;line-height:29.25px;margin-bottom:29.25px}.Content-module--content--3dNJJ .Content-module--body--3LJXt h2>a{padding-right:26px;visibility:unset}}.Meta-module--meta--3YYBJ .Meta-module--date--U0EV3{font-style:italic}.Tags-module--tags--1r6Jk{margin-bottom:13px}.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka{list-style:none;padding:0}.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka .Tags-module--item--2JSXQ{display:inline-block;margin:13px 3.25px}@media screen and (min-width:685px){.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka .Tags-module--item--2JSXQ:first-child{margin-left:0;padding-left:0}}.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka .Tags-module--item--2JSXQ .Tags-module--link--hkiai{border:1px solid #e6e6e6;border-radius:20px;color:#212121;display:inline-block;height:35px;line-height:35px;padding:0 19.5px;text-decoration:none}.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka .Tags-module--item--2JSXQ .Tags-module--link--hkiai:focus,.Tags-module--tags--1r6Jk .Tags-module--list--3a6Ka .Tags-module--item--2JSXQ .Tags-module--link--hkiai:hover{color:#5c92ff}.Gallery-module--gallery--2g0Rf{grid-gap:.5em;display:grid;grid-auto-rows:16vw;grid-template-columns:repeat(4,1fr)}.Gallery-module--gallery--2g0Rf>*{box-shadow:0 2px 8px 0 rgba(0,0,0,.2),0 3px 20px 0 rgba(0,0,0,.19)}.Gallery-module--gallery--2g0Rf>:hover{cursor:pointer;-webkit-filter:blur(4px);filter:blur(4px);transition:all .5s ease}.Gallery-module--gallery--2g0Rf>:nth-child(6n+3){grid-column:span 1;grid-row:span 2}.Gallery-module--gallery--2g0Rf>:nth-child(6n+2),.Gallery-module--gallery--2g0Rf>:nth-child(6n+5),.Gallery-module--gallery--2g0Rf>:nth-child(6n+6){grid-column:span 2;grid-row:span 2}.Post-module--post--mo55f .Post-module--content--3cRzw{margin:0 auto}.Post-module--post--mo55f .Post-module--comments--2bE-0,.Post-module--post--mo55f .Post-module--footer--NpFTW{margin:0 auto;max-width:640px;padding:0 13px}.Post-module--post--mo55f .Post-module--button--27HfC{border:1px solid #e6e6e6;border-radius:20px;color:#212121;display:block;font-size:16px;font-weight:400;height:35px;line-height:35px;margin-left:auto;margin-right:auto;margin-top:26px;max-width:90px;padding:0 26px;text-align:center}.Post-module--post--mo55f .Post-module--button--27HfC:focus,.Post-module--post--mo55f .Post-module--button--27HfC:hover{color:#5c92ff}@media screen and (min-width:960px){.Post-module--post--mo55f .Post-module--comments--2bE-0,.Post-module--post--mo55f .Post-module--footer--NpFTW{padding:0}.Post-module--post--mo55f .Post-module--button--27HfC{left:30px;margin:0;max-width:none;position:fixed;top:30px}}</style><link rel="alternate" type="application/rss+xml" title="Blog by Jonathan Dai" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FHVTN0K4SH"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-FHVTN0K4SH', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="icon" href="/favicon-32x32.png?v=bc5f0053fc3ffc2dfb62b5abaa975347" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=bc5f0053fc3ffc2dfb62b5abaa975347"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">Jaeger Notes - Blog by Jonathan Dai</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--36KWw"><div class="Post-module--post--mo55f"><a class="Post-module--button--27HfC" href="/">All Articles</a><div class="Post-module--content--3cRzw"><div class="Content-module--content--3dNJJ"><h1 class="Content-module--title--3vQh6">Jaeger Notes</h1><div class="Content-module--body--3LJXt"><div class="table-of-contents">
<ul>
<li><a href="#1-%E5%89%8D%E8%A8%80">1. 前言</a></li>
<li><a href="#2-opentracing">2. OpenTracing</a>
<ul>
<li><a href="#21-trace">2.1 Trace</a></li>
<li><a href="#22-span">2.2 Span</a>
<ul>
<li><a href="#221-trace%E4%B8%8Espan%E5%85%B3%E7%B3%BB">2.2.1 Trace与Span关系</a></li>
<li><a href="#222-span%E5%B1%9E%E6%80%A7">2.2.2 Span属性</a></li>
<li><a href="#223-span-context%E5%B1%9E%E6%80%A7">2.2.3 Span Context属性</a></li>
<li><a href="#224-span%E9%97%B4%E5%85%B3%E7%B3%BB">2.2.4 Span间关系</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#3-jaeger%E6%9E%B6%E6%9E%84">3. Jaeger架构</a>
<ul>
<li><a href="#31-jaeger-client">3.1 Jaeger Client</a></li>
<li><a href="#32-jaeger-agent">3.2 Jaeger Agent</a></li>
<li><a href="#33-jaeger-collector">3.3 Jaeger Collector</a></li>
<li><a href="#34-data-store">3.4 Data Store</a>
<ul>
<li><a href="#341-elasticsearch%E6%94%AF%E6%8C%81">3.4.1 ElasticSearch支持</a></li>
</ul>
</li>
<li><a href="#35-jaeger-query">3.5 Jaeger Query</a></li>
<li><a href="#36-jaeger-ingester">3.6 Jaeger Ingester</a></li>
<li><a href="#37-%E6%97%A5%E5%BF%97%E6%A8%A1%E5%BC%8F">3.7 日志模式</a></li>
</ul>
</li>
<li><a href="#4-jaeger%E4%BD%BF%E7%94%A8">4. Jaeger使用</a>
<ul>
<li><a href="#41-jaeger-collector%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8">4.1 Jaeger Collector单独启动</a></li>
<li><a href="#42-jaeger-agent%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8">4.2 Jaeger Agent单独启动</a></li>
<li><a href="#43-jaeger-query%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8">4.3 Jaeger Query单独启动</a></li>
</ul>
</li>
<li><a href="#5-jaeger%E9%AB%98%E5%8F%AF%E7%94%A8">5. Jaeger高可用</a>
<ul>
<li><a href="#51-metrics">5.1 Metrics</a></li>
<li><a href="#52-components">5.2 Components</a>
<ul>
<li><a href="#521-client">5.2.1 Client</a></li>
<li><a href="#522-agent">5.2.2 Agent</a></li>
<li><a href="#523-collector">5.2.3 Collector</a></li>
<li><a href="#524-data-store">5.2.4 Data Store</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#6-jaeger%E9%87%87%E6%A0%B7">6. Jaeger采样</a>
<ul>
<li><a href="#61-client%E9%85%8D%E7%BD%AE">6.1 Client配置</a>
<ul>
<li><a href="#611-constant">6.1.1 Constant</a></li>
<li><a href="#612-probabilistic">6.1.2 Probabilistic</a></li>
<li><a href="#613-rate-limiting">6.1.3 Rate Limiting</a></li>
<li><a href="#614-remote">6.1.4 Remote</a></li>
</ul>
</li>
<li><a href="#62-collector%E9%85%8D%E7%BD%AE">6.2 Collector配置</a></li>
</ul>
</li>
<li><a href="#7-jaeger%E7%9B%91%E6%8E%A7">7. Jaeger监控</a>
<ul>
<li><a href="#71-exporter">7.1 Exporter</a></li>
<li><a href="#72-grafana-dashboard">7.2 Grafana Dashboard</a></li>
</ul>
</li>
<li><a href="#8-docker%E9%9B%86%E7%BE%A4%E5%AE%9E%E8%B7%B5">8. Docker集群实践</a>
<ul>
<li><a href="#81-docker%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE">8.1 Docker集群配置</a></li>
<li><a href="#82-storage-schema">8.2 Storage Schema</a>
<ul>
<li><a href="#821-%E4%BD%BF%E7%94%A8cqlsh%E5%AF%BC%E5%85%A5">8.2.1 使用cqlsh导入</a></li>
<li><a href="#822-%E5%B7%A5%E5%85%B7%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5">8.2.2 工具镜像导入</a></li>
</ul>
</li>
<li><a href="#83-opentracing-coding-tutorial">8.3 Opentracing Coding Tutorial</a></li>
<li><a href="#84-client-coding">8.4 Client Coding</a></li>
</ul>
</li>
<li><a href="#9-todo">9. TODO</a></li>
<li><a href="#%E8%B5%84%E6%96%99">资料</a>
<ul>
<li><a href="#%E9%93%BE%E6%8E%A5">链接</a></li>
<li><a href="#help">Help</a>
<ul>
<li><a href="#jaeger-agent---help">jaeger-agent —help</a></li>
<li><a href="#jaeger-collector-memory---help">jaeger-collector memory —help</a></li>
<li><a href="#jaeger-query---help">jaeger-query —help</a></li>
</ul>
</li>
<li><a href="#metrics">Metrics</a>
<ul>
<li><a href="#jaeger-agent-metrics">jaeger-agent metrics</a></li>
<li><a href="#jaeger-collector-metrics">jaeger-collector metrics</a></li>
<li><a href="#jaeger-query-metrics">jaeger-query metrics</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h1 id="1-前言" style="position:relative;"><a href="#1-%E5%89%8D%E8%A8%80" aria-label="1 前言 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 前言</h1>
<p>Tracing是最近才慢慢开始普及起来的一个概念。现在越来越多的系统转向微服务，或者类似于微服务设计的分布式系统，系统内部的复杂度越来越高，导致观察某一个请求的整个生命周期非常困难，查错也很困难。为了解决这样的问题，Tracing这个需求就被慢慢提出来了。最早的解决方案是一个开源项目被称为：<a href="https://zipkin.io/" target="_blank" rel="nofollow noopener noreferrer">Zipkin</a>。后来CNCF对Tracing做了一个规范：<a href="https://opentracing.io/" target="_blank" rel="nofollow noopener noreferrer">OpenTracing</a>，在CNCF里也孵化了一个项目：<a href="https://www.jaegertracing.io/" target="_blank" rel="nofollow noopener noreferrer">Jaeger</a>。现在基本上有这方面需求的，都会使用Jaeger，前浪死在沙滩上啊。</p>
<p>关于监控、追踪、日志三者的区别，可以查看：<a href="/2019/04/monitoring-tracing-logging/">Compare: Monitoring | Tracing | Logging</a>。</p>
<p>以下所有针对Jaeger的讨论都基于版本：<code class="language-text">1.11.0</code>。</p>
<p>外部链接：</p>
<ul>
<li>阿里云的一篇博文很不错，可以看下：<a href="https://yq.aliyun.com/articles/514488" target="_blank" rel="nofollow noopener noreferrer">开放分布式追踪（OpenTracing）入门与 Jaeger 实现</a></li>
<li><a href="https://www.jianshu.com/p/a963ad0bbe3e" target="_blank" rel="nofollow noopener noreferrer">OpenTracing语义标准规范及实现</a></li>
</ul>
<h1 id="2-opentracing" style="position:relative;"><a href="#2-opentracing" aria-label="2 opentracing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. OpenTracing</h1>
<p>OpenTracing在CNCF里有其站点：<a href="https://opentracing.io" target="_blank" rel="nofollow noopener noreferrer">opentracing.io</a>，这个站点主要是进行一些大概念的介绍，基本上没什么可用的实现，而实现可以看上面提到过的Jaeger，当然本文后面也会介绍。</p>
<p>该站点的文档中，有意义的部分从：<a href="https://opentracing.io/docs/overview/" target="_blank" rel="nofollow noopener noreferrer">OpenTracing Overview</a>开始。文档概念性的部分过完之后，其他部分基本上就可以忽略了。</p>
<p>OpenTracing有官方的Specification：<a href="https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/specification.md" target="_blank" rel="nofollow noopener noreferrer">CN汉化版</a>，以及<a href="https://opentracing.io/specification/" target="_blank" rel="nofollow noopener noreferrer">EN原版</a>。既然是SPEC，里面也就包含了所有需要了解的信息，有时间的可以通读一遍。</p>
<p>这里需要注意，SPEC是有明确版本的，当前的版本为：<code class="language-text">1.1</code> - <code class="language-text">19 Sep 2018</code>。<br>
前一版本为：1.0 - 23 Dec 2016，可以看到版本基本上很稳定。</p>
<p>此外，对于SPEC，有一些<a href="https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/semantic_conventions.md" target="_blank" rel="nofollow noopener noreferrer">语义惯例</a>可以看下。</p>
<p>主要需要遵循的有：</p>
<ul>
<li><a href="https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/semantic_conventions.md#span-tag-%E6%B8%85%E5%8D%95" target="_blank" rel="nofollow noopener noreferrer">Span tag 清单</a></li>
<li><a href="https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/semantic_conventions.md#log-field-%E6%B8%85%E5%8D%95" target="_blank" rel="nofollow noopener noreferrer">Log field 清单</a></li>
<li><a href="https://github.com/opentracing-contrib/opentracing-specification-zh/blob/master/semantic_conventions.md#%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AF%E5%BB%BA%E6%A8%A1" target="_blank" rel="nofollow noopener noreferrer">典型场景建模</a></li>
</ul>
<p>如果应用场景符合上述范例中定义的情况，则务必需要遵循这些规范。这有点类似于写代码的时候的Coding Style，虽然代码编译执行可能没有任何问题，但为了统一编码的可读性还是需要遵循规范。</p>
<p>下文会从组成Tracing的一些概念着手开始逐步介绍。</p>
<h2 id="21-trace" style="position:relative;"><a href="#21-trace" aria-label="21 trace permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.1 Trace</h2>
<blockquote>
<p>Trace: The description of a transaction as it moves through a distributed system.</p>
</blockquote>
<p>Trace：一个在分布式系统内运作的事务。</p>
<p>Trace代表着一个完整的事务，举个例子来说，如果有一个复杂的API系统，内部的API后台由大量的微服务实现，而一个可能需要十来个甚至更多的微服务协同处理的<code class="language-text">API请求</code>，就是一个<code class="language-text">Trace</code>。而这个例子中每一个微服务，其所作的工作就可以被认为是一个<code class="language-text">Span</code>。</p>
<h2 id="22-span" style="position:relative;"><a href="#22-span" aria-label="22 span permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2 Span</h2>
<blockquote>
<p>Span: A named, timed operation representing a piece of the workflow. Spans accept key:value tags as well as fine-grained, timestamped, structured logs attached to the particular span instance.
Span context: Trace information that accompanies the distributed transaction, including when it passes the service to service over the network or through a message bus. The span context contains the trace identifier, span identifier, and any other data that the tracing system needs to propagate to the downstream service.</p>
</blockquote>
<p>Span：一个被命名、被计时，代表着一段工作流的操作。Spans实例接受键值对的tags，以及含有细节的、计时的、结构化的日志内容。</p>
<p>Span context：伴随着分布式事务产生的Trace相关的信息，包含了该事务通过网络或消息总线在服务之间传递的时间。此外还包含了：trace标识符、span标识符，以及其他任何tracing系统需要用来衍生下游服务所需要的数据。</p>
<h3 id="221-trace与span关系" style="position:relative;"><a href="#221-trace%E4%B8%8Espan%E5%85%B3%E7%B3%BB" aria-label="221 trace与span关系 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2.1 Trace与Span关系</h3>
<p><img src="/media/posts/2019/04/jaeger-note/spans-traces.png" alt="Relationship"></p>
<p>上图是一个Trace和Span的关系范例图。</p>
<ul>
<li>从时间轴上可以看到，A覆盖了所有下面子条目的时间，这很容易理解：所有的Span组成一个Trace，而每个Span实际上都消耗了时间，这些时间的总合就是Trace的时间消耗</li>
<li>Span有父子级别概念：B和C以及D的关系就是父子，而C和D则不是父子关系，父子的时间是<code class="language-text">重合</code>的，就类似所有子Span和Trace之间的时间关系，B消耗的时间是C和D的时间总合，而A消耗的时间则是B和E的总合</li>
</ul>
<p>图中：</p>
<ul>
<li>在Trace <code class="language-text">A</code>中，<code class="language-text">B</code>和<code class="language-text">E</code>是<code class="language-text">A</code>的子Span</li>
<li>在Trace <code class="language-text">A</code>中，<code class="language-text">B</code>和<code class="language-text">E</code>顺序执行，<code class="language-text">E</code>的执行需要等待<code class="language-text">B</code>的完成</li>
<li><code class="language-text">A</code>的消耗时长为<code class="language-text">B</code>和<code class="language-text">E</code>的总合（这里都是理想情况）</li>
<li>在Span <code class="language-text">B</code>中，<code class="language-text">C</code>和<code class="language-text">D</code>是<code class="language-text">B</code>的子Span</li>
<li>在Span <code class="language-text">B</code>中，<code class="language-text">C</code>和<code class="language-text">D</code>顺序执行，<code class="language-text">D</code>的执行需要等待<code class="language-text">C</code>的完成</li>
<li><code class="language-text">B</code>的消耗时长为<code class="language-text">C</code>和<code class="language-text">D</code>的总合（这里都是理想情况）</li>
</ul>
<h3 id="222-span属性" style="position:relative;"><a href="#222-span%E5%B1%9E%E6%80%A7" aria-label="222 span属性 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2.2 Span属性</h3>
<ul>
<li><code class="language-text">An operation name</code>，操作名称</li>
<li><code class="language-text">A start timestamp</code>，起始时间</li>
<li><code class="language-text">A finish timestamp</code>，结束时间</li>
<li><code class="language-text">Span Tag</code>，一组键值对构成的Span标签集合。键值对中，键必须为string，值可以是字符串，布尔，或者数字类型</li>
<li><code class="language-text">Span Log</code>，一组span的日志集合
<ul>
<li>每次log操作包含一个键值对，以及一个时间戳</li>
<li>键值对中，键必须为string，值可以是任意类型</li>
<li>但是需要注意，不是所有的支持OpenTracing的Tracer，都需要支持所有的值类型</li>
</ul>
</li>
<li><code class="language-text">SpanContext</code>，Span上下文对象</li>
<li><code class="language-text">References</code>，Span间关系，相关的零个或者多个Span（Span间通过SpanContext建立这种关系）</li>
</ul>
<p>Span Tag 范例：</p>
<ul>
<li>db.instance:“jdbc:mysql://127.0.0.1:3306/customers”</li>
<li>db.statement:“SELECT * FROM mytable WHERE foo=‘bar’;”</li>
</ul>
<p>Span Logs 范例：</p>
<ul>
<li>message:“Can’t connect to mysql server on ‘127.0.0.1’(10061)”</li>
</ul>
<h3 id="223-span-context属性" style="position:relative;"><a href="#223-span-context%E5%B1%9E%E6%80%A7" aria-label="223 span context属性 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2.3 Span Context属性</h3>
<ul>
<li>任何一个OpenTracing的实现，都需要将当前调用链的状态（例如：trace和span的id），依赖一个独特的Span去跨进程边界传输</li>
<li>Baggage Items，Trace的随行数据，是一个键值对集合，它存在于trace中，也需要跨进程边界传输</li>
</ul>
<p>SpanContext 范例：</p>
<ul>
<li>trace_id:“abc123”</li>
<li>span_id:“xyz789”</li>
<li>Baggage Items:
<ul>
<li>special_id:“vsid1738”</li>
</ul>
</li>
</ul>
<h3 id="224-span间关系" style="position:relative;"><a href="#224-span%E9%97%B4%E5%85%B3%E7%B3%BB" aria-label="224 span间关系 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2.4 Span间关系</h3>
<p>一个Span可以与一个或者多个SpanContexts存在因果关系。OpenTracing目前定义了两种关系：</p>
<ul>
<li>ChildOf（父子）</li>
<li>FollowsFrom（跟随）</li>
</ul>
<p>ChildOf引用：</p>
<ul>
<li>一个RPC调用的服务端的span，和RPC服务客户端的span构成ChildOf关系</li>
<li>一个sql insert操作的span，和ORM的save方法的span构成ChildOf关系</li>
<li>很多span可以并行工作（或者分布式工作）都可能是一个父级的span的子项，他会合并所有子span的执行结果，并在指定期限内返回</li>
</ul>
<h1 id="3-jaeger架构" style="position:relative;"><a href="#3-jaeger%E6%9E%B6%E6%9E%84" aria-label="3 jaeger架构 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Jaeger架构</h1>
<p>官网上（<a href="https://www.jaegertracing.io/docs/1.11/architecture/" target="_blank" rel="nofollow noopener noreferrer">Architecture</a>）有一张架构图，可以先看下：</p>
<p><img src="/media/posts/2019/04/jaeger-note/architecture.png" alt="Architecture"></p>
<p>图上的内容主要分几个部分，下面一个个说。</p>
<h2 id="31-jaeger-client" style="position:relative;"><a href="#31-jaeger-client" aria-label="31 jaeger client permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1 Jaeger Client</h2>
<p>Jaeger client是之前提到的OpenTracing API的多语言实现。这部分是嵌在你的应用程序里的一个<code class="language-text">类库</code>，它就是你的应用程序的一部分，使用它你就可以在收到Request的时候创建对应的Span，并向下游Request输出对应的Trace上下文。</p>
<p>Jaeger Client可以直接向Collector发送Trace信息，也可以结合本地的Agent协同工作，降低性能开销。实际上这部分的性能开销不会很大。</p>
<h2 id="32-jaeger-agent" style="position:relative;"><a href="#32-jaeger-agent" aria-label="32 jaeger agent permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2 Jaeger Agent</h2>
<p>Jaeger Agent是和目标应用程序并行部署的一个组件，可以理解为边车设计中的<code class="language-text">边车</code>的组成部分之一。它是一个长期启动的守护进程，通过监听UDP网络接收Client发送过来的Trace信息，并批量向Collector发送。在设计上，Agent可以将路由和服务发现相关的业务从Client里解耦出来。</p>
<h2 id="33-jaeger-collector" style="position:relative;"><a href="#33-jaeger-collector" aria-label="33 jaeger collector permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.3 Jaeger Collector</h2>
<p>Jaeger Collector可以说是Jaeger的<code class="language-text">服务器</code>，接收从Agent发送过来的Trace信息，并对其进行验证、索引、转换，并最终将其存储起来。</p>
<h2 id="34-data-store" style="position:relative;"><a href="#34-data-store" aria-label="34 data store permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.4 Data Store</h2>
<p>Jaeger的数据存储是可插拔式组件设计，有多种数据后端可选：</p>
<ul>
<li>Cassandra</li>
<li>Elasticsearch</li>
<li>Kafka (only as a buffer)，即并不能把Kafka当做最终存储设施</li>
</ul>
<p>存储选择是个问题，我简单搜索了下，没有找到非常权威的帖子对这三者进行横向比较，也可能是因为这块的技术比较新发展比较快。就我来看，个人建议是熟悉什么用什么，以不增加系统复杂度为第一要务。猜想：</p>
<ul>
<li>Cassandra大概是稳定性最好的，大数据量的选择应该是这个</li>
<li>功能上大概是ELK最好，本来它就是以全文搜索为功能设计出来的系统</li>
<li>性能上应该是Kafka最高，毕竟Kafka的吞吐量是有口皆碑的（中间通道）</li>
</ul>
<p>从官方的文档口径上来看，最推荐的应该是使用Kafka和Ingester组成通道，然后使用Cassandra作为存储设备。</p>
<h3 id="341-elasticsearch支持" style="position:relative;"><a href="#341-elasticsearch%E6%94%AF%E6%8C%81" aria-label="341 elasticsearch支持 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.4.1 ElasticSearch支持</h3>
<p>Jaeger最佳支持的后端存储是Cassandra，Elasticsearch是第二个官方支持的存储设施。文档在：<a href="https://github.com/jaegertracing/jaeger/blob/master/plugin/storage/es/README.md" target="_blank" rel="nofollow noopener noreferrer">ElasticSearch Support</a>。</p>
<p>需要注意的是，当前版本<code class="language-text">1.11.x</code>是不支持Elasticsearch最新版本<code class="language-text">7.x</code>的：<a href="https://github.com/jaegertracing/jaeger/issues/1474" target="_blank" rel="nofollow noopener noreferrer">Support Elasticsearch 7.x #1474</a>，而且看情况短期内应该也不会支持。后面我做practice的时候就直接选择cassandra作为存储了，毕竟存储还是安全第一。</p>
<h2 id="35-jaeger-query" style="position:relative;"><a href="#35-jaeger-query" aria-label="35 jaeger query permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.5 Jaeger Query</h2>
<p>Jaeger的查询引擎，UI发送查询请求到该组件，然后查询引擎会查询后台数据仓库，返回结果。该组件启动的时候已经附带启动了HTTP的UI界面。</p>
<h2 id="36-jaeger-ingester" style="position:relative;"><a href="#36-jaeger-ingester" aria-label="36 jaeger ingester permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.6 Jaeger Ingester</h2>
<p>组件上还有个Ingester，但基本上没找到什么相关信息。官方介绍：</p>
<blockquote>
<p>Ingester is a service that reads from Kafka topic and writes to another storage backend (Cassandra, Elasticsearch).</p>
</blockquote>
<p>感觉应该是一个解决吞吐量的中间件。</p>
<h2 id="37-日志模式" style="position:relative;"><a href="#37-%E6%97%A5%E5%BF%97%E6%A8%A1%E5%BC%8F" aria-label="37 日志模式 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.7 日志模式</h2>
<p>按照Jaeger当前的设计，Client和Agent之间是使用UDP进行通讯，必须是实时连接的，这就对Agent的健壮性提出了要求，如果当前Agent已挂，Client就基本上不可用了。而日志文件化的好处就是将Client和Agent彻底解耦，使用操作系统的磁盘IO来解决Tracing生成的问题，而这方面，官方<code class="language-text">并没有计划</code>要这么做，没有任何关于这方面的设计讨论（至少我没找到）。</p>
<p>而官方倒是有讨论：如果有一个外部存储已经存放了Tracing相关数据，能不能直接使用Query连接上去进行Tracing数据的展示和分析。见：</p>
<ul>
<li><a href="https://github.com/jaegertracing/jaeger/issues/649" target="_blank" rel="nofollow noopener noreferrer">Integration with external logs storage when displaying traces #649</a></li>
</ul>
<p>如果这个实现的话，实际上就完全绕过了Jaeger的整个生命周期：</p>
<ul>
<li>不再需要在应用程序中嵌入Jaeger的Client（直接使用日志组件将Tracing打成日志）</li>
<li>不再需要在边车中放置Jaeger的Agent（只要有日志聚合的Agent即可：Logstash、Filebeat）</li>
<li>不再需要启动Collector集群（直接由日志聚合Agent发送到Elaticsearch）</li>
</ul>
<p>只需要直接沿用（如果在用的话）ELK系列日志聚合系统，然后用Jaeger的Query直接连接到Elasticsearch上进行Tracing对应的日志分析就可以了。这样即减少了系统的整体复杂度（不需要Jaeger的一整套东西了），又降低了系统整体负载（磁盘IO永远是最便宜的东西）。</p>
<p>就看今后发展了。不过如果这真的实现了，Jaeger项目还有必要存在么。。。</p>
<h1 id="4-jaeger使用" style="position:relative;"><a href="#4-jaeger%E4%BD%BF%E7%94%A8" aria-label="4 jaeger使用 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Jaeger使用</h1>
<p>初步入门可以查看官方文档：<a href="https://www.jaegertracing.io/docs/1.11/getting-started/" target="_blank" rel="nofollow noopener noreferrer">Getting started</a>。实际生产环境的安装和部署，需要仔细阅读官方文档：<a href="https://www.jaegertracing.io/docs/1.11/deployment/" target="_blank" rel="nofollow noopener noreferrer">Deployment</a>。</p>
<p>如果使用<code class="language-text">all-in-one</code>范例镜像的话，可以：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run -d --name jaeger \
  -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 \
  -p 5775:5775/udp \
  -p 6831:6831/udp \
  -p 6832:6832/udp \
  -p 5778:5778 \
  -p 16686:16686 \
  -p 14268:14268 \
  -p 9411:9411 \
  jaegertracing/all-in-one:1.11.0</code></pre></div>
<p>这里主要要了解下一堆端口：</p>
<table>
<thead>
<tr>
<th align="left">Port</th>
<th align="left">Protocol</th>
<th align="left">Component</th>
<th align="left">Function</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">5775</td>
<td align="left">UDP</td>
<td align="left">agent</td>
<td align="left">accept zipkin.thrift over compact thrift protocol (deprecated, used by legacy clients only)</td>
</tr>
<tr>
<td align="left">6831</td>
<td align="left">UDP</td>
<td align="left">agent</td>
<td align="left">accept jaeger.thrift over compact thrift protocol</td>
</tr>
<tr>
<td align="left">6832</td>
<td align="left">UDP</td>
<td align="left">agent</td>
<td align="left">accept jaeger.thrift over binary thrift protocol</td>
</tr>
<tr>
<td align="left">5778</td>
<td align="left">HTTP</td>
<td align="left">agent</td>
<td align="left">serve configs</td>
</tr>
<tr>
<td align="left">16686</td>
<td align="left">HTTP</td>
<td align="left">query</td>
<td align="left">serve frontend</td>
</tr>
<tr>
<td align="left">16687</td>
<td align="left">HTTP</td>
<td align="left">query</td>
<td align="left">The http port for the health check service</td>
</tr>
<tr>
<td align="left">14267</td>
<td align="left">TChannel</td>
<td align="left">collector</td>
<td align="left">The TChannel port for the collector service</td>
</tr>
<tr>
<td align="left">14268</td>
<td align="left">HTTP</td>
<td align="left">collector</td>
<td align="left">accept jaeger.thrift directly from clients</td>
</tr>
<tr>
<td align="left">14269</td>
<td align="left">HTTP</td>
<td align="left">collector</td>
<td align="left">The http port for the health check service</td>
</tr>
<tr>
<td align="left">14250</td>
<td align="left">gRPC</td>
<td align="left">collector</td>
<td align="left">accept model.proto</td>
</tr>
<tr>
<td align="left">9411</td>
<td align="left">HTTP</td>
<td align="left">collector</td>
<td align="left">Zipkin compatible endpoint (optional)</td>
</tr>
</tbody>
</table>
<br/>
<p><strong>部分补充：</strong></p>
<p><a href="https://www.jaegertracing.io/docs/1.11/getting-started/" target="_blank" rel="nofollow noopener noreferrer">Getting started</a>范例的官方文档里缺一个端口<code class="language-text">14267</code>。这个端口的Protocol被描述成<code class="language-text">TChannel</code>，可搜索文档<a href="https://www.jaegertracing.io/docs/1.11/deployment/" target="_blank" rel="nofollow noopener noreferrer">Deployment</a>：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run \
  -e SPAN_STORAGE_TYPE=memory \
  jaegertracing/jaeger-collector:1.11.0 \
  --help

...
--collector.port int    The TChannel port for the collector service (default 14267)
...</code></pre></div>
<p>此外，端口<code class="language-text">14250</code>的说明也不够清楚，实际上它的Protocol是gRPC，也就是HTTP2：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">...
--collector.grpc-port int    The gRPC port for the collector service (default 14250)
...</code></pre></div>
<p>以及，<code class="language-text">14268</code>：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">...
--collector.http-port int    The HTTP port for the collector service (default 14268)
...</code></pre></div>
<h2 id="41-jaeger-collector单独启动" style="position:relative;"><a href="#41-jaeger-collector%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8" aria-label="41 jaeger collector单独启动 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1 Jaeger Collector单独启动</h2>
<p><a href="#jaeger-collector-memory---help">jaeger-collector memory —help</a></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run -d --name jaeger-collector \
  -e SPAN_STORAGE_TYPE=memory \
  -p 14267:14267 \
  -p 14268:14268 \
  -p 14250:14250 \
  jaegertracing/jaeger-collector:1.11.0</code></pre></div>
<h2 id="42-jaeger-agent单独启动" style="position:relative;"><a href="#42-jaeger-agent%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8" aria-label="42 jaeger agent单独启动 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2 Jaeger Agent单独启动</h2>
<p><a href="#jaeger-agent---help">jaeger-agent —help</a></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run -d --name jaeger-agent \
  --link jaeger-collector \
  -p 5775:5775/udp \
  -p 6831:6831/udp \
  -p 6832:6832/udp \
  -p 5778:5778 \
  jaegertracing/jaeger-agent:1.11.0 \
  --reporter.type=grpc \
  --reporter.grpc.host-port=jaeger-collector:14250</code></pre></div>
<h2 id="43-jaeger-query单独启动" style="position:relative;"><a href="#43-jaeger-query%E5%8D%95%E7%8B%AC%E5%90%AF%E5%8A%A8" aria-label="43 jaeger query单独启动 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.3 Jaeger Query单独启动</h2>
<p><a href="#jaeger-query---help">jaeger-query —help</a></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run -d --name jaeger-query \
  --link jaeger-collector \
  -e SPAN_STORAGE_TYPE=memory \
  -p 16686:16686 \
  jaegertracing/jaeger-query:1.11.0</code></pre></div>
<h1 id="5-jaeger高可用" style="position:relative;"><a href="#5-jaeger%E9%AB%98%E5%8F%AF%E7%94%A8" aria-label="5 jaeger高可用 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Jaeger高可用</h1>
<h2 id="51-metrics" style="position:relative;"><a href="#51-metrics" aria-label="51 metrics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.1 Metrics</h2>
<p>Jaeger也兼容Prometheus格式的指标输出，有两个命令行参数：</p>
<ul>
<li><code class="language-text">--metrics-backend</code>：metrics暴露的格式，默认为<code class="language-text">prometheus</code>，<code class="language-text">expvar</code>可选</li>
<li><code class="language-text">--metrics-http-route</code>：metrics暴露的endpoint，默认为<code class="language-text">/metrics</code></li>
</ul>
<p>此外，几个端口需要了解下：</p>
<table>
<thead>
<tr>
<th align="left">Component</th>
<th align="left">Port</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">jaeger-agent</td>
<td align="left">5778</td>
</tr>
<tr>
<td align="left">jaeger-collector</td>
<td align="left">14268</td>
</tr>
<tr>
<td align="left">jaeger-query</td>
<td align="left">16686</td>
</tr>
<tr>
<td align="left">jaeger-ingester</td>
<td align="left">14271</td>
</tr>
</tbody>
</table>
<br/>
<p>范例都在本文下面的资料部分：</p>
<ul>
<li><a href="#jaeger-agent-metrics">jaeger-agent</a></li>
<li><a href="#jaeger-collector-metrics">jaeger-collector</a></li>
<li><a href="#jaeger-query-metrics">jaeger-query</a></li>
<li>jaeger-ingester（这块启动需要的依赖太重，暂时没做尝试）</li>
</ul>
<h2 id="52-components" style="position:relative;"><a href="#52-components" aria-label="52 components permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2 Components</h2>
<p>先说结论，Jaeger在高可用这块的设计和实现基本上是空白，很可能在某些极端情况下丢失Tracing的数据。</p>
<h3 id="521-client" style="position:relative;"><a href="#521-client" aria-label="521 client permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2.1 Client</h3>
<p>Client因为只是应用程序的Lib部分，因此不涉及到任何高可用的概念。</p>
<h3 id="522-agent" style="position:relative;"><a href="#522-agent" aria-label="522 agent permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2.2 Agent</h3>
<p>Agent部分就只是一个转发机关，我查了下对应的文档和网络没找到高可用的设计，此外错误处理基本上也是没有的。也就是说，如果Agent出问题，所有当前未发送缓存中的数据都会丢失，且从Client传输到Agent的数据也会丢失。</p>
<p>见：</p>
<ul>
<li><a href="https://github.com/jaegertracing/jaeger/issues/1255" target="_blank" rel="nofollow noopener noreferrer">What happens when the jaeger-agent is down on a machine? #1255</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/1430" target="_blank" rel="nofollow noopener noreferrer">Jaeger Agent does not buffer spans when the Collector is unavailable #1430</a></li>
</ul>
<h3 id="523-collector" style="position:relative;"><a href="#523-collector" aria-label="523 collector permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2.3 Collector</h3>
<blockquote>
<p>The collectors are stateless and thus many instances of jaeger-collector can be run in parallel.</p>
</blockquote>
<p>这和我一开始的理解有点不同。我之前认为对同个Trace的多个子Span的识别和清洗过滤等行为是在Collector这个环节处理的，但既然官方文档都说明Collector是无状态的了，那就不是了。Collector应该只负责简单的Validation然后就直接存储到后台的Data Store里了。</p>
<p>如果对Agent配置了以<code class="language-text">,</code>分隔的多台无状态Collectors，而其中某台Down了会发生什么，后面需要做测试，按现在Jaeger对错误处理和可用性的支持来看，估计就是直接丢数据了。</p>
<p>同个Trace的多个组成部分Span是否都到达，是否缺失了一部分，看来是没有任何处理和保证的。这也就是说：可能会有部分Trace在UI中可以查到，但其中组成部分的Spans是不完整的，部分缺失的。说实在的，这还蛮致命的。</p>
<h3 id="524-data-store" style="position:relative;"><a href="#524-data-store" aria-label="524 data store permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5.2.4 Data Store</h3>
<p>这块就完全由选择的后台数据存储设施自己负责了，Cassandra是出了名的好用，Kafka在扩展上也不错，但Kafka仅只能作为中间通道使用，官方文档描述为：<code class="language-text">kafka (only as a buffer)</code>。</p>
<h1 id="6-jaeger采样" style="position:relative;"><a href="#6-jaeger%E9%87%87%E6%A0%B7" aria-label="6 jaeger采样 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Jaeger采样</h1>
<p>在<a href="/2019/04/monitoring-tracing-logging/">Compare: Monitoring | Tracing | Logging</a>里我已经提到过，tracing是一件频度相当高，且数据量很庞大的工作，因此其性能很可能有问题。Jaeger给了一个新的思路，就是按规则采样，而不是将所有发生的事件全部都发送并存储。</p>
<p>这里需要说明的是采样的决策。如果一个链路很长的Trace，其中每一个Span都有权决定当前信息是否需要被采样，那么你就永远看不到一个完整的Trace了。组成Trace的A、B、C，Span A决定采样，B决定不采样，C决定采样，结果Trace就丢失了B部分数据。</p>
<p>Jaeger采样的决策是在链路的第一节点就决定好了的，当前的Trace是否需要被采样，该决策做出之后，后续整个链路中所有的Span都需要按整个决策执行。这样就不会丢失数据了。</p>
<p>见：<a href="https://www.jaegertracing.io/docs/1.11/sampling/" target="_blank" rel="nofollow noopener noreferrer">Sampling</a>。</p>
<blockquote>
<p>The sampling decision will be propagated with the requests to B and to C, so those services will not be making the sampling decision again but instead will respect the decision made by the top service A. This approach guarantees that if a trace is sampled, all its spans will be recorded in the backend. If each service was making its own sampling decision we would rarely get complete traces in the backend.</p>
</blockquote>
<p>关于采样的策略，官方也看到了不少问题，后续有一个正在制作中的功能<code class="language-text">Adaptive Sampling</code>，具体的问题和设计可以看：<a href="https://github.com/jaegertracing/jaeger/issues/365" target="_blank" rel="nofollow noopener noreferrer">Adaptive Sampling #365</a>。简单来说就是可以按更复杂的策略进行采样的决策。</p>
<h2 id="61-client配置" style="position:relative;"><a href="#61-client%E9%85%8D%E7%BD%AE" aria-label="61 client配置 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1 Client配置</h2>
<p>最基础的策略，采样是按<code class="language-text">Client</code>的配置进行执行的，记住，这种情况下采样是在客户端做的，而不是服务器，而且每个客户端都可以做不同的策略。</p>
<p>此外，光阅读文档可能会理解不全，可以查看issue来加深理解：</p>
<ul>
<li><a href="https://github.com/jaegertracing/jaeger/issues/832" target="_blank" rel="nofollow noopener noreferrer">How sampler.type=remote works #832</a></li>
</ul>
<h3 id="611-constant" style="position:relative;"><a href="#611-constant" aria-label="611 constant permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1.1 Constant</h3>
<p>常量决策。</p>
<ul>
<li>类型：<code class="language-text">sampler.type=const</code></li>
<li>值：
<ul>
<li><code class="language-text">sampler.param=1</code>：全部采样</li>
<li><code class="language-text">sampler.param=0</code>：全部丢弃</li>
</ul>
</li>
</ul>
<h3 id="612-probabilistic" style="position:relative;"><a href="#612-probabilistic" aria-label="612 probabilistic permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1.2 Probabilistic</h3>
<p>概率决策。</p>
<ul>
<li>类型：<code class="language-text">sampler.type=probabilistic</code></li>
<li>值：<code class="language-text">sampler.param=0.1</code>表示 采样 1/10</li>
</ul>
<h3 id="613-rate-limiting" style="position:relative;"><a href="#613-rate-limiting" aria-label="613 rate limiting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1.3 Rate Limiting</h3>
<p>频次策略。</p>
<ul>
<li>类型：<code class="language-text">sampler.type=ratelimiting</code></li>
<li>值：<code class="language-text">sampler.param=2.0</code>表示 每秒 采样2次</li>
</ul>
<h3 id="614-remote" style="position:relative;"><a href="#614-remote" aria-label="614 remote permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.1.4 Remote</h3>
<p>远端决策。</p>
<ul>
<li>类型：<code class="language-text">sampler.type=remote</code></li>
</ul>
<p>这种情况下，Client会把请求发到Agent，而Agent则会进行判断是否进行采样。实际的配置则是放在Collector上，参见下面的<code class="language-text">6.2</code>。</p>
<blockquote>
<p>sampler consults Jaeger agent for the appropriate sampling strategy to use in the current service.</p>
</blockquote>
<h2 id="62-collector配置" style="position:relative;"><a href="#62-collector%E9%85%8D%E7%BD%AE" aria-label="62 collector配置 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6.2 Collector配置</h2>
<p>官方文档在：<a href="https://www.jaegertracing.io/docs/1.11/sampling/#collector-sampling-configuration" target="_blank" rel="nofollow noopener noreferrer">Collector Sampling Configuration</a>。</p>
<p>在<code class="language-text">Client</code>采样策略配置为：<code class="language-text">sampler.type=remote</code>的情况下，Agent会向Collector进行采样策略询问，这部分配置是放在<code class="language-text">Collector</code>上的。需要在Collector启动的时候指定配置文件：<code class="language-text">--sampling.strategies-file</code>。见：<a href="#ID_APP_COLLECTOR_HELP">jaeger-collector memory —help</a>。</p>
<blockquote>
<p>This option requires a path to a json file which have the sampling strategies defined.</p>
</blockquote>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"service_strategies"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"service"</span><span class="token operator">:</span> <span class="token string">"foo"</span><span class="token punctuation">,</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"probabilistic"</span><span class="token punctuation">,</span>
      <span class="token property">"param"</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
      <span class="token property">"operation_strategies"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"op1"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"probabilistic"</span><span class="token punctuation">,</span>
          <span class="token property">"param"</span><span class="token operator">:</span> <span class="token number">0.2</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"op2"</span><span class="token punctuation">,</span>
          <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"probabilistic"</span><span class="token punctuation">,</span>
          <span class="token property">"param"</span><span class="token operator">:</span> <span class="token number">0.4</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">"service"</span><span class="token operator">:</span> <span class="token string">"bar"</span><span class="token punctuation">,</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"ratelimiting"</span><span class="token punctuation">,</span>
      <span class="token property">"param"</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"default_strategy"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"probabilistic"</span><span class="token punctuation">,</span>
    <span class="token property">"param"</span><span class="token operator">:</span> <span class="token number">0.5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">service_strategies</code>定义了服务级别的采样策略，<code class="language-text">operation_strategies</code>则定义了操作级别的采样策略。而实施的采样策略有两种可能：<code class="language-text">概率策略</code>和<code class="language-text">频次策略</code>（注意：操作级别的采样策略 不支持 频次策略）。<code class="language-text">default_strategy</code>定义了上述定义之外的情况下的采样策略。</p>
<p>在上面的例子中：</p>
<ul>
<li>所有的<code class="language-text">foo</code>服务，都按0.8的概率策略进行采样</li>
<li><code class="language-text">op1</code>和<code class="language-text">op2</code>虽然属于<code class="language-text">foo</code>服务，但因为它们各自有自己的配置，因此按自己的配置实施，分别是0.2和0.4的概率策略</li>
<li>所有的<code class="language-text">bar</code>服务，都按每分钟5次的频次策略进行采样</li>
<li>除此之外的所有都按0.5的概率频次进行采样</li>
</ul>
<h1 id="7-jaeger监控" style="position:relative;"><a href="#7-jaeger%E7%9B%91%E6%8E%A7" aria-label="7 jaeger监控 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. Jaeger监控</h1>
<p>也许是因为项目太年轻了，在监控实践的过程中实在是很难找到资料，无论是metrics指标的说明文档，还是实际操作起来的Grafana Dashboard，基本上都是空白。大量工作只能自己手动实践解决。</p>
<h2 id="71-exporter" style="position:relative;"><a href="#71-exporter" aria-label="71 exporter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.1 Exporter</h2>
<p>Jaeger应用官方直接带了metrics输出，这方面就不需要找第三方的Exporter了。</p>
<p>端口需要简单说明下。metrics输出端口都是各服务的HTTP端口，也就是说，默认：</p>
<ul>
<li>jaeger-agent：5778</li>
<li>jaeger-collector：14268</li>
</ul>
<p>关于输出的metrics的说明没有找到对应的文档，官方有一个open的issue表示该工作在进行中：<a href="https://github.com/jaegertracing/jaeger/issues/1224" target="_blank" rel="nofollow noopener noreferrer">Is there a document to explain the specific meaning of various metrics? #1224</a>，至少近期是没指望了。</p>
<p>查找代码可以找到部分指标的简单说明：<a href="https://github.com/jaegertracing/jaeger/blob/v1.11.0/cmd/collector/app/metrics.go#L30" target="_blank" rel="nofollow noopener noreferrer">jaeger/cmd/collector/app/metrics.go</a>。</p>
<h2 id="72-grafana-dashboard" style="position:relative;"><a href="#72-grafana-dashboard" aria-label="72 grafana dashboard permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7.2 Grafana Dashboard</h2>
<p>在Grafana Labs简单查找了下，没有找到可以直接使用的Dashboard。确实能搜到几个Dashboard，但时间都比较久远，Jaeger的部分metrics已经改名了，导致这些Dashboard都无法正常使用，因此一般需要手动自制Dashboard。</p>
<p>官方有意向提供开箱即用的Dashboard，阅读下这个issue：<a href="https://github.com/jaegertracing/jaeger/issues/789" target="_blank" rel="nofollow noopener noreferrer">Could we provide pre-made Grafana dashboards for Jaeger backend components? #789</a>，但一样短期内不用指望了。</p>
<p>Issue中提到的<a href="https://github.com/grafana/jsonnet-libs/tree/master/jaeger-mixin" target="_blank" rel="nofollow noopener noreferrer">jsonnet-libs/jaeger-mixin/</a>倒是可以花点时间简单过一下。虽然不能直接使用，但对自制Dashboard有点指导帮助。</p>
<h1 id="8-docker集群实践" style="position:relative;"><a href="#8-docker%E9%9B%86%E7%BE%A4%E5%AE%9E%E8%B7%B5" aria-label="8 docker集群实践 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Docker集群实践</h1>
<h2 id="81-docker集群配置" style="position:relative;"><a href="#81-docker%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE" aria-label="81 docker集群配置 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.1 Docker集群配置</h2>
<p>配置相对来说比较简单，范例地址：<a href="https://github.com/agreatfool/dist-system-practice/blob/master/golang/src/dist-system-practice/conf/dev/jaeger-cluster.yaml" target="_blank" rel="nofollow noopener noreferrer">dist-system-practice/conf/dev/jaeger-cluster.yaml</a>。</p>
<p>主要搞清楚端口号就行了，jaeger这块开的端口实在是太多了，容易搞混。不过实际上用得多的也就那几个。</p>
<h2 id="82-storage-schema" style="position:relative;"><a href="#82-storage-schema" aria-label="82 storage schema permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.2 Storage Schema</h2>
<p>Jaeger支持的后端主要是Cassandra，对Elasticsearch的支持有，但只是二等的（版本更新、支持、响应都比Cassandra慢），所以如果可能，尽量使用Cassandra。</p>
<p>实验项目中使用的后端存储为Cassandra，版本为：<code class="language-text">3.11.4</code>。</p>
<p>Jaeger在使用之前，必须对后端存储设施进行Schema的初始化，也就是说要在数据库当中创建表才能使用，下文主要讲述Cassandra作为后端的使用经验，Elasticsearch相关请查阅官方文档：<a href="https://github.com/jaegertracing/jaeger/blob/master/plugin/storage/es/README.md" target="_blank" rel="nofollow noopener noreferrer">ElasticSearch Support</a>。</p>
<p>使用Cassandra作为后端，其Schema相关的导入代码存放在：<a href="https://github.com/jaegertracing/jaeger/tree/v1.11.0/plugin/storage/cassandra/schema" target="_blank" rel="nofollow noopener noreferrer">jaeger/plugin/storage/cassandra/schema/</a>，虽然路径是plugin，但实际上是可以单独使用的。</p>
<p>路径中存在两份<code class="language-text">*.cql.tmpl</code>，这实际上就是真正导入的SQL，如果不希望使用bash脚本工具，直接使用也是可以的，当然也需要像bash中的内容一样做一些准备和调整。关于cql相关，可以查看文档：</p>
<ul>
<li><a href="https://cassandra.apache.org/doc/latest/cql/" target="_blank" rel="nofollow noopener noreferrer">The Cassandra Query Language (CQL)</a></li>
<li><a href="https://docs.datastax.com/en/archived/cql/3.3/cql/cql_reference/cqlsh.html" target="_blank" rel="nofollow noopener noreferrer">Starting cqlsh</a></li>
</ul>
<h3 id="821-使用cqlsh导入" style="position:relative;"><a href="#821-%E4%BD%BF%E7%94%A8cqlsh%E5%AF%BC%E5%85%A5" aria-label="821 使用cqlsh导入 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.2.1 使用cqlsh导入</h3>
<p><code class="language-text">不推荐</code>直接使用cqlsh这种方法，下面的7.2.2有更好的方法。</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">docker</span> run -it --rm <span class="token punctuation">\</span>
    --network dist_net <span class="token punctuation">\</span>
    cassandra:3.11.4 <span class="token punctuation">\</span>
    cqlsh <span class="token punctuation">\</span>
    <span class="token variable">${host}</span> <span class="token variable">${port}</span> <span class="token punctuation">\</span>
    -u cassandra -p cassandra <span class="token punctuation">\</span>
    -f <span class="token variable">${file_path}</span></code></pre></div>
<p>关于Cassandra的端口号，可以查看：<a href="https://docs.datastax.com/en/archived/cassandra/3.0/cassandra/configuration/secureFireWall.html" target="_blank" rel="nofollow noopener noreferrer">Configuring firewall port access</a>。cqlsh连接用的端口号为client用端口号，即：<code class="language-text">9042</code>。</p>
<p>默认的用户名和密码：</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">The default user is cassandra. The default password is cassandra. </code></pre></div>
<h3 id="822-工具镜像导入" style="position:relative;"><a href="#822-%E5%B7%A5%E5%85%B7%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5" aria-label="822 工具镜像导入 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.2.2 工具镜像导入</h3>
<p>实际上官方有一个docker镜像帮忙协助进行schema的创建，但你直接去看这个镜像你根本就不会知道这个镜像是干嘛的，因为什么文档都没有。官方的文档中也没提到过这个镜像，我是在google的时候搜到jaeger的维护者中某一个人的博客的时候才找到的，哎。。。只能说，怎么说呢，这文档工作。。。jaeger已经算是好的了，实际上。</p>
<p>镜像：<a href="https://hub.docker.com/r/jaegertracing/jaeger-cassandra-schema" target="_blank" rel="nofollow noopener noreferrer">jaegertracing/jaeger-cassandra-schema</a>。使用方法可以查看博客里的范例：<a href="https://medium.com/jaegertracing/jaeger-and-multitenancy-99dfa1d49dc0" target="_blank" rel="nofollow noopener noreferrer">Jaeger and multitenancy</a>。</p>
<p>例子已经比较老了，修改如下：</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">docker</span> run --rm <span class="token punctuation">\</span>
  --name jaeger-cassandra-schema <span class="token punctuation">\</span>
  --network dist_net <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">MODE</span><span class="token operator">=</span>test <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">CQLSH_HOST</span><span class="token operator">=</span>cas_1 <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">KEYSPACE</span><span class="token operator">=</span>jaeger_keyspace <span class="token punctuation">\</span>
  jaegertracing/jaeger-cassandra-schema:1.11.0</code></pre></div>
<p><code class="language-text">KEYSPACE=jaeger_keyspace</code>这个名字一定要记住，后面在架设集群的时候是需要提供给collector的。</p>
<p>具体镜像做了什么，以及这个镜像可用的环境变量设置，可以查看：<a href="https://github.com/jaegertracing/jaeger/blob/v1.11.0/plugin/storage/cassandra/schema/docker.sh" target="_blank" rel="nofollow noopener noreferrer">jaeger/plugin/storage/cassandra/schema/docker.sh</a>。</p>
<p>其实这些环境变量最后还是落实到执行的脚本create.sh里，所以需要查看环境变量的作用以及脚本做了什么，可以查看：<a href="https://github.com/jaegertracing/jaeger/blob/v1.11.0/plugin/storage/cassandra/schema/create.sh" target="_blank" rel="nofollow noopener noreferrer">jaeger/plugin/storage/cassandra/schema/create.sh</a>。</p>
<h2 id="83-opentracing-coding-tutorial" style="position:relative;"><a href="#83-opentracing-coding-tutorial" aria-label="83 opentracing coding tutorial permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.3 Opentracing Coding Tutorial</h2>
<p>Opentracing Go官方是有Tutorial的：<a href="https://github.com/yurishkuro/opentracing-tutorial/tree/master/go" target="_blank" rel="nofollow noopener noreferrer">OpenTracing Tutorial - Go</a>。一样在官方文档里只字未提。</p>
<p>这个tutorial对新了解opentracing的人，以及对需要学习opentracing client编码的人都很有帮助。范例举得相当不错。</p>
<h2 id="84-client-coding" style="position:relative;"><a href="#84-client-coding" aria-label="84 client coding permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8.4 Client Coding</h2>
<p>Jaeger集群架设完毕还不算结束，后面还需要编写客户端的集成代码。Opentracing的整体流程，以及trace、span等概念，首先需要阅读官方文档，以及7.3中提到的tutorial。</p>
<p>这里要提一点，jaeger免不了会遇到rpc调用之间的上下文跨实体的情况，遇到这种情况，需要上游将trace相关信息<code class="language-text">inject</code>到请求中，然后在下游将trace信息<code class="language-text">extract</code>出来，根据extract的信息继续走之前的trace，这样才能保证跨实体的请求是在同一个trace中。相关细节可以查看7.3的tutorial中的第三节课。</p>
<p>客户端代码怎么写，看下下面的文档基本上就了解了。</p>
<ul>
<li>Opentracing官方文档：<a href="https://opentracing.io/guides/golang/quick-start/" target="_blank" rel="nofollow noopener noreferrer">Quick Start</a></li>
<li>gRPC Interceptor插件，官方：<a href="https://github.com/grpc-ecosystem/go-grpc-middleware/tree/master/tracing/opentracing" target="_blank" rel="nofollow noopener noreferrer">go-grpc-middleware/tracing/opentracing/</a></li>
<li>gRPC非官方插件：<a href="https://github.com/grpc-ecosystem/grpc-opentracing/tree/master/go/otgrpc" target="_blank" rel="nofollow noopener noreferrer">grpc-opentracing/go/otgrpc/</a></li>
</ul>
<p>对于一般的客户端使用看下官方文档就没什么问题了，gRPC稍微有点不同，官方提供了interceptor插件。至于这些插件怎么使用，可以查看范例：</p>
<ul>
<li><a href="https://github.com/grpc/grpc-go/blob/master/examples/features/interceptor/client/main.go" target="_blank" rel="nofollow noopener noreferrer">client/main.go</a></li>
<li><a href="https://github.com/grpc/grpc-go/blob/master/examples/features/interceptor/server/main.go" target="_blank" rel="nofollow noopener noreferrer">server/main.go</a></li>
</ul>
<h1 id="9-todo" style="position:relative;"><a href="#9-todo" aria-label="9 todo permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>9. TODO</h1>
<p>囿于当前使用的深度及项目调研的时间限制，有部分内容做的还不够深入，后续可以考虑补全：</p>
<ul>
<li>Jaeger自身的几项Metrics深入研究：Agent、Collector、Query</li>
<li>Jaeger的Benchmark</li>
<li>特别需要关注Jaeger在高负载情况下的数据丢失情况</li>
<li>后端Data Store的选择问题</li>
<li>和gin混用的情况下，gRPC客户端的interceptor不会生效（服务端正常），很奇怪，需要后续debug</li>
</ul>
<h1 id="资料" style="position:relative;"><a href="#%E8%B5%84%E6%96%99" aria-label="资料 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>资料</h1>
<h2 id="链接" style="position:relative;"><a href="#%E9%93%BE%E6%8E%A5" aria-label="链接 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>链接</h2>
<ul>
<li><a href="https://yq.aliyun.com/articles/514488" target="_blank" rel="nofollow noopener noreferrer">开放分布式追踪（OpenTracing）入门与 Jaeger 实现</a></li>
<li><a href="https://www.jianshu.com/p/a963ad0bbe3e" target="_blank" rel="nofollow noopener noreferrer">OpenTracing语义标准规范及实现</a></li>
<li><a href="https://medium.com/jaegertracing/the-life-of-a-span-ee508410200b" target="_blank" rel="nofollow noopener noreferrer">The life of a span</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/1255" target="_blank" rel="nofollow noopener noreferrer">What happens when the jaeger-agent is down on a machine? #1255</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/1430" target="_blank" rel="nofollow noopener noreferrer">Jaeger Agent does not buffer spans when the Collector is unavailable #1430</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/365" target="_blank" rel="nofollow noopener noreferrer">Adaptive Sampling #365</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/832" target="_blank" rel="nofollow noopener noreferrer">How sampler.type=remote works #832</a></li>
<li><a href="https://github.com/jaegertracing/jaeger/issues/649" target="_blank" rel="nofollow noopener noreferrer">Integration with external logs storage when displaying traces #649</a></li>
<li><a href="https://cassandra.apache.org/doc/latest/cql/" target="_blank" rel="nofollow noopener noreferrer">The Cassandra Query Language (CQL)</a></li>
<li><a href="https://docs.datastax.com/en/archived/cql/3.3/cql/cql_reference/cqlsh.html" target="_blank" rel="nofollow noopener noreferrer">Starting cqlsh</a></li>
<li><a href="https://docs.datastax.com/en/archived/cassandra/3.0/cassandra/configuration/secureFireWall.html" target="_blank" rel="nofollow noopener noreferrer">Configuring firewall port access</a></li>
<li><a href="https://hub.docker.com/r/jaegertracing/jaeger-cassandra-schema" target="_blank" rel="nofollow noopener noreferrer">jaegertracing/jaeger-cassandra-schema</a></li>
<li><a href="https://medium.com/jaegertracing/jaeger-and-multitenancy-99dfa1d49dc0" target="_blank" rel="nofollow noopener noreferrer">Jaeger and multitenancy</a></li>
<li><a href="https://github.com/yurishkuro/opentracing-tutorial/tree/master/go" target="_blank" rel="nofollow noopener noreferrer">OpenTracing Tutorial - Go</a></li>
<li><a href="https://github.com/grpc-ecosystem/grpc-opentracing/tree/master/go/otgrpc" target="_blank" rel="nofollow noopener noreferrer">grpc-opentracing/go/otgrpc/</a></li>
</ul>
<h2 id="help" style="position:relative;"><a href="#help" aria-label="help permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Help</h2>
<h3 id="jaeger-agent---help" style="position:relative;"><a href="#jaeger-agent---help" aria-label="jaeger agent   help permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-agent —help</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run --rm jaegertracing/jaeger-agent:1.11.0 --help

Jaeger agent is a daemon program that runs on every host and receives tracing data submitted by Jaeger client libraries.

Usage:
  jaeger-agent [flags]
  jaeger-agent [command]

Available Commands:
  help        Help about any command
  version     Print the version

Flags:
      --collector.host-port string                                Deprecated; comma-separated string representing host:ports of a static list of collectors to connect to directly (e.g. when not using service discovery)
      --config-file string                                        Configuration file in JSON, TOML, YAML, HCL, or Java properties formats (default none). See spf13/viper for precedence.
      --discovery.conn-check-timeout duration                     Deprecated; sets the timeout used when establishing new connections (default 250ms)
      --discovery.min-peers int                                   Deprecated; if using service discovery, the min number of connections to maintain to the backend (default 3)
  -h, --help                                                      help for jaeger-agent
      --http-server.host-port string                              host:port of the http server (e.g. for /sampling point and /baggageRestrictions endpoint) (default ":5778")
      --log-level string                                          Minimal allowed log Level. For more levels see https://github.com/uber-go/zap (default "info")
      --metrics-backend string                                    Defines which metrics backend to use for metrics reporting: expvar, prometheus, none (default "prometheus")
      --metrics-http-route string                                 Defines the route of HTTP endpoint for metrics backends that support scraping (default "/metrics")
      --processor.jaeger-binary.server-host-port string           host:port for the UDP server (default ":6832")
      --processor.jaeger-binary.server-max-packet-size int        max packet size for the UDP server (default 65000)
      --processor.jaeger-binary.server-queue-size int             length of the queue for the UDP server (default 1000)
      --processor.jaeger-binary.workers int                       how many workers the processor should run (default 10)
      --processor.jaeger-compact.server-host-port string          host:port for the UDP server (default ":6831")
      --processor.jaeger-compact.server-max-packet-size int       max packet size for the UDP server (default 65000)
      --processor.jaeger-compact.server-queue-size int            length of the queue for the UDP server (default 1000)
      --processor.jaeger-compact.workers int                      how many workers the processor should run (default 10)
      --processor.zipkin-compact.server-host-port string          host:port for the UDP server (default ":5775")
      --processor.zipkin-compact.server-max-packet-size int       max packet size for the UDP server (default 65000)
      --processor.zipkin-compact.server-queue-size int            length of the queue for the UDP server (default 1000)
      --processor.zipkin-compact.workers int                      how many workers the processor should run (default 10)
      --reporter.grpc.host-port string                            Comma-separated string representing host:port of a static list of collectors to connect to directly.
      --reporter.grpc.retry.max uint                              Sets the maximum number of retries for a call. (default 3)
      --reporter.grpc.tls                                         Enable TLS.
      --reporter.grpc.tls.ca string                               Path to a TLS CA file. (default use the systems truststore)
      --reporter.grpc.tls.server-name string                      Override the TLS server name.
      --reporter.tchannel.discovery.conn-check-timeout duration   sets the timeout used when establishing new connections (default 250ms)
      --reporter.tchannel.discovery.min-peers int                 if using service discovery, the min number of connections to maintain to the backend (default 3)
      --reporter.tchannel.host-port string                        comma-separated string representing host:ports of a static list of collectors to connect to directly (e.g. when not using service discovery)
      --reporter.tchannel.report-timeout duration                 sets the timeout used when reporting spans (default 1s)
      --reporter.type string                                      Reporter type to use e.g. grpc, tchannel (default "grpc")

Use "jaeger-agent [command] --help" for more information about a command.</code></pre></div>
<h3 id="jaeger-collector-memory---help" style="position:relative;"><a href="#jaeger-collector-memory---help" aria-label="jaeger collector memory   help permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-collector memory —help</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run --rm -e SPAN_STORAGE_TYPE=memory jaegertracing/jaeger-collector:1.11.0 --help

Jaeger collector receives traces from Jaeger agents and runs them through a processing pipeline.

Usage:
  jaeger-collector [flags]
  jaeger-collector [command]

Available Commands:
  env         Help about environment variables
  help        Help about any command
  version     Print the version

Flags:
      --collector.grpc-port int           The gRPC port for the collector service (default 14250)
      --collector.grpc.tls                Enable TLS
      --collector.grpc.tls.cert string    Path to TLS certificate file
      --collector.grpc.tls.key string     Path to TLS key file
      --collector.http-port int           The HTTP port for the collector service (default 14268)
      --collector.num-workers int         The number of workers pulling items from the queue (default 50)
      --collector.port int                The TChannel port for the collector service (default 14267)
      --collector.queue-size int          The queue size of the collector (default 2000)
      --collector.zipkin.http-port int    The HTTP port for the Zipkin collector service e.g. 9411
      --config-file string                Configuration file in JSON, TOML, YAML, HCL, or Java properties formats (default none). See spf13/viper for precedence.
      --health-check-http-port int        The http port for the health check service (default 14269)
  -h, --help                              help for jaeger-collector
      --log-level string                  Minimal allowed log Level. For more levels see https://github.com/uber-go/zap (default "info")
      --memory.max-traces int             The maximum amount of traces to store in memory
      --metrics-backend string            Defines which metrics backend to use for metrics reporting: expvar, prometheus, none (default "prometheus")
      --metrics-http-route string         Defines the route of HTTP endpoint for metrics backends that support scraping (default "/metrics")
      --sampling.strategies-file string   The path for the sampling strategies file in JSON format. See sampling documentation to see format of the file
      --span-storage.type string          Deprecated; please use SPAN_STORAGE_TYPE environment variable. Run this binary with "env" command for help.

Use "jaeger-collector [command] --help" for more information about a command.</code></pre></div>
<h3 id="jaeger-query---help" style="position:relative;"><a href="#jaeger-query---help" aria-label="jaeger query   help permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-query —help</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$ docker run --rm jaegertracing/jaeger-query:1.11.0 --help

Jaeger query service provides a Web UI and an API for accessing trace data.

Usage:
  jaeger-query [flags]
  jaeger-query [command]

Available Commands:
  env         Help about environment variables
  help        Help about any command
  version     Print the version

Flags:
      --cassandra...
      --config-file string                              Configuration file in JSON, TOML, YAML, HCL, or Java properties formats (default none). See spf13/viper for precedence.
      --health-check-http-port int                      The http port for the health check service (default 16687)
  -h, --help                                            help for jaeger-query
      --log-level string                                Minimal allowed log Level. For more levels see https://github.com/uber-go/zap (default "info")
      --metrics-backend string                          Defines which metrics backend to use for metrics reporting: expvar, prometheus, none (default "prometheus")
      --metrics-http-route string                       Defines the route of HTTP endpoint for metrics backends that support scraping (default "/metrics")
      --query.base-path string                          The base path for all HTTP routes, e.g. /jaeger; useful when running behind a reverse proxy (default "/")
      --query.port int                                  The port for the query service (default 16686)
      --query.static-files string                       The directory path override for the static assets for the UI
      --query.ui-config string                          The path to the UI configuration file in JSON format
      --span-storage.type string                        Deprecated; please use SPAN_STORAGE_TYPE environment variable. Run this binary with "env" command for help.

Use "jaeger-query [command] --help" for more information about a command.</code></pre></div>
<h2 id="metrics" style="position:relative;"><a href="#metrics" aria-label="metrics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metrics</h2>
<h3 id="jaeger-agent-metrics" style="position:relative;"><a href="#jaeger-agent-metrics" aria-label="jaeger agent metrics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-agent metrics</h3>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># HELP go_gc_duration_seconds A summary of the GC invocation durations.</span>
<span class="token comment"># TYPE go_gc_duration_seconds summary</span>
<span class="token punctuation">..</span>.
<span class="token comment"># HELP jaeger_agent_collector_proxy_total collector-proxy</span>
<span class="token comment"># TYPE jaeger_agent_collector_proxy_total counter</span>
jaeger_agent_collector_proxy_total<span class="token punctuation">{</span>endpoint<span class="token operator">=</span><span class="token string">"baggage"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_collector_proxy_total<span class="token punctuation">{</span>endpoint<span class="token operator">=</span><span class="token string">"baggage"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_collector_proxy_total<span class="token punctuation">{</span>endpoint<span class="token operator">=</span><span class="token string">"sampling"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_collector_proxy_total<span class="token punctuation">{</span>endpoint<span class="token operator">=</span><span class="token string">"sampling"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_http_server_errors_total http-server.errors</span>
<span class="token comment"># TYPE jaeger_agent_http_server_errors_total counter</span>
jaeger_agent_http_server_errors_total<span class="token punctuation">{</span>source<span class="token operator">=</span><span class="token string">"all"</span>,status<span class="token operator">=</span><span class="token string">"4xx"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_http_server_errors_total<span class="token punctuation">{</span>source<span class="token operator">=</span><span class="token string">"collector-proxy"</span>,status<span class="token operator">=</span><span class="token string">"5xx"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_http_server_errors_total<span class="token punctuation">{</span>source<span class="token operator">=</span><span class="token string">"thrift"</span>,status<span class="token operator">=</span><span class="token string">"5xx"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_http_server_errors_total<span class="token punctuation">{</span>source<span class="token operator">=</span><span class="token string">"write"</span>,status<span class="token operator">=</span><span class="token string">"5xx"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_http_server_requests_total http-server.requests</span>
<span class="token comment"># TYPE jaeger_agent_http_server_requests_total counter</span>
jaeger_agent_http_server_requests_total<span class="token punctuation">{</span>type<span class="token operator">=</span><span class="token string">"baggage"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_http_server_requests_total<span class="token punctuation">{</span>type<span class="token operator">=</span><span class="token string">"sampling"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_http_server_requests_total<span class="token punctuation">{</span>type<span class="token operator">=</span><span class="token string">"sampling-legacy"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_reporter_batch_size batch_size</span>
<span class="token comment"># TYPE jaeger_agent_reporter_batch_size gauge</span>
jaeger_agent_reporter_batch_size<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_reporter_batch_size<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_reporter_batches_failures_total batches.failures</span>
<span class="token comment"># TYPE jaeger_agent_reporter_batches_failures_total counter</span>
jaeger_agent_reporter_batches_failures_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_reporter_batches_failures_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_reporter_batches_submitted_total batches.submitted</span>
<span class="token comment"># TYPE jaeger_agent_reporter_batches_submitted_total counter</span>
jaeger_agent_reporter_batches_submitted_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_reporter_batches_submitted_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_reporter_spans_failures_total spans.failures</span>
<span class="token comment"># TYPE jaeger_agent_reporter_spans_failures_total counter</span>
jaeger_agent_reporter_spans_failures_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_reporter_spans_failures_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_reporter_spans_submitted_total spans.submitted</span>
<span class="token comment"># TYPE jaeger_agent_reporter_spans_submitted_total counter</span>
jaeger_agent_reporter_spans_submitted_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_reporter_spans_submitted_total<span class="token punctuation">{</span>format<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"grpc"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_server_packet_size thrift.udp.server.packet_size</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_server_packet_size gauge</span>
jaeger_agent_thrift_udp_server_packet_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packet_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packet_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_server_packets_dropped_total thrift.udp.server.packets.dropped</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_server_packets_dropped_total counter</span>
jaeger_agent_thrift_udp_server_packets_dropped_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packets_dropped_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packets_dropped_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_server_packets_processed_total thrift.udp.server.packets.processed</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_server_packets_processed_total counter</span>
jaeger_agent_thrift_udp_server_packets_processed_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packets_processed_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_packets_processed_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_server_queue_size thrift.udp.server.queue_size</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_server_queue_size gauge</span>
jaeger_agent_thrift_udp_server_queue_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_queue_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_queue_size<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_server_read_errors_total thrift.udp.server.read.errors</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_server_read_errors_total counter</span>
jaeger_agent_thrift_udp_server_read_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_read_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_server_read_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_t_processor_close_time thrift.udp.t-processor.close-time</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_t_processor_close_time histogram</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_sum<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_count<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_sum<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_count<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_bucket<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_sum<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_close_time_count<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_agent_thrift_udp_t_processor_handler_errors_total thrift.udp.t-processor.handler-errors</span>
<span class="token comment"># TYPE jaeger_agent_thrift_udp_t_processor_handler_errors_total counter</span>
jaeger_agent_thrift_udp_t_processor_handler_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"binary"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_handler_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"jaeger"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_agent_thrift_udp_t_processor_handler_errors_total<span class="token punctuation">{</span>model<span class="token operator">=</span><span class="token string">"zipkin"</span>,protocol<span class="token operator">=</span><span class="token string">"compact"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.</span>
<span class="token comment"># TYPE process_cpu_seconds_total counter</span>
process_cpu_seconds_total <span class="token number">0.05</span>
<span class="token comment"># HELP process_max_fds Maximum number of open file descriptors.</span>
<span class="token comment"># TYPE process_max_fds gauge</span>
process_max_fds <span class="token number">1</span>.048576e+06
<span class="token comment"># HELP process_open_fds Number of open file descriptors.</span>
<span class="token comment"># TYPE process_open_fds gauge</span>
process_open_fds <span class="token number">11</span>
<span class="token comment"># HELP process_resident_memory_bytes Resident memory size in bytes.</span>
<span class="token comment"># TYPE process_resident_memory_bytes gauge</span>
process_resident_memory_bytes <span class="token number">1</span>.3283328e+07
<span class="token comment"># HELP process_start_time_seconds Start time of the process since unix epoch in seconds.</span>
<span class="token comment"># TYPE process_start_time_seconds gauge</span>
process_start_time_seconds <span class="token number">1</span>.55540751234e+09
<span class="token comment"># HELP process_virtual_memory_bytes Virtual memory size in bytes.</span>
<span class="token comment"># TYPE process_virtual_memory_bytes gauge</span>
process_virtual_memory_bytes <span class="token number">1</span>.22187776e+08</code></pre></div>
<h3 id="jaeger-collector-metrics" style="position:relative;"><a href="#jaeger-collector-metrics" aria-label="jaeger collector metrics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-collector metrics</h3>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># HELP go_gc_duration_seconds A summary of the GC invocation durations.</span>
<span class="token comment"># TYPE go_gc_duration_seconds summary</span>
<span class="token punctuation">..</span>.
<span class="token comment"># HELP jaeger_collector_batch_size batch-size</span>
<span class="token comment"># TYPE jaeger_collector_batch_size gauge</span>
jaeger_collector_batch_size<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_in_queue_latency in-queue-latency</span>
<span class="token comment"># TYPE jaeger_collector_in_queue_latency histogram</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_sum<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_in_queue_latency_count<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_queue_length queue-length</span>
<span class="token comment"># TYPE jaeger_collector_queue_length gauge</span>
jaeger_collector_queue_length<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_save_latency save-latency</span>
<span class="token comment"># TYPE jaeger_collector_save_latency histogram</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_bucket<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_sum<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_save_latency_count<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_spans_dropped_total spans.dropped</span>
<span class="token comment"># TYPE jaeger_collector_spans_dropped_total counter</span>
jaeger_collector_spans_dropped_total<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_spans_received_total received</span>
<span class="token comment"># TYPE jaeger_collector_spans_received_total counter</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_spans_rejected_total rejected</span>
<span class="token comment"># TYPE jaeger_collector_spans_rejected_total counter</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_spans_saved_by_svc_total saved-by-svc</span>
<span class="token comment"># TYPE jaeger_collector_spans_saved_by_svc_total counter</span>
jaeger_collector_spans_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_spans_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_spans_serviceNames spans.serviceNames</span>
<span class="token comment"># TYPE jaeger_collector_spans_serviceNames gauge</span>
jaeger_collector_spans_serviceNames<span class="token punctuation">{</span>host<span class="token operator">=</span><span class="token string">"1bd33f303256"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_traces_received_total received</span>
<span class="token comment"># TYPE jaeger_collector_traces_received_total counter</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_received_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_traces_rejected_total rejected</span>
<span class="token comment"># TYPE jaeger_collector_traces_rejected_total counter</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"jaeger"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"unknown"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_rejected_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,format<span class="token operator">=</span><span class="token string">"zipkin"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_collector_traces_saved_by_svc_total saved-by-svc</span>
<span class="token comment"># TYPE jaeger_collector_traces_saved_by_svc_total counter</span>
jaeger_collector_traces_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"false"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_collector_traces_saved_by_svc_total<span class="token punctuation">{</span>debug<span class="token operator">=</span><span class="token string">"true"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,svc<span class="token operator">=</span><span class="token string">"other-services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.</span>
<span class="token comment"># TYPE process_cpu_seconds_total counter</span>
process_cpu_seconds_total <span class="token number">0.71</span>
<span class="token comment"># HELP process_max_fds Maximum number of open file descriptors.</span>
<span class="token comment"># TYPE process_max_fds gauge</span>
process_max_fds <span class="token number">1</span>.048576e+06
<span class="token comment"># HELP process_open_fds Number of open file descriptors.</span>
<span class="token comment"># TYPE process_open_fds gauge</span>
process_open_fds <span class="token number">11</span>
<span class="token comment"># HELP process_resident_memory_bytes Resident memory size in bytes.</span>
<span class="token comment"># TYPE process_resident_memory_bytes gauge</span>
process_resident_memory_bytes <span class="token number">1</span>.9329024e+07
<span class="token comment"># HELP process_start_time_seconds Start time of the process since unix epoch in seconds.</span>
<span class="token comment"># TYPE process_start_time_seconds gauge</span>
process_start_time_seconds <span class="token number">1</span>.55540675992e+09
<span class="token comment"># HELP process_virtual_memory_bytes Virtual memory size in bytes.</span>
<span class="token comment"># TYPE process_virtual_memory_bytes gauge</span>
process_virtual_memory_bytes <span class="token number">1</span>.3008896e+08</code></pre></div>
<h3 id="jaeger-query-metrics" style="position:relative;"><a href="#jaeger-query-metrics" aria-label="jaeger query metrics permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>jaeger-query metrics</h3>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># HELP go_gc_duration_seconds A summary of the GC invocation durations.</span>
<span class="token comment"># TYPE go_gc_duration_seconds summary</span>
<span class="token punctuation">..</span>.
<span class="token comment"># HELP jaeger_query_latency latency</span>
<span class="token comment"># TYPE jaeger_query_latency histogram</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_latency_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_query_requests_total requests</span>
<span class="token comment"># TYPE jaeger_query_requests_total counter</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_requests_total<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_query_responses responses</span>
<span class="token comment"># TYPE jaeger_query_responses histogram</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_trace_ids"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"find_traces"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_operations"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_services"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.005"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.01"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.025"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.05"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.25"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"0.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"1"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"2.5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"5"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"10"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_bucket<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span>,le<span class="token operator">=</span><span class="token string">"+Inf"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_sum<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_query_responses_count<span class="token punctuation">{</span>operation<span class="token operator">=</span><span class="token string">"get_trace"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_baggage_restrictions_updates_total Number of times baggage restrictions were successfully updated</span>
<span class="token comment"># TYPE jaeger_tracer_baggage_restrictions_updates_total counter</span>
jaeger_tracer_baggage_restrictions_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_baggage_restrictions_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_baggage_truncations_total Number of times baggage was truncated as per baggage restrictions</span>
<span class="token comment"># TYPE jaeger_tracer_baggage_truncations_total counter</span>
jaeger_tracer_baggage_truncations_total <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_baggage_updates_total Number of times baggage was successfully written or updated on spans</span>
<span class="token comment"># TYPE jaeger_tracer_baggage_updates_total counter</span>
jaeger_tracer_baggage_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_baggage_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_finished_spans_total Number of spans finished by this tracer</span>
<span class="token comment"># TYPE jaeger_tracer_finished_spans_total counter</span>
jaeger_tracer_finished_spans_total <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_reporter_queue_length Current number of spans in the reporter queue</span>
<span class="token comment"># TYPE jaeger_tracer_reporter_queue_length gauge</span>
jaeger_tracer_reporter_queue_length <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_reporter_spans_total Number of spans successfully reported</span>
<span class="token comment"># TYPE jaeger_tracer_reporter_spans_total counter</span>
jaeger_tracer_reporter_spans_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"dropped"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_reporter_spans_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_reporter_spans_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_sampler_queries_total Number of times the Sampler succeeded to retrieve sampling strategy</span>
<span class="token comment"># TYPE jaeger_tracer_sampler_queries_total counter</span>
jaeger_tracer_sampler_queries_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_sampler_queries_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_sampler_updates_total Number of times the Sampler succeeded to retrieve and update sampling strategy</span>
<span class="token comment"># TYPE jaeger_tracer_sampler_updates_total counter</span>
jaeger_tracer_sampler_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_sampler_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_span_context_decoding_errors_total Number of errors decoding tracing context</span>
<span class="token comment"># TYPE jaeger_tracer_span_context_decoding_errors_total counter</span>
jaeger_tracer_span_context_decoding_errors_total <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_started_spans_total Number of sampled spans started by this tracer</span>
<span class="token comment"># TYPE jaeger_tracer_started_spans_total counter</span>
jaeger_tracer_started_spans_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_started_spans_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_throttled_debug_spans_total Number of times debug spans were throttled</span>
<span class="token comment"># TYPE jaeger_tracer_throttled_debug_spans_total counter</span>
jaeger_tracer_throttled_debug_spans_total <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_throttler_updates_total Number of times throttler successfully updated</span>
<span class="token comment"># TYPE jaeger_tracer_throttler_updates_total counter</span>
jaeger_tracer_throttler_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"err"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_throttler_updates_total<span class="token punctuation">{</span>result<span class="token operator">=</span><span class="token string">"ok"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP jaeger_tracer_traces_total Number of traces started by this tracer as sampled</span>
<span class="token comment"># TYPE jaeger_tracer_traces_total counter</span>
jaeger_tracer_traces_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"n"</span>,state<span class="token operator">=</span><span class="token string">"joined"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_traces_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"n"</span>,state<span class="token operator">=</span><span class="token string">"started"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_traces_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"y"</span>,state<span class="token operator">=</span><span class="token string">"joined"</span><span class="token punctuation">}</span> <span class="token number">0</span>
jaeger_tracer_traces_total<span class="token punctuation">{</span>sampled<span class="token operator">=</span><span class="token string">"y"</span>,state<span class="token operator">=</span><span class="token string">"started"</span><span class="token punctuation">}</span> <span class="token number">0</span>
<span class="token comment"># HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.</span>
<span class="token comment"># TYPE process_cpu_seconds_total counter</span>
process_cpu_seconds_total <span class="token number">0.09</span>
<span class="token comment"># HELP process_max_fds Maximum number of open file descriptors.</span>
<span class="token comment"># TYPE process_max_fds gauge</span>
process_max_fds <span class="token number">1</span>.048576e+06
<span class="token comment"># HELP process_open_fds Number of open file descriptors.</span>
<span class="token comment"># TYPE process_open_fds gauge</span>
process_open_fds <span class="token number">9</span>
<span class="token comment"># HELP process_resident_memory_bytes Resident memory size in bytes.</span>
<span class="token comment"># TYPE process_resident_memory_bytes gauge</span>
process_resident_memory_bytes <span class="token number">1</span>.4475264e+07
<span class="token comment"># HELP process_start_time_seconds Start time of the process since unix epoch in seconds.</span>
<span class="token comment"># TYPE process_start_time_seconds gauge</span>
process_start_time_seconds <span class="token number">1</span>.55540951442e+09
<span class="token comment"># HELP process_virtual_memory_bytes Virtual memory size in bytes.</span>
<span class="token comment"># TYPE process_virtual_memory_bytes gauge</span>
process_virtual_memory_bytes <span class="token number">1</span>.31395584e+08</code></pre></div>
<blockquote>
<p>EOF</p>
</blockquote></div></div></div><div class="Post-module--footer--NpFTW"><div class="Meta-module--meta--3YYBJ"><p class="Meta-module--date--U0EV3">Published<!-- --> <!-- -->2019/4/17<!-- --></p></div><div class="Tags-module--tags--1r6Jk"><ul class="Tags-module--list--3a6Ka"><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/jaeger/">Jaeger</a></li><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/opentracing/">OpenTracing</a></li><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/tracing/">Tracing</a></li><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/devops/">DevOps</a></li><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/monitor/">Monitor</a></li><li class="Tags-module--item--2JSXQ"><a class="Tags-module--link--hkiai" href="/tag/keynote/">Keynote</a></li></ul></div><div class="Author-module--author--2kT-Q"><p class="Author-module--bio--2YX8-">Some tech &amp; personal blog posts<!-- --><a class="Author-module--twitter--1B6I5" href="https://github.com/agreatfool" rel="noopener noreferrer" target="_blank"><strong>Jonathan Dai</strong> on Github<!-- --></a></p></div></div><div class="Post-module--comments--2bE-0"><div id="disqus_thread"></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2019/04/jaeger-note";window.___webpackCompilationHash="562d28e13bf725945aa1";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-bab3973ac6bc1583f03d.js"],"app":["/app-682ed93ef2a62a872346.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-0f5b8a073afc45a4d929.js"],"component---src-templates-categories-template-categories-template-tsx":["/component---src-templates-categories-template-categories-template-tsx-daa1c8b2990e77e767ae.js"],"component---src-templates-category-template-category-template-tsx":["/component---src-templates-category-template-category-template-tsx-0d3ee77b1ac4a3e33e05.js"],"component---src-templates-index-template-index-template-tsx":["/component---src-templates-index-template-index-template-tsx-697e4a28adf875f5073d.js"],"component---src-templates-not-found-template-not-found-template-tsx":["/component---src-templates-not-found-template-not-found-template-tsx-b72082f18cbcc9aaff0a.js"],"component---src-templates-page-template-page-template-tsx":["/component---src-templates-page-template-page-template-tsx-120813411cabb27699a3.js"],"component---src-templates-post-template-post-template-tsx":["/component---src-templates-post-template-post-template-tsx-32391d51d2be1fb5b6b7.js"],"component---src-templates-tag-template-tag-template-tsx":["/component---src-templates-tag-template-tag-template-tsx-83c32a9a4364588b13ca.js"],"component---src-templates-tags-template-tags-template-tsx":["/component---src-templates-tags-template-tags-template-tsx-44dadbacd09d49085806.js"]};/*]]>*/</script><script src="/polyfill-bab3973ac6bc1583f03d.js" nomodule=""></script><script src="/app-682ed93ef2a62a872346.js" async=""></script><script src="/framework-1209db46d4125fe1693d.js" async=""></script><script src="/webpack-runtime-a75f05e36f46543ad1b3.js" async=""></script></body></html>